(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function E_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uh={exports:{}},Yo={},ch={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function w_(){if(zp)return Ce;zp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function b(D,K,de){this.props=D,this.context=K,this.refs=B,this.updater=de||L}b.prototype.isReactComponent={},b.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},b.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=b.prototype;function Z(D,K,de){this.props=D,this.context=K,this.refs=B,this.updater=de||L}var ne=Z.prototype=new W;ne.constructor=Z,U(ne,b.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,Se=Object.prototype.hasOwnProperty,Ee={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function T(D,K,de){var Ie,Ae={},xe=null,Me=null;if(K!=null)for(Ie in K.ref!==void 0&&(Me=K.ref),K.key!==void 0&&(xe=""+K.key),K)Se.call(K,Ie)&&!V.hasOwnProperty(Ie)&&(Ae[Ie]=K[Ie]);var Fe=arguments.length-2;if(Fe===1)Ae.children=de;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Ae.children=Be}if(D&&D.defaultProps)for(Ie in Fe=D.defaultProps,Fe)Ae[Ie]===void 0&&(Ae[Ie]=Fe[Ie]);return{$$typeof:i,type:D,key:xe,ref:Me,props:Ae,_owner:Ee.current}}function A(D,K){return{$$typeof:i,type:D.type,key:K,ref:D.ref,props:D.props,_owner:D._owner}}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function x(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return K[de]})}var O=/\/+/g;function C(D,K){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):K.toString(36)}function Ke(D,K,de,Ie,Ae){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case i:case e:Me=!0}}if(Me)return Me=D,Ae=Ae(Me),D=Ie===""?"."+C(Me,0):Ie,he(Ae)?(de="",D!=null&&(de=D.replace(O,"$&/")+"/"),Ke(Ae,K,de,"",function(gt){return gt})):Ae!=null&&(P(Ae)&&(Ae=A(Ae,de+(!Ae.key||Me&&Me.key===Ae.key?"":(""+Ae.key).replace(O,"$&/")+"/")+D)),K.push(Ae)),1;if(Me=0,Ie=Ie===""?".":Ie+":",he(D))for(var Fe=0;Fe<D.length;Fe++){xe=D[Fe];var Be=Ie+C(xe,Fe);Me+=Ke(xe,K,de,Be,Ae)}else if(Be=R(D),typeof Be=="function")for(D=Be.call(D),Fe=0;!(xe=D.next()).done;)xe=xe.value,Be=Ie+C(xe,Fe++),Me+=Ke(xe,K,de,Be,Ae);else if(xe==="object")throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(D,K,de){if(D==null)return D;var Ie=[],Ae=0;return Ke(D,Ie,"","",function(xe){return K.call(de,xe,Ae++)}),Ie}function xt(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var be={current:null},te={transition:null},pe={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:te,ReactCurrentOwner:Ee};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:kt,forEach:function(D,K,de){kt(D,function(){K.apply(this,arguments)},de)},count:function(D){var K=0;return kt(D,function(){K++}),K},toArray:function(D){return kt(D,function(K){return K})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ce.Component=b,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=Z,Ce.StrictMode=s,Ce.Suspense=g,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ce.act=ie,Ce.cloneElement=function(D,K,de){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ie=U({},D.props),Ae=D.key,xe=D.ref,Me=D._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,Me=Ee.current),K.key!==void 0&&(Ae=""+K.key),D.type&&D.type.defaultProps)var Fe=D.type.defaultProps;for(Be in K)Se.call(K,Be)&&!V.hasOwnProperty(Be)&&(Ie[Be]=K[Be]===void 0&&Fe!==void 0?Fe[Be]:K[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=de;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:i,type:D.type,key:Ae,ref:xe,props:Ie,_owner:Me}},Ce.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},Ce.createElement=T,Ce.createFactory=function(D){var K=T.bind(null,D);return K.type=D,K},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=P,Ce.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:xt}},Ce.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},Ce.startTransition=function(D){var K=te.transition;te.transition={};try{D()}finally{te.transition=K}},Ce.unstable_act=ie,Ce.useCallback=function(D,K){return be.current.useCallback(D,K)},Ce.useContext=function(D){return be.current.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D){return be.current.useDeferredValue(D)},Ce.useEffect=function(D,K){return be.current.useEffect(D,K)},Ce.useId=function(){return be.current.useId()},Ce.useImperativeHandle=function(D,K,de){return be.current.useImperativeHandle(D,K,de)},Ce.useInsertionEffect=function(D,K){return be.current.useInsertionEffect(D,K)},Ce.useLayoutEffect=function(D,K){return be.current.useLayoutEffect(D,K)},Ce.useMemo=function(D,K){return be.current.useMemo(D,K)},Ce.useReducer=function(D,K,de){return be.current.useReducer(D,K,de)},Ce.useRef=function(D){return be.current.useRef(D)},Ce.useState=function(D){return be.current.useState(D)},Ce.useSyncExternalStore=function(D,K,de){return be.current.useSyncExternalStore(D,K,de)},Ce.useTransition=function(){return be.current.useTransition()},Ce.version="18.3.1",Ce}var bp;function qh(){return bp||(bp=1,ch.exports=w_()),ch.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function T_(){if(jp)return Yo;jp=1;var i=qh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var w,S={},R=null,L=null;v!==void 0&&(R=""+v),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(L=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(S[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)S[w]===void 0&&(S[w]=g[w]);return{$$typeof:e,type:m,key:R,ref:L,props:S,_owner:a.current}}return Yo.Fragment=n,Yo.jsx=h,Yo.jsxs=h,Yo}var Bp;function S_(){return Bp||(Bp=1,uh.exports=T_()),uh.exports}var ue=S_(),jl={},hh={exports:{}},Gt={},dh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function I_(){return $p||($p=1,function(i){function e(te,pe){var ie=te.length;te.push(pe);e:for(;0<ie;){var D=ie-1>>>1,K=te[D];if(0<a(K,pe))te[D]=pe,te[ie]=K,ie=D;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var pe=te[0],ie=te.pop();if(ie!==pe){te[0]=ie;e:for(var D=0,K=te.length,de=K>>>1;D<de;){var Ie=2*(D+1)-1,Ae=te[Ie],xe=Ie+1,Me=te[xe];if(0>a(Ae,ie))xe<K&&0>a(Me,Ae)?(te[D]=Me,te[xe]=ie,D=xe):(te[D]=Ae,te[Ie]=ie,D=Ie);else if(xe<K&&0>a(Me,ie))te[D]=Me,te[xe]=ie,D=xe;else break e}}return pe}function a(te,pe){var ie=te.sortIndex-pe.sortIndex;return ie!==0?ie:te.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],w=1,S=null,R=3,L=!1,U=!1,B=!1,b=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(te){for(var pe=n(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=te)s(v),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(v)}}function he(te){if(B=!1,ne(te),!U)if(n(g)!==null)U=!0,xt(Se);else{var pe=n(v);pe!==null&&be(he,pe.startTime-te)}}function Se(te,pe){U=!1,B&&(B=!1,W(T),T=-1),L=!0;var ie=R;try{for(ne(pe),S=n(g);S!==null&&(!(S.expirationTime>pe)||te&&!x());){var D=S.callback;if(typeof D=="function"){S.callback=null,R=S.priorityLevel;var K=D(S.expirationTime<=pe);pe=i.unstable_now(),typeof K=="function"?S.callback=K:S===n(g)&&s(g),ne(pe)}else s(g);S=n(g)}if(S!==null)var de=!0;else{var Ie=n(v);Ie!==null&&be(he,Ie.startTime-pe),de=!1}return de}finally{S=null,R=ie,L=!1}}var Ee=!1,V=null,T=-1,A=5,P=-1;function x(){return!(i.unstable_now()-P<A)}function O(){if(V!==null){var te=i.unstable_now();P=te;var pe=!0;try{pe=V(!0,te)}finally{pe?C():(Ee=!1,V=null)}}else Ee=!1}var C;if(typeof Z=="function")C=function(){Z(O)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,kt=Ke.port2;Ke.port1.onmessage=O,C=function(){kt.postMessage(null)}}else C=function(){b(O,0)};function xt(te){V=te,Ee||(Ee=!0,C())}function be(te,pe){T=b(function(){te(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){U||L||(U=!0,xt(Se))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(R){case 1:case 2:case 3:var pe=3;break;default:pe=R}var ie=R;R=pe;try{return te()}finally{R=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=R;R=te;try{return pe()}finally{R=ie}},i.unstable_scheduleCallback=function(te,pe,ie){var D=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?D+ie:D):ie=D,te){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,te={id:w++,callback:pe,priorityLevel:te,startTime:ie,expirationTime:K,sortIndex:-1},ie>D?(te.sortIndex=ie,e(v,te),n(g)===null&&te===n(v)&&(B?(W(T),T=-1):B=!0,be(he,ie-D))):(te.sortIndex=K,e(g,te),U||L||(U=!0,xt(Se))),te},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(te){var pe=R;return function(){var ie=R;R=pe;try{return te.apply(this,arguments)}finally{R=ie}}}}(fh)),fh}var Hp;function A_(){return Hp||(Hp=1,dh.exports=I_()),dh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function C_(){if(Wp)return Gt;Wp=1;var i=qh(),e=A_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function R(t){return g.call(S,t)?!0:g.call(w,t)?!1:v.test(t)?S[t]=!0:(w[t]=!0,!1)}function L(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U(t,r,o,c){if(r===null||typeof r>"u"||L(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function B(t,r,o,c,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new B(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new B(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new B(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new B(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new B(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new B(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new B(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new B(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new B(t,5,!1,t.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function Z(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(W,Z);b[r]=new B(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(W,Z);b[r]=new B(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(W,Z);b[r]=new B(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new B(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new B(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,c){var d=b.hasOwnProperty(r)?b[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(U(r,o,d,c)&&(o=null),c||d===null?R(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var he=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),x=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),te=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,D;function K(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var de=!1;function Ie(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var c=j}Reflect.construct(t,[],r)}else{try{r.call()}catch(j){c=j}t.call(r.prototype)}else{try{throw Error()}catch(j){c=j}t()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var d=j.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,I=p.length-1;1<=_&&0<=I&&d[_]!==p[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==p[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==p[I]){var k=`
`+d[_].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=_&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?K(t):""}function Ae(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ee:return"Portal";case A:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case Ke:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=gt(t))}function Hi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Be(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function si(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Wi(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function no(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function ro(t,r){no(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?qi(t,r.type,o):r.hasOwnProperty("defaultValue")&&qi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ca(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function qi(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jn=Array.isArray;function Zn(t,r,o,c){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function io(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ki(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Qi(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function so(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,oo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ai=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(t){ai.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),oi[r]=oi[t]})});function ao(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||oi.hasOwnProperty(t)&&oi[t]?(""+r).trim():r+"px"}function lo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=ao(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,d):t[o]=d}}var uo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(t,r){if(r){if(uo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ho(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var li=null;function Gi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,sn=null,Dn=null;function Yi(t){if(t=Mo(t)){if(typeof Xi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=nl(r),Xi(t.stateNode,t.type,r))}}function Ln(t){sn?Dn?Dn.push(t):Dn=[t]:sn=t}function fo(){if(sn){var t=sn,r=Dn;if(Dn=sn=null,Yi(t),r)for(t=0;t<r.length;t++)Yi(r[t])}}function ui(t,r){return t(r)}function po(){}var tr=!1;function mo(t,r,o){if(tr)return t(r,o);tr=!0;try{return ui(t,r,o)}finally{tr=!1,(sn!==null||Dn!==null)&&(po(),fo())}}function tt(t,r){var o=t.stateNode;if(o===null)return null;var c=nl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Ji=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Ji=!1}function ci(t,r,o,c,d,p,_,I,k){var j=Array.prototype.slice.call(arguments,3);try{r.apply(o,j)}catch(G){this.onError(G)}}var hi=!1,Zi=null,vn=!1,go=null,Fu={onError:function(t){hi=!0,Zi=t}};function es(t,r,o,c,d,p,_,I,k){hi=!1,Zi=null,ci.apply(Fu,arguments)}function Ra(t,r,o,c,d,p,_,I,k){if(es.apply(this,arguments),hi){if(hi){var j=Zi;hi=!1,Zi=null}else throw Error(n(198));vn||(vn=!0,go=j)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function di(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(_n(t)!==t)throw Error(n(188))}function Pa(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return En(d),t;if(p===c)return En(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=p;else{for(var _=!1,I=d.child;I;){if(I===o){_=!0,o=d,c=p;break}if(I===c){_=!0,c=d,o=p;break}I=I.sibling}if(!_){for(I=p.child;I;){if(I===o){_=!0,o=p,c=d;break}if(I===c){_=!0,c=p,o=d;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function yo(t){return t=Pa(t),t!==null?ts(t):null}function ts(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ts(t);if(r!==null)return r;t=t.sibling}return null}var ns=e.unstable_scheduleCallback,vo=e.unstable_cancelCallback,ka=e.unstable_shouldYield,Uu=e.unstable_requestPaint,$e=e.unstable_now,xa=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,_o=e.unstable_LowPriority,Va=e.unstable_IdlePriority,pi=null,Yt=null;function Na(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:La,Eo=Math.log,Da=Math.LN2;function La(t){return t>>>=0,t===0?32:31-(Eo(t)/Da|0)|0}var rs=64,is=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~d;I!==0?c=Ir(I):(p&=_,p!==0&&(c=Ir(p)))}else _=o&~d,_!==0?c=Ir(_):p!==0&&(c=Ir(p));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-Ut(r),d=1<<o,c|=t[o],r&=~d;return c}function zu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),I=1<<_,k=d[_];k===-1?(!(I&o)||I&c)&&(d[_]=zu(I,r)):k<=r&&(t.expiredLanes|=I),p&=~I}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gi(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Ar(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Cr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Ut(o),p=1<<d;r[d]=0,c[d]=-1,t[d]=-1,o&=~p}}function Rr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-Ut(o),d=1<<c;d&r|t[c]&r&&(t[c]|=r),o&=~d}}var Pe=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oa,ss,Ma,Fa,Ua,wo=!1,On=[],Tt=null,wn=null,Tn=null,kr=new Map,an=new Map,Mn=[],bu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function za(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function Bt(t,r,o,c,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Mo(r),r!==null&&ss(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function ju(t,r,o,c,d){switch(r){case"focusin":return Tt=Bt(Tt,t,r,o,c,d),!0;case"dragenter":return wn=Bt(wn,t,r,o,c,d),!0;case"mouseover":return Tn=Bt(Tn,t,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return kr.set(p,Bt(kr.get(p)||null,t,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,an.set(p,Bt(an.get(p)||null,t,r,o,c,d)),!0}return!1}function ba(t){var r=wi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=di(o),r!==null){t.blockedOn=r,Ua(t.priority,function(){Ma(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=os(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);li=c,o.target.dispatchEvent(c),li=null}else return r=Mo(o),r!==null&&ss(r),t.blockedOn=o,!1;r.shift()}return!0}function yi(t,r,o){rr(t)&&o.delete(r)}function ja(){wo=!1,Tt!==null&&rr(Tt)&&(Tt=null),wn!==null&&rr(wn)&&(wn=null),Tn!==null&&rr(Tn)&&(Tn=null),kr.forEach(yi),an.forEach(yi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,wo||(wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ja)))}function In(t){function r(d){return Sn(d,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var c=On[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),kr.forEach(r),an.forEach(r),o=0;o<Mn.length;o++)c=Mn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)ba(o),o.blockedOn===null&&Mn.shift()}var ir=he.ReactCurrentBatchConfig,xr=!0;function Qe(t,r,o,c){var d=Pe,p=ir.transition;ir.transition=null;try{Pe=1,To(t,r,o,c)}finally{Pe=d,ir.transition=p}}function Bu(t,r,o,c){var d=Pe,p=ir.transition;ir.transition=null;try{Pe=4,To(t,r,o,c)}finally{Pe=d,ir.transition=p}}function To(t,r,o,c){if(xr){var d=os(t,r,o,c);if(d===null)Zu(t,r,c,vi,o),za(t,c);else if(ju(d,t,r,o,c))c.stopPropagation();else if(za(t,c),r&4&&-1<bu.indexOf(t)){for(;d!==null;){var p=Mo(d);if(p!==null&&Oa(p),p=os(t,r,o,c),p===null&&Zu(t,r,c,vi,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Zu(t,r,c,null,o)}}var vi=null;function os(t,r,o,c){if(vi=null,t=Gi(c),t=wi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=di(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return vi=t,null}function So(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xa()){case fi:return 1;case Sr:return 4;case on:case _o:return 16;case Va:return 536870912;default:return 16}default:return 16}}var Zt=null,as=null,$t=null;function Io(){if($t)return $t;var t,r=as,o=r.length,c,d="value"in Zt?Zt.value:Zt.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===d[p-c];c++);return $t=d.slice(t,1<c?1-c:void 0)}function ls(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Ao(){return!1}function St(t){function r(o,c,d,p,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:Ao,this.isPropagationStopped=Ao,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=St(An),Un=ie({},An,{view:0,detail:0}),$u=St(Un),cs,sr,Vr,_i=ie({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(cs=t.screenX-Vr.screenX,sr=t.screenY-Vr.screenY):sr=cs=0,Vr=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),hs=St(_i),Co=ie({},_i,{dataTransfer:0}),Ba=St(Co),ds=ie({},Un,{relatedTarget:0}),fs=St(ds),$a=ie({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),or=St($a),Ha=ie({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wa=St(Ha),qa=ie({},An,{data:0}),Ro=St(qa),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ka[t])?!!r[t]:!1}function zn(){return Qa}var l=ie({},Un,{key:function(t){if(t.key){var r=ps[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=St(l),y=ie({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=ie({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),$=St(M),ee=ie({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=St(ee),ut=ie({},_i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=St(ut),yt=[9,13,27,32],it=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,Ei=m&&(!it||ln&&8<ln&&11>=ln),ms=" ",Nd=!1;function Dd(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function vv(t,r){switch(t){case"compositionend":return Ld(r);case"keypress":return r.which!==32?null:(Nd=!0,ms);case"textInput":return t=r.data,t===ms&&Nd?null:t;default:return null}}function _v(t,r){if(gs)return t==="compositionend"||!it&&Dd(t,r)?(t=Io(),$t=as=Zt=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ei&&r.locale!=="ko"?null:r.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ev[t.type]:r==="textarea"}function Md(t,r,o,c){Ln(c),r=Za(r,"onChange"),0<r.length&&(o=new us("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Po=null,ko=null;function wv(t){ef(t,0)}function Ga(t){var r=ws(t);if(Hi(r))return t}function Tv(t,r){if(t==="change")return r}var Fd=!1;if(m){var Hu;if(m){var Wu="oninput"in document;if(!Wu){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Wu=typeof Ud.oninput=="function"}Hu=Wu}else Hu=!1;Fd=Hu&&(!document.documentMode||9<document.documentMode)}function zd(){Po&&(Po.detachEvent("onpropertychange",bd),ko=Po=null)}function bd(t){if(t.propertyName==="value"&&Ga(ko)){var r=[];Md(r,ko,t,Gi(t)),mo(wv,r)}}function Sv(t,r,o){t==="focusin"?(zd(),Po=r,ko=o,Po.attachEvent("onpropertychange",bd)):t==="focusout"&&zd()}function Iv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(ko)}function Av(t,r){if(t==="click")return Ga(r)}function Cv(t,r){if(t==="input"||t==="change")return Ga(r)}function Rv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Rv;function xo(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!g.call(r,d)||!Cn(t[d],r[d]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bd(t,r){var o=jd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jd(o)}}function $d(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$d(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Hd(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Pv(t){var r=Hd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&$d(o.ownerDocument.documentElement,o)){if(c!==null&&qu(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!t.extend&&p>c&&(d=c,c=p,p=d),d=Bd(o,p);var _=Bd(o,c);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kv=m&&"documentMode"in document&&11>=document.documentMode,ys=null,Ku=null,Vo=null,Qu=!1;function Wd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qu||ys==null||ys!==wr(c)||(c=ys,"selectionStart"in c&&qu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vo&&xo(Vo,c)||(Vo=c,c=Za(Ku,"onSelect"),0<c.length&&(r=new us("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=ys)))}function Xa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var vs={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},Gu={},qd={};m&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ya(t){if(Gu[t])return Gu[t];if(!vs[t])return t;var r=vs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in qd)return Gu[t]=r[o];return t}var Kd=Ya("animationend"),Qd=Ya("animationiteration"),Gd=Ya("animationstart"),Xd=Ya("transitionend"),Yd=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,r){Yd.set(t,r),u(r,[t])}for(var Xu=0;Xu<Jd.length;Xu++){var Yu=Jd[Xu],xv=Yu.toLowerCase(),Vv=Yu[0].toUpperCase()+Yu.slice(1);Nr(xv,"on"+Vv)}Nr(Kd,"onAnimationEnd"),Nr(Qd,"onAnimationIteration"),Nr(Gd,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Xd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Zd(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ra(c,r,void 0,t),t.currentTarget=null}function ef(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],k=I.instance,j=I.currentTarget;if(I=I.listener,k!==p&&d.isPropagationStopped())break e;Zd(d,I,j),p=k}else for(_=0;_<c.length;_++){if(I=c[_],k=I.instance,j=I.currentTarget,I=I.listener,k!==p&&d.isPropagationStopped())break e;Zd(d,I,j),p=k}}}if(vn)throw t=go,vn=!1,go=null,t}function We(t,r){var o=r[sc];o===void 0&&(o=r[sc]=new Set);var c=t+"__bubble";o.has(c)||(tf(r,t,2,!1),o.add(c))}function Ju(t,r,o){var c=0;r&&(c|=4),tf(o,t,c,r)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Do(t){if(!t[Ja]){t[Ja]=!0,s.forEach(function(o){o!=="selectionchange"&&(Nv.has(o)||Ju(o,!1,t),Ju(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ja]||(r[Ja]=!0,Ju("selectionchange",!1,r))}}function tf(t,r,o,c){switch(So(r)){case 1:var d=Qe;break;case 4:d=Bu;break;default:d=To}o=d.bind(null,r,o,t),d=void 0,!Ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function Zu(t,r,o,c,d){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;_=_.return}for(;I!==null;){if(_=wi(I),_===null)return;if(k=_.tag,k===5||k===6){c=p=_;continue e}I=I.parentNode}}c=c.return}mo(function(){var j=p,G=Gi(o),Y=[];e:{var Q=Yd.get(t);if(Q!==void 0){var re=us,ae=t;switch(t){case"keypress":if(ls(o)===0)break e;case"keydown":case"keyup":re=f;break;case"focusin":ae="focus",re=fs;break;case"focusout":ae="blur",re=fs;break;case"beforeblur":case"afterblur":re=fs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=$;break;case Kd:case Qd:case Gd:re=or;break;case Xd:re=ze;break;case"scroll":re=$u;break;case"wheel":re=Ve;break;case"copy":case"cut":case"paste":re=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var le=(r&4)!==0,nt=!le&&t==="scroll",F=le?Q!==null?Q+"Capture":null:Q;le=[];for(var N=j,z;N!==null;){z=N;var J=z.stateNode;if(z.tag===5&&J!==null&&(z=J,F!==null&&(J=tt(N,F),J!=null&&le.push(Lo(N,J,z)))),nt)break;N=N.return}0<le.length&&(Q=new re(Q,ae,null,o,G),Y.push({event:Q,listeners:le}))}}if(!(r&7)){e:{if(Q=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",Q&&o!==li&&(ae=o.relatedTarget||o.fromElement)&&(wi(ae)||ae[ar]))break e;if((re||Q)&&(Q=G.window===G?G:(Q=G.ownerDocument)?Q.defaultView||Q.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=j,ae=ae?wi(ae):null,ae!==null&&(nt=_n(ae),ae!==nt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=j),re!==ae)){if(le=hs,J="onMouseLeave",F="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,J="onPointerLeave",F="onPointerEnter",N="pointer"),nt=re==null?Q:ws(re),z=ae==null?Q:ws(ae),Q=new le(J,N+"leave",re,o,G),Q.target=nt,Q.relatedTarget=z,J=null,wi(G)===j&&(le=new le(F,N+"enter",ae,o,G),le.target=z,le.relatedTarget=nt,J=le),nt=J,re&&ae)t:{for(le=re,F=ae,N=0,z=le;z;z=_s(z))N++;for(z=0,J=F;J;J=_s(J))z++;for(;0<N-z;)le=_s(le),N--;for(;0<z-N;)F=_s(F),z--;for(;N--;){if(le===F||F!==null&&le===F.alternate)break t;le=_s(le),F=_s(F)}le=null}else le=null;re!==null&&nf(Y,Q,re,le,!1),ae!==null&&nt!==null&&nf(Y,nt,ae,le,!0)}}e:{if(Q=j?ws(j):window,re=Q.nodeName&&Q.nodeName.toLowerCase(),re==="select"||re==="input"&&Q.type==="file")var ce=Tv;else if(Od(Q))if(Fd)ce=Cv;else{ce=Iv;var me=Sv}else(re=Q.nodeName)&&re.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ce=Av);if(ce&&(ce=ce(t,j))){Md(Y,ce,o,G);break e}me&&me(t,Q,j),t==="focusout"&&(me=Q._wrapperState)&&me.controlled&&Q.type==="number"&&qi(Q,"number",Q.value)}switch(me=j?ws(j):window,t){case"focusin":(Od(me)||me.contentEditable==="true")&&(ys=me,Ku=j,Vo=null);break;case"focusout":Vo=Ku=ys=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Wd(Y,o,G);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":Wd(Y,o,G)}var ge;if(it)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else gs?Dd(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(Ei&&o.locale!=="ko"&&(gs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&gs&&(ge=Io()):(Zt=G,as="value"in Zt?Zt.value:Zt.textContent,gs=!0)),me=Za(j,_e),0<me.length&&(_e=new Ro(_e,t,null,o,G),Y.push({event:_e,listeners:me}),ge?_e.data=ge:(ge=Ld(o),ge!==null&&(_e.data=ge)))),(ge=en?vv(t,o):_v(t,o))&&(j=Za(j,"onBeforeInput"),0<j.length&&(G=new Ro("onBeforeInput","beforeinput",null,o,G),Y.push({event:G,listeners:j}),G.data=ge))}ef(Y,r)})}function Lo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Za(t,r){for(var o=r+"Capture",c=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=tt(t,o),p!=null&&c.unshift(Lo(t,p,d)),p=tt(t,r),p!=null&&c.push(Lo(t,p,d))),t=t.return}return c}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nf(t,r,o,c,d){for(var p=r._reactName,_=[];o!==null&&o!==c;){var I=o,k=I.alternate,j=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&j!==null&&(I=j,d?(k=tt(o,p),k!=null&&_.unshift(Lo(o,k,I))):d||(k=tt(o,p),k!=null&&_.push(Lo(o,k,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Dv=/\r\n?/g,Lv=/\u0000|\uFFFD/g;function rf(t){return(typeof t=="string"?t:""+t).replace(Dv,`
`).replace(Lv,"")}function el(t,r,o){if(r=rf(r),rf(t)!==r&&o)throw Error(n(425))}function tl(){}var ec=null,tc=null;function nc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(t){return sf.resolve(null).then(t).catch(Fv)}:rc;function Fv(t){setTimeout(function(){throw t})}function ic(t,r){var o=r,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){t.removeChild(d),In(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);In(r)}function Dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function of(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Es=Math.random().toString(36).slice(2),bn="__reactFiber$"+Es,Oo="__reactProps$"+Es,ar="__reactContainer$"+Es,sc="__reactEvents$"+Es,Uv="__reactListeners$"+Es,zv="__reactHandles$"+Es;function wi(t){var r=t[bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=of(t);t!==null;){if(o=t[bn])return o;t=of(t)}return r}t=o,o=t.parentNode}return null}function Mo(t){return t=t[bn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function nl(t){return t[Oo]||null}var oc=[],Ts=-1;function Lr(t){return{current:t}}function qe(t){0>Ts||(t.current=oc[Ts],oc[Ts]=null,Ts--)}function He(t,r){Ts++,oc[Ts]=t.current,t.current=r}var Or={},Vt=Lr(Or),Ht=Lr(!1),Ti=Or;function Ss(t,r){var o=t.type.contextTypes;if(!o)return Or;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Wt(t){return t=t.childContextTypes,t!=null}function rl(){qe(Ht),qe(Vt)}function af(t,r,o){if(Vt.current!==Or)throw Error(n(168));He(Vt,r),He(Ht,o)}function lf(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,Me(t)||"Unknown",d));return ie({},o,c)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,Ti=Vt.current,He(Vt,t),He(Ht,Ht.current),!0}function uf(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=lf(t,r,Ti),c.__reactInternalMemoizedMergedChildContext=t,qe(Ht),qe(Vt),He(Vt,t)):qe(Ht),He(Ht,o)}var lr=null,sl=!1,ac=!1;function cf(t){lr===null?lr=[t]:lr.push(t)}function bv(t){sl=!0,cf(t)}function Mr(){if(!ac&&lr!==null){ac=!0;var t=0,r=Pe;try{var o=lr;for(Pe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}lr=null,sl=!1}catch(d){throw lr!==null&&(lr=lr.slice(t+1)),ns(fi,Mr),d}finally{Pe=r,ac=!1}}return null}var Is=[],As=0,ol=null,al=0,un=[],cn=0,Si=null,ur=1,cr="";function Ii(t,r){Is[As++]=al,Is[As++]=ol,ol=t,al=r}function hf(t,r,o){un[cn++]=ur,un[cn++]=cr,un[cn++]=Si,Si=t;var c=ur;t=cr;var d=32-Ut(c)-1;c&=~(1<<d),o+=1;var p=32-Ut(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,ur=1<<32-Ut(r)+d|o<<d|c,cr=p+t}else ur=1<<p|o<<d|c,cr=t}function lc(t){t.return!==null&&(Ii(t,1),hf(t,1,0))}function uc(t){for(;t===ol;)ol=Is[--As],Is[As]=null,al=Is[--As],Is[As]=null;for(;t===Si;)Si=un[--cn],un[cn]=null,cr=un[--cn],un[cn]=null,ur=un[--cn],un[cn]=null}var tn=null,nn=null,Ge=!1,Rn=null;function df(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ff(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Si!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function cc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hc(t){if(Ge){var r=nn;if(r){var o=r;if(!ff(t,r)){if(cc(t))throw Error(n(418));r=Dr(o.nextSibling);var c=tn;r&&ff(t,r)?df(c,o):(t.flags=t.flags&-4097|2,Ge=!1,tn=t)}}else{if(cc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,tn=t}}}function pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function ll(t){if(t!==tn)return!1;if(!Ge)return pf(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!nc(t.type,t.memoizedProps)),r&&(r=nn)){if(cc(t))throw mf(),Error(n(418));for(;r;)df(t,r),r=Dr(r.nextSibling)}if(pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Dr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Dr(t.stateNode.nextSibling):null;return!0}function mf(){for(var t=nn;t;)t=Dr(t.nextSibling)}function Cs(){nn=tn=null,Ge=!1}function dc(t){Rn===null?Rn=[t]:Rn.push(t)}var jv=he.ReactCurrentBatchConfig;function Fo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var d=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var I=d.refs;_===null?delete I[p]:I[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ul(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function gf(t){var r=t._init;return r(t._payload)}function yf(t){function r(F,N){if(t){var z=F.deletions;z===null?(F.deletions=[N],F.flags|=16):z.push(N)}}function o(F,N){if(!t)return null;for(;N!==null;)r(F,N),N=N.sibling;return null}function c(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function d(F,N){return F=Hr(F,N),F.index=0,F.sibling=null,F}function p(F,N,z){return F.index=z,t?(z=F.alternate,z!==null?(z=z.index,z<N?(F.flags|=2,N):z):(F.flags|=2,N)):(F.flags|=1048576,N)}function _(F){return t&&F.alternate===null&&(F.flags|=2),F}function I(F,N,z,J){return N===null||N.tag!==6?(N=rh(z,F.mode,J),N.return=F,N):(N=d(N,z),N.return=F,N)}function k(F,N,z,J){var ce=z.type;return ce===V?G(F,N,z.props.children,J,z.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xt&&gf(ce)===N.type)?(J=d(N,z.props),J.ref=Fo(F,N,z),J.return=F,J):(J=Dl(z.type,z.key,z.props,null,F.mode,J),J.ref=Fo(F,N,z),J.return=F,J)}function j(F,N,z,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=ih(z,F.mode,J),N.return=F,N):(N=d(N,z.children||[]),N.return=F,N)}function G(F,N,z,J,ce){return N===null||N.tag!==7?(N=Ni(z,F.mode,J,ce),N.return=F,N):(N=d(N,z),N.return=F,N)}function Y(F,N,z){if(typeof N=="string"&&N!==""||typeof N=="number")return N=rh(""+N,F.mode,z),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Se:return z=Dl(N.type,N.key,N.props,null,F.mode,z),z.ref=Fo(F,null,N),z.return=F,z;case Ee:return N=ih(N,F.mode,z),N.return=F,N;case xt:var J=N._init;return Y(F,J(N._payload),z)}if(Jn(N)||pe(N))return N=Ni(N,F.mode,z,null),N.return=F,N;ul(F,N)}return null}function Q(F,N,z,J){var ce=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ce!==null?null:I(F,N,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:return z.key===ce?k(F,N,z,J):null;case Ee:return z.key===ce?j(F,N,z,J):null;case xt:return ce=z._init,Q(F,N,ce(z._payload),J)}if(Jn(z)||pe(z))return ce!==null?null:G(F,N,z,J,null);ul(F,z)}return null}function re(F,N,z,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number")return F=F.get(z)||null,I(N,F,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Se:return F=F.get(J.key===null?z:J.key)||null,k(N,F,J,ce);case Ee:return F=F.get(J.key===null?z:J.key)||null,j(N,F,J,ce);case xt:var me=J._init;return re(F,N,z,me(J._payload),ce)}if(Jn(J)||pe(J))return F=F.get(z)||null,G(N,F,J,ce,null);ul(N,J)}return null}function ae(F,N,z,J){for(var ce=null,me=null,ge=N,_e=N=0,Et=null;ge!==null&&_e<z.length;_e++){ge.index>_e?(Et=ge,ge=null):Et=ge.sibling;var Oe=Q(F,ge,z[_e],J);if(Oe===null){ge===null&&(ge=Et);break}t&&ge&&Oe.alternate===null&&r(F,ge),N=p(Oe,N,_e),me===null?ce=Oe:me.sibling=Oe,me=Oe,ge=Et}if(_e===z.length)return o(F,ge),Ge&&Ii(F,_e),ce;if(ge===null){for(;_e<z.length;_e++)ge=Y(F,z[_e],J),ge!==null&&(N=p(ge,N,_e),me===null?ce=ge:me.sibling=ge,me=ge);return Ge&&Ii(F,_e),ce}for(ge=c(F,ge);_e<z.length;_e++)Et=re(ge,F,_e,z[_e],J),Et!==null&&(t&&Et.alternate!==null&&ge.delete(Et.key===null?_e:Et.key),N=p(Et,N,_e),me===null?ce=Et:me.sibling=Et,me=Et);return t&&ge.forEach(function(Wr){return r(F,Wr)}),Ge&&Ii(F,_e),ce}function le(F,N,z,J){var ce=pe(z);if(typeof ce!="function")throw Error(n(150));if(z=ce.call(z),z==null)throw Error(n(151));for(var me=ce=null,ge=N,_e=N=0,Et=null,Oe=z.next();ge!==null&&!Oe.done;_e++,Oe=z.next()){ge.index>_e?(Et=ge,ge=null):Et=ge.sibling;var Wr=Q(F,ge,Oe.value,J);if(Wr===null){ge===null&&(ge=Et);break}t&&ge&&Wr.alternate===null&&r(F,ge),N=p(Wr,N,_e),me===null?ce=Wr:me.sibling=Wr,me=Wr,ge=Et}if(Oe.done)return o(F,ge),Ge&&Ii(F,_e),ce;if(ge===null){for(;!Oe.done;_e++,Oe=z.next())Oe=Y(F,Oe.value,J),Oe!==null&&(N=p(Oe,N,_e),me===null?ce=Oe:me.sibling=Oe,me=Oe);return Ge&&Ii(F,_e),ce}for(ge=c(F,ge);!Oe.done;_e++,Oe=z.next())Oe=re(ge,F,_e,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?_e:Oe.key),N=p(Oe,N,_e),me===null?ce=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(__){return r(F,__)}),Ge&&Ii(F,_e),ce}function nt(F,N,z,J){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:e:{for(var ce=z.key,me=N;me!==null;){if(me.key===ce){if(ce=z.type,ce===V){if(me.tag===7){o(F,me.sibling),N=d(me,z.props.children),N.return=F,F=N;break e}}else if(me.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xt&&gf(ce)===me.type){o(F,me.sibling),N=d(me,z.props),N.ref=Fo(F,me,z),N.return=F,F=N;break e}o(F,me);break}else r(F,me);me=me.sibling}z.type===V?(N=Ni(z.props.children,F.mode,J,z.key),N.return=F,F=N):(J=Dl(z.type,z.key,z.props,null,F.mode,J),J.ref=Fo(F,N,z),J.return=F,F=J)}return _(F);case Ee:e:{for(me=z.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){o(F,N.sibling),N=d(N,z.children||[]),N.return=F,F=N;break e}else{o(F,N);break}else r(F,N);N=N.sibling}N=ih(z,F.mode,J),N.return=F,F=N}return _(F);case xt:return me=z._init,nt(F,N,me(z._payload),J)}if(Jn(z))return ae(F,N,z,J);if(pe(z))return le(F,N,z,J);ul(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,N!==null&&N.tag===6?(o(F,N.sibling),N=d(N,z),N.return=F,F=N):(o(F,N),N=rh(z,F.mode,J),N.return=F,F=N),_(F)):o(F,N)}return nt}var Rs=yf(!0),vf=yf(!1),cl=Lr(null),hl=null,Ps=null,fc=null;function pc(){fc=Ps=hl=null}function mc(t){var r=cl.current;qe(cl),t._currentValue=r}function gc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function ks(t,r){hl=t,fc=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(fc!==t)if(t={context:t,memoizedValue:r,next:null},Ps===null){if(hl===null)throw Error(n(308));Ps=t,hl.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return r}var Ai=null;function yc(t){Ai===null?Ai=[t]:Ai.push(t)}function _f(t,r,o,c){var d=r.interleaved;return d===null?(o.next=o,yc(r)):(o.next=d.next,d.next=o),r.interleaved=o,hr(t,c)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,hr(t,o)}return d=c.interleaved,d===null?(r.next=r,yc(c)):(r.next=d.next,d.next=r),c.interleaved=r,hr(t,o)}function dl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Rr(t,o)}}function wf(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function fl(t,r,o,c){var d=t.updateQueue;Fr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,j=k.next;k.next=null,_===null?p=j:_.next=j,_=k;var G=t.alternate;G!==null&&(G=G.updateQueue,I=G.lastBaseUpdate,I!==_&&(I===null?G.firstBaseUpdate=j:I.next=j,G.lastBaseUpdate=k))}if(p!==null){var Y=d.baseState;_=0,G=j=k=null,I=p;do{var Q=I.lane,re=I.eventTime;if((c&Q)===Q){G!==null&&(G=G.next={eventTime:re,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ae=t,le=I;switch(Q=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(re,Y,Q);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,Q=typeof ae=="function"?ae.call(re,Y,Q):ae,Q==null)break e;Y=ie({},Y,Q);break e;case 2:Fr=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,Q=d.effects,Q===null?d.effects=[I]:Q.push(I))}else re={eventTime:re,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},G===null?(j=G=re,k=Y):G=G.next=re,_|=Q;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Q=I,I=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(G===null&&(k=Y),d.baseState=k,d.firstBaseUpdate=j,d.lastBaseUpdate=G,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Pi|=_,t.lanes=_,t.memoizedState=Y}}function Tf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Uo={},jn=Lr(Uo),zo=Lr(Uo),bo=Lr(Uo);function Ci(t){if(t===Uo)throw Error(n(174));return t}function _c(t,r){switch(He(bo,r),He(zo,t),He(jn,Uo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}qe(jn),He(jn,r)}function xs(){qe(jn),qe(zo),qe(bo)}function Sf(t){Ci(bo.current);var r=Ci(jn.current),o=lt(r,t.type);r!==o&&(He(zo,t),He(jn,o))}function Ec(t){zo.current===t&&(qe(jn),qe(zo))}var Ye=Lr(0);function pl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var wc=[];function Tc(){for(var t=0;t<wc.length;t++)wc[t]._workInProgressVersionPrimary=null;wc.length=0}var ml=he.ReactCurrentDispatcher,Sc=he.ReactCurrentBatchConfig,Ri=0,Je=null,ct=null,vt=null,gl=!1,jo=!1,Bo=0,Bv=0;function Nt(){throw Error(n(321))}function Ic(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function Ac(t,r,o,c,d,p){if(Ri=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ml.current=t===null||t.memoizedState===null?qv:Kv,t=o(c,d),jo){p=0;do{if(jo=!1,Bo=0,25<=p)throw Error(n(301));p+=1,vt=ct=null,r.updateQueue=null,ml.current=Qv,t=o(c,d)}while(jo)}if(ml.current=_l,r=ct!==null&&ct.next!==null,Ri=0,vt=ct=Je=null,gl=!1,r)throw Error(n(300));return t}function Cc(){var t=Bo!==0;return Bo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Je.memoizedState=vt=t:vt=vt.next=t,vt}function dn(){if(ct===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=vt===null?Je.memoizedState:vt.next;if(r!==null)vt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},vt===null?Je.memoizedState=vt=t:vt=vt.next=t}return vt}function $o(t,r){return typeof r=="function"?r(t):r}function Rc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=ct,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var I=_=null,k=null,j=p;do{var G=j.lane;if((Ri&G)===G)k!==null&&(k=k.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:t(c,j.action);else{var Y={lane:G,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};k===null?(I=k=Y,_=c):k=k.next=Y,Je.lanes|=G,Pi|=G}j=j.next}while(j!==null&&j!==p);k===null?_=c:k.next=I,Cn(c,r.memoizedState)||(qt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=k,o.lastRenderedState=c}if(t=o.interleaved,t!==null){d=t;do p=d.lane,Je.lanes|=p,Pi|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Pc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=t(p,_.action),_=_.next;while(_!==d);Cn(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function If(){}function Af(t,r){var o=Je,c=dn(),d=r(),p=!Cn(c.memoizedState,d);if(p&&(c.memoizedState=d,qt=!0),c=c.queue,kc(Pf.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,Ho(9,Rf.bind(null,o,c,d,r),void 0,null),_t===null)throw Error(n(349));Ri&30||Cf(o,r,d)}return d}function Cf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Rf(t,r,o,c){r.value=o,r.getSnapshot=c,kf(r)&&xf(t)}function Pf(t,r,o){return o(function(){kf(r)&&xf(t)})}function kf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function xf(t){var r=hr(t,1);r!==null&&Vn(r,t,1,-1)}function Vf(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},r.queue=t,t=t.dispatch=Wv.bind(null,Je,t),[r.memoizedState,t]}function Ho(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Nf(){return dn().memoizedState}function yl(t,r,o,c){var d=Bn();Je.flags|=t,d.memoizedState=Ho(1|r,o,void 0,c===void 0?null:c)}function vl(t,r,o,c){var d=dn();c=c===void 0?null:c;var p=void 0;if(ct!==null){var _=ct.memoizedState;if(p=_.destroy,c!==null&&Ic(c,_.deps)){d.memoizedState=Ho(r,o,p,c);return}}Je.flags|=t,d.memoizedState=Ho(1|r,o,p,c)}function Df(t,r){return yl(8390656,8,t,r)}function kc(t,r){return vl(2048,8,t,r)}function Lf(t,r){return vl(4,2,t,r)}function Of(t,r){return vl(4,4,t,r)}function Mf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ff(t,r,o){return o=o!=null?o.concat([t]):null,vl(4,4,Mf.bind(null,r,t),o)}function xc(){}function Uf(t,r){var o=dn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Ic(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function zf(t,r){var o=dn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Ic(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function bf(t,r,o){return Ri&21?(Cn(o,r)||(o=gi(),Je.lanes|=o,Pi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function $v(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var c=Sc.transition;Sc.transition={};try{t(!1),r()}finally{Pe=o,Sc.transition=c}}function jf(){return dn().memoizedState}function Hv(t,r,o){var c=Br(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Bf(t))$f(r,o);else if(o=_f(t,r,o,c),o!==null){var d=jt();Vn(o,t,c,d),Hf(o,r,c)}}function Wv(t,r,o){var c=Br(t),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bf(t))$f(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,I=p(_,o);if(d.hasEagerState=!0,d.eagerState=I,Cn(I,_)){var k=r.interleaved;k===null?(d.next=d,yc(r)):(d.next=k.next,k.next=d),r.interleaved=d;return}}catch{}finally{}o=_f(t,r,d,c),o!==null&&(d=jt(),Vn(o,t,c,d),Hf(o,r,c))}}function Bf(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function $f(t,r){jo=gl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Hf(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Rr(t,o)}}var _l={readContext:hn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},qv={readContext:hn,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Df,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,yl(4194308,4,Mf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return yl(4194308,4,t,r)},useInsertionEffect:function(t,r){return yl(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Bn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=Hv.bind(null,Je,t),[c.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:Vf,useDebugValue:xc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Vf(!1),r=t[0];return t=$v.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Je,d=Bn();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));Ri&30||Cf(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Df(Pf.bind(null,c,p,t),[t]),c.flags|=2048,Ho(9,Rf.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=_t.identifierPrefix;if(Ge){var o=cr,c=ur;o=(c&~(1<<32-Ut(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Bo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Bv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Kv={readContext:hn,useCallback:Uf,useContext:hn,useEffect:kc,useImperativeHandle:Ff,useInsertionEffect:Lf,useLayoutEffect:Of,useMemo:zf,useReducer:Rc,useRef:Nf,useState:function(){return Rc($o)},useDebugValue:xc,useDeferredValue:function(t){var r=dn();return bf(r,ct.memoizedState,t)},useTransition:function(){var t=Rc($o)[0],r=dn().memoizedState;return[t,r]},useMutableSource:If,useSyncExternalStore:Af,useId:jf,unstable_isNewReconciler:!1},Qv={readContext:hn,useCallback:Uf,useContext:hn,useEffect:kc,useImperativeHandle:Ff,useInsertionEffect:Lf,useLayoutEffect:Of,useMemo:zf,useReducer:Pc,useRef:Nf,useState:function(){return Pc($o)},useDebugValue:xc,useDeferredValue:function(t){var r=dn();return ct===null?r.memoizedState=t:bf(r,ct.memoizedState,t)},useTransition:function(){var t=Pc($o)[0],r=dn().memoizedState;return[t,r]},useMutableSource:If,useSyncExternalStore:Af,useId:jf,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Vc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var El={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=jt(),d=Br(t),p=dr(c,d);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,d),r!==null&&(Vn(r,t,d,c),dl(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=jt(),d=Br(t),p=dr(c,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,d),r!==null&&(Vn(r,t,d,c),dl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),c=Br(t),d=dr(o,c);d.tag=2,r!=null&&(d.callback=r),r=Ur(t,d,c),r!==null&&(Vn(r,t,c,o),dl(r,t,c))}};function Wf(t,r,o,c,d,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!xo(o,c)||!xo(d,p):!0}function qf(t,r,o){var c=!1,d=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(d=Wt(r)?Ti:Vt.current,c=r.contextTypes,p=(c=c!=null)?Ss(t,d):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=El,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Kf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&El.enqueueReplaceState(r,r.state,null)}function Nc(t,r,o,c){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},vc(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=hn(p):(p=Wt(r)?Ti:Vt.current,d.context=Ss(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Vc(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&El.enqueueReplaceState(d,d.state,null),fl(t,o,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Vs(t,r){try{var o="",c=r;do o+=Ae(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function Dc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Lc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Gv=typeof WeakMap=="function"?WeakMap:Map;function Qf(t,r,o){o=dr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Rl||(Rl=!0,Gc=c),Lc(t,r)},o}function Gf(t,r,o){o=dr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Lc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Lc(t,r),typeof c!="function"&&(br===null?br=new Set([this]):br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Xf(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Gv;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),t=u_.bind(null,t,r,o),r.then(t,t))}function Yf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Jf(t,r,o,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var Xv=he.ReactCurrentOwner,qt=!1;function bt(t,r,o,c){r.child=t===null?vf(r,null,o,c):Rs(r,t.child,o,c)}function Zf(t,r,o,c,d){o=o.render;var p=r.ref;return ks(r,d),c=Ac(t,r,o,c,p,d),o=Cc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,fr(t,r,d)):(Ge&&o&&lc(r),r.flags|=1,bt(t,r,c,d),r.child)}function ep(t,r,o,c,d){if(t===null){var p=o.type;return typeof p=="function"&&!nh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,tp(t,r,p,c,d)):(t=Dl(o.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:xo,o(_,c)&&t.ref===r.ref)return fr(t,r,d)}return r.flags|=1,t=Hr(p,c),t.ref=r.ref,t.return=r,r.child=t}function tp(t,r,o,c,d){if(t!==null){var p=t.memoizedProps;if(xo(p,c)&&t.ref===r.ref)if(qt=!1,r.pendingProps=c=p,(t.lanes&d)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,fr(t,r,d)}return Oc(t,r,o,c,d)}function np(t,r,o){var c=r.pendingProps,d=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ds,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Ds,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,He(Ds,rn),rn|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,He(Ds,rn),rn|=c;return bt(t,r,d,o),r.child}function rp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Oc(t,r,o,c,d){var p=Wt(o)?Ti:Vt.current;return p=Ss(r,p),ks(r,d),o=Ac(t,r,o,c,p,d),c=Cc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,fr(t,r,d)):(Ge&&c&&lc(r),r.flags|=1,bt(t,r,o,d),r.child)}function ip(t,r,o,c,d){if(Wt(o)){var p=!0;il(r)}else p=!1;if(ks(r,d),r.stateNode===null)Tl(t,r),qf(r,o,c),Nc(r,o,c,d),c=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var k=_.context,j=o.contextType;typeof j=="object"&&j!==null?j=hn(j):(j=Wt(o)?Ti:Vt.current,j=Ss(r,j));var G=o.getDerivedStateFromProps,Y=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||k!==j)&&Kf(r,_,c,j),Fr=!1;var Q=r.memoizedState;_.state=Q,fl(r,c,_,d),k=r.memoizedState,I!==c||Q!==k||Ht.current||Fr?(typeof G=="function"&&(Vc(r,o,G,c),k=r.memoizedState),(I=Fr||Wf(r,o,I,c,Q,k,j))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),_.props=c,_.state=k,_.context=j,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Ef(t,r),I=r.memoizedProps,j=r.type===r.elementType?I:Pn(r.type,I),_.props=j,Y=r.pendingProps,Q=_.context,k=o.contextType,typeof k=="object"&&k!==null?k=hn(k):(k=Wt(o)?Ti:Vt.current,k=Ss(r,k));var re=o.getDerivedStateFromProps;(G=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Y||Q!==k)&&Kf(r,_,c,k),Fr=!1,Q=r.memoizedState,_.state=Q,fl(r,c,_,d);var ae=r.memoizedState;I!==Y||Q!==ae||Ht.current||Fr?(typeof re=="function"&&(Vc(r,o,re,c),ae=r.memoizedState),(j=Fr||Wf(r,o,j,c,Q,ae,k)||!1)?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ae,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ae,k)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),_.props=c,_.state=ae,_.context=k,c=j):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),c=!1)}return Mc(t,r,o,c,p,d)}function Mc(t,r,o,c,d,p){rp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&uf(r,o,!1),fr(t,r,p);c=r.stateNode,Xv.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=Rs(r,t.child,null,p),r.child=Rs(r,null,I,p)):bt(t,r,I,p),r.memoizedState=c.state,d&&uf(r,o,!0),r.child}function sp(t){var r=t.stateNode;r.pendingContext?af(t,r.pendingContext,r.pendingContext!==r.context):r.context&&af(t,r.context,!1),_c(t,r.containerInfo)}function op(t,r,o,c,d){return Cs(),dc(d),r.flags|=256,bt(t,r,o,c),r.child}var Fc={dehydrated:null,treeContext:null,retryLane:0};function Uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function ap(t,r,o){var c=r.pendingProps,d=Ye.current,p=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(d&2)!==0),I?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),He(Ye,d&1),t===null)return hc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Ll(_,c,0,null),t=Ni(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Uc(o),r.memoizedState=Fc,t):zc(r,_));if(d=t.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return Yv(t,r,_,c,I,d,o);if(p){p=c.fallback,_=r.mode,d=t.child,I=d.sibling;var k={mode:"hidden",children:c.children};return!(_&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=Hr(d,k),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=Hr(I,p):(p=Ni(p,_,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=t.child.memoizedState,_=_===null?Uc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Fc,c}return p=t.child,t=p.sibling,c=Hr(p,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function zc(t,r){return r=Ll({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function wl(t,r,o,c){return c!==null&&dc(c),Rs(r,t.child,null,o),t=zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Yv(t,r,o,c,d,p,_){if(o)return r.flags&256?(r.flags&=-257,c=Dc(Error(n(422))),wl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=Ll({mode:"visible",children:c.children},d,0,null),p=Ni(p,d,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,r.mode&1&&Rs(r,t.child,null,_),r.child.memoizedState=Uc(_),r.memoizedState=Fc,p);if(!(r.mode&1))return wl(t,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(n(419)),c=Dc(p,c,void 0),wl(t,r,_,c)}if(I=(_&t.childLanes)!==0,qt||I){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,hr(t,d),Vn(c,t,d,-1))}return th(),c=Dc(Error(n(421))),wl(t,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=c_.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,nn=Dr(d.nextSibling),tn=r,Ge=!0,Rn=null,t!==null&&(un[cn++]=ur,un[cn++]=cr,un[cn++]=Si,ur=t.id,cr=t.overflow,Si=r),r=zc(r,c.children),r.flags|=4096,r)}function lp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),gc(t.return,r,o)}function bc(t,r,o,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function up(t,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(bt(t,r,c.children,o),c=Ye.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,o,r);else if(t.tag===19)lp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Ye,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&pl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),bc(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&pl(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}bc(r,!0,o,null,p);break;case"together":bc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Tl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Pi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Hr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Hr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Jv(t,r,o){switch(r.tag){case 3:sp(r),Cs();break;case 5:Sf(r);break;case 1:Wt(r.type)&&il(r);break;case 4:_c(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;He(cl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Ye,Ye.current&1),r.flags|=128,null):o&r.child.childLanes?ap(t,r,o):(He(Ye,Ye.current&1),t=fr(t,r,o),t!==null?t.sibling:null);He(Ye,Ye.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return up(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Ye,Ye.current),c)break;return null;case 22:case 23:return r.lanes=0,np(t,r,o)}return fr(t,r,o)}var cp,jc,hp,dp;cp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},jc=function(){},hp=function(t,r,o,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,Ci(jn.current);var p=null;switch(o){case"input":d=si(t,d),c=si(t,c),p=[];break;case"select":d=ie({},d,{value:void 0}),c=ie({},c,{value:void 0}),p=[];break;case"textarea":d=io(t,d),c=io(t,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=tl)}co(o,c);var _;o=null;for(j in d)if(!c.hasOwnProperty(j)&&d.hasOwnProperty(j)&&d[j]!=null)if(j==="style"){var I=d[j];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?p||(p=[]):(p=p||[]).push(j,null));for(j in c){var k=c[j];if(I=d!=null?d[j]:void 0,c.hasOwnProperty(j)&&k!==I&&(k!=null||I!=null))if(j==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||k&&k.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in k)k.hasOwnProperty(_)&&I[_]!==k[_]&&(o||(o={}),o[_]=k[_])}else o||(p||(p=[]),p.push(j,o)),o=k;else j==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(p=p||[]).push(j,k)):j==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push(j,""+k):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(k!=null&&j==="onScroll"&&We("scroll",t),p||I===k||(p=[])):(p=p||[]).push(j,k))}o&&(p=p||[]).push("style",o);var j=p;(r.updateQueue=j)&&(r.flags|=4)}},dp=function(t,r,o,c){o!==c&&(r.flags|=4)};function Wo(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Zv(t,r,o){var c=r.pendingProps;switch(uc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Wt(r.type)&&rl(),Dt(r),null;case 3:return c=r.stateNode,xs(),qe(Ht),qe(Vt),Tc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ll(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Rn!==null&&(Jc(Rn),Rn=null))),jc(t,r),Dt(r),null;case 5:Ec(r);var d=Ci(bo.current);if(o=r.type,t!==null&&r.stateNode!=null)hp(t,r,o,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Ci(jn.current),ll(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[bn]=r,c[Oo]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(d=0;d<No.length;d++)We(No[d],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":Wi(c,p),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},We("invalid",c);break;case"textarea":Ki(c,p),We("invalid",c)}co(o,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var I=p[_];_==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&el(c.textContent,I,t),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&el(c.textContent,I,t),d=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&We("scroll",c)}switch(o){case"input":Yn(c),Ca(c,p,!0);break;case"textarea":Yn(c),so(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=tl)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[bn]=r,t[Oo]=c,cp(t,r,!1,!1),r.stateNode=t;e:{switch(_=ho(o,c),o){case"dialog":We("cancel",t),We("close",t),d=c;break;case"iframe":case"object":case"embed":We("load",t),d=c;break;case"video":case"audio":for(d=0;d<No.length;d++)We(No[d],t);d=c;break;case"source":We("error",t),d=c;break;case"img":case"image":case"link":We("error",t),We("load",t),d=c;break;case"details":We("toggle",t),d=c;break;case"input":Wi(t,c),d=si(t,c),We("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=ie({},c,{value:void 0}),We("invalid",t);break;case"textarea":Ki(t,c),d=io(t,c),We("invalid",t);break;default:d=c}co(o,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var k=I[p];p==="style"?lo(t,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&oo(t,k)):p==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Tr(t,k):typeof k=="number"&&Tr(t,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?k!=null&&p==="onScroll"&&We("scroll",t):k!=null&&ne(t,p,k,_))}switch(o){case"input":Yn(t),Ca(t,c,!1);break;case"textarea":Yn(t),so(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?Zn(t,!!c.multiple,p,!1):c.defaultValue!=null&&Zn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=tl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)dp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ci(bo.current),Ci(jn.current),ll(r)){if(c=r.stateNode,o=r.memoizedProps,c[bn]=r,(p=c.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:el(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&el(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[bn]=r,r.stateNode=c}return Dt(r),null;case 13:if(qe(Ye),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&nn!==null&&r.mode&1&&!(r.flags&128))mf(),Cs(),r.flags|=98560,p=!1;else if(p=ll(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[bn]=r}else Cs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Rn!==null&&(Jc(Rn),Rn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Ye.current&1?ht===0&&(ht=3):th())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return xs(),jc(t,r),t===null&&Do(r.stateNode.containerInfo),Dt(r),null;case 10:return mc(r.type._context),Dt(r),null;case 17:return Wt(r.type)&&rl(),Dt(r),null;case 19:if(qe(Ye),p=r.memoizedState,p===null)return Dt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)Wo(p,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=pl(t),_!==null){for(r.flags|=128,Wo(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Ls&&(r.flags|=128,c=!0,Wo(p,!1),r.lanes=4194304)}else{if(!c)if(t=pl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Wo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ge)return Dt(r),null}else 2*$e()-p.renderingStartTime>Ls&&o!==1073741824&&(r.flags|=128,c=!0,Wo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ye.current,He(Ye,c?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return eh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function e_(t,r){switch(uc(r),r.tag){case 1:return Wt(r.type)&&rl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return xs(),qe(Ht),qe(Vt),Tc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ec(r),null;case 13:if(qe(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Cs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ye),null;case 4:return xs(),null;case 10:return mc(r.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var Sl=!1,Lt=!1,t_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ns(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){et(t,r,c)}else o.current=null}function Bc(t,r,o){try{o()}catch(c){et(t,r,c)}}var fp=!1;function n_(t,r){if(ec=xr,t=Hd(),qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,I=-1,k=-1,j=0,G=0,Y=t,Q=null;t:for(;;){for(var re;Y!==o||d!==0&&Y.nodeType!==3||(I=_+d),Y!==p||c!==0&&Y.nodeType!==3||(k=_+c),Y.nodeType===3&&(_+=Y.nodeValue.length),(re=Y.firstChild)!==null;)Q=Y,Y=re;for(;;){if(Y===t)break t;if(Q===o&&++j===d&&(I=_),Q===p&&++G===c&&(k=_),(re=Y.nextSibling)!==null)break;Y=Q,Q=Y.parentNode}Y=re}o=I===-1||k===-1?null:{start:I,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(tc={focusedElem:t,selectionRange:o},xr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,nt=ae.memoizedState,F=r.stateNode,N=F.getSnapshotBeforeUpdate(r.elementType===r.type?le:Pn(r.type,le),nt);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){et(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=fp,fp=!1,ae}function qo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Bc(r,o,p)}d=d.next}while(d!==c)}}function Il(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function $c(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function pp(t){var r=t.alternate;r!==null&&(t.alternate=null,pp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[bn],delete r[Oo],delete r[sc],delete r[Uv],delete r[zv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mp(t){return t.tag===5||t.tag===3||t.tag===4}function gp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=tl));else if(c!==4&&(t=t.child,t!==null))for(Hc(t,r,o),t=t.sibling;t!==null;)Hc(t,r,o),t=t.sibling}function Wc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Wc(t,r,o),t=t.sibling;t!==null;)Wc(t,r,o),t=t.sibling}var It=null,kn=!1;function zr(t,r,o){for(o=o.child;o!==null;)yp(t,r,o),o=o.sibling}function yp(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 5:Lt||Ns(o,r);case 6:var c=It,d=kn;It=null,zr(t,r,o),It=c,kn=d,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?ic(t.parentNode,o):t.nodeType===1&&ic(t,o),In(t)):ic(It,o.stateNode));break;case 4:c=It,d=kn,It=o.stateNode.containerInfo,kn=!0,zr(t,r,o),It=c,kn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Bc(o,r,_),d=d.next}while(d!==c)}zr(t,r,o);break;case 1:if(!Lt&&(Ns(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){et(o,r,I)}zr(t,r,o);break;case 21:zr(t,r,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,zr(t,r,o),Lt=c):zr(t,r,o);break;default:zr(t,r,o)}}function vp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new t_),r.forEach(function(c){var d=h_.bind(null,t,c);o.has(c)||(o.add(c),c.then(d,d))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:It=I.stateNode,kn=!1;break e;case 3:It=I.stateNode.containerInfo,kn=!0;break e;case 4:It=I.stateNode.containerInfo,kn=!0;break e}I=I.return}if(It===null)throw Error(n(160));yp(p,_,d),It=null,kn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(j){et(d,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)_p(r,t),r=r.sibling}function _p(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),c&4){try{qo(3,t,t.return),Il(3,t)}catch(le){et(t,t.return,le)}try{qo(5,t,t.return)}catch(le){et(t,t.return,le)}}break;case 1:xn(r,t),$n(t),c&512&&o!==null&&Ns(o,o.return);break;case 5:if(xn(r,t),$n(t),c&512&&o!==null&&Ns(o,o.return),t.flags&32){var d=t.stateNode;try{Tr(d,"")}catch(le){et(t,t.return,le)}}if(c&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,I=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&no(d,p),ho(I,_);var j=ho(I,p);for(_=0;_<k.length;_+=2){var G=k[_],Y=k[_+1];G==="style"?lo(d,Y):G==="dangerouslySetInnerHTML"?oo(d,Y):G==="children"?Tr(d,Y):ne(d,G,Y,j)}switch(I){case"input":ro(d,p);break;case"textarea":Qi(d,p);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Zn(d,!!p.multiple,re,!1):Q!==!!p.multiple&&(p.defaultValue!=null?Zn(d,!!p.multiple,p.defaultValue,!0):Zn(d,!!p.multiple,p.multiple?[]:"",!1))}d[Oo]=p}catch(le){et(t,t.return,le)}}break;case 6:if(xn(r,t),$n(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(le){et(t,t.return,le)}}break;case 3:if(xn(r,t),$n(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){et(t,t.return,le)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Qc=$e())),c&4&&vp(t);break;case 22:if(G=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(j=Lt)||G,xn(r,t),Lt=j):xn(r,t),$n(t),c&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!G&&t.mode&1)for(oe=t,G=t.child;G!==null;){for(Y=oe=G;oe!==null;){switch(Q=oe,re=Q.child,Q.tag){case 0:case 11:case 14:case 15:qo(4,Q,Q.return);break;case 1:Ns(Q,Q.return);var ae=Q.stateNode;if(typeof ae.componentWillUnmount=="function"){c=Q,o=Q.return;try{r=c,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){et(c,o,le)}}break;case 5:Ns(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Tp(Y);continue}}re!==null?(re.return=Q,oe=re):Tp(Y)}G=G.sibling}e:for(G=null,Y=t;;){if(Y.tag===5){if(G===null){G=Y;try{d=Y.stateNode,j?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Y.stateNode,k=Y.memoizedProps.style,_=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=ao("display",_))}catch(le){et(t,t.return,le)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=j?"":Y.memoizedProps}catch(le){et(t,t.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:xn(r,t),$n(t),c&4&&vp(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(mp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Tr(d,""),c.flags&=-33);var p=gp(t);Wc(t,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=gp(t);Hc(t,I,_);break;default:throw Error(n(161))}}catch(k){et(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function r_(t,r,o){oe=t,Ep(t)}function Ep(t,r,o){for(var c=(t.mode&1)!==0;oe!==null;){var d=oe,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Sl;if(!_){var I=d.alternate,k=I!==null&&I.memoizedState!==null||Lt;I=Sl;var j=Lt;if(Sl=_,(Lt=k)&&!j)for(oe=d;oe!==null;)_=oe,k=_.child,_.tag===22&&_.memoizedState!==null?Sp(d):k!==null?(k.return=_,oe=k):Sp(d);for(;p!==null;)oe=p,Ep(p),p=p.sibling;oe=d,Sl=I,Lt=j}wp(t)}else d.subtreeFlags&8772&&p!==null?(p.return=d,oe=p):wp(t)}}function wp(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||Il(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Tf(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Tf(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var G=j.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&In(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&$c(r)}catch(Q){et(r,r.return,Q)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Tp(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Sp(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Il(4,r)}catch(k){et(r,o,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(k){et(r,d,k)}}var p=r.return;try{$c(r)}catch(k){et(r,p,k)}break;case 5:var _=r.return;try{$c(r)}catch(k){et(r,_,k)}}}catch(k){et(r,r.return,k)}if(r===t){oe=null;break}var I=r.sibling;if(I!==null){I.return=r.return,oe=I;break}oe=r.return}}var i_=Math.ceil,Al=he.ReactCurrentDispatcher,qc=he.ReactCurrentOwner,fn=he.ReactCurrentBatchConfig,Le=0,_t=null,st=null,At=0,rn=0,Ds=Lr(0),ht=0,Ko=null,Pi=0,Cl=0,Kc=0,Qo=null,Kt=null,Qc=0,Ls=1/0,pr=null,Rl=!1,Gc=null,br=null,Pl=!1,jr=null,kl=0,Go=0,Xc=null,xl=-1,Vl=0;function jt(){return Le&6?$e():xl!==-1?xl:xl=$e()}function Br(t){return t.mode&1?Le&2&&At!==0?At&-At:jv.transition!==null?(Vl===0&&(Vl=gi()),Vl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:So(t.type)),t):1}function Vn(t,r,o,c){if(50<Go)throw Go=0,Xc=null,Error(n(185));Cr(t,o,c),(!(Le&2)||t!==_t)&&(t===_t&&(!(Le&2)&&(Cl|=o),ht===4&&$r(t,At)),Qt(t,c),o===1&&Le===0&&!(r.mode&1)&&(Ls=$e()+500,sl&&Mr()))}function Qt(t,r){var o=t.callbackNode;nr(t,r);var c=mi(t,t===_t?At:0);if(c===0)o!==null&&vo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&vo(o),r===1)t.tag===0?bv(Ap.bind(null,t)):cf(Ap.bind(null,t)),Mv(function(){!(Le&6)&&Mr()}),o=null;else{switch(Pr(c)){case 1:o=fi;break;case 4:o=Sr;break;case 16:o=on;break;case 536870912:o=Va;break;default:o=on}o=Dp(o,Ip.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Ip(t,r){if(xl=-1,Vl=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(Os()&&t.callbackNode!==o)return null;var c=mi(t,t===_t?At:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Nl(t,c);else{r=c;var d=Le;Le|=2;var p=Rp();(_t!==t||At!==r)&&(pr=null,Ls=$e()+500,xi(t,r));do try{a_();break}catch(I){Cp(t,I)}while(!0);pc(),Al.current=p,Le=d,st!==null?r=0:(_t=null,At=0,r=ht)}if(r!==0){if(r===2&&(d=Jt(t),d!==0&&(c=d,r=Yc(t,d))),r===1)throw o=Ko,xi(t,0),$r(t,c),Qt(t,$e()),o;if(r===6)$r(t,c);else{if(d=t.current.alternate,!(c&30)&&!s_(d)&&(r=Nl(t,c),r===2&&(p=Jt(t),p!==0&&(c=p,r=Yc(t,p))),r===1))throw o=Ko,xi(t,0),$r(t,c),Qt(t,$e()),o;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Vi(t,Kt,pr);break;case 3:if($r(t,c),(c&130023424)===c&&(r=Qc+500-$e(),10<r)){if(mi(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){jt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=rc(Vi.bind(null,t,Kt,pr),r);break}Vi(t,Kt,pr);break;case 4:if($r(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var _=31-Ut(c);p=1<<_,_=r[_],_>d&&(d=_),c&=~p}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*i_(c/1960))-c,10<c){t.timeoutHandle=rc(Vi.bind(null,t,Kt,pr),c);break}Vi(t,Kt,pr);break;case 5:Vi(t,Kt,pr);break;default:throw Error(n(329))}}}return Qt(t,$e()),t.callbackNode===o?Ip.bind(null,t):null}function Yc(t,r){var o=Qo;return t.current.memoizedState.isDehydrated&&(xi(t,r).flags|=256),t=Nl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&Jc(r)),t}function Jc(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function s_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Cn(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~Kc,r&=~Cl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),c=1<<o;t[o]=-1,r&=~c}}function Ap(t){if(Le&6)throw Error(n(327));Os();var r=mi(t,0);if(!(r&1))return Qt(t,$e()),null;var o=Nl(t,r);if(t.tag!==0&&o===2){var c=Jt(t);c!==0&&(r=c,o=Yc(t,c))}if(o===1)throw o=Ko,xi(t,0),$r(t,r),Qt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Vi(t,Kt,pr),Qt(t,$e()),null}function Zc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Ls=$e()+500,sl&&Mr())}}function ki(t){jr!==null&&jr.tag===0&&!(Le&6)&&Os();var r=Le;Le|=1;var o=fn.transition,c=Pe;try{if(fn.transition=null,Pe=1,t)return t()}finally{Pe=c,fn.transition=o,Le=r,!(Le&6)&&Mr()}}function eh(){rn=Ds.current,qe(Ds)}function xi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ov(o)),st!==null)for(o=st.return;o!==null;){var c=o;switch(uc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&rl();break;case 3:xs(),qe(Ht),qe(Vt),Tc();break;case 5:Ec(c);break;case 4:xs();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:mc(c.type._context);break;case 22:case 23:eh()}o=o.return}if(_t=t,st=t=Hr(t.current,null),At=rn=r,ht=0,Ko=null,Kc=Cl=Pi=0,Kt=Qo=null,Ai!==null){for(r=0;r<Ai.length;r++)if(o=Ai[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}o.pending=c}Ai=null}return t}function Cp(t,r){do{var o=st;try{if(pc(),ml.current=_l,gl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}gl=!1}if(Ri=0,vt=ct=Je=null,jo=!1,Bo=0,qc.current=null,o===null||o.return===null){ht=1,Ko=r,st=null;break}e:{var p=t,_=o.return,I=o,k=r;if(r=At,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var j=k,G=I,Y=G.tag;if(!(G.mode&1)&&(Y===0||Y===11||Y===15)){var Q=G.alternate;Q?(G.updateQueue=Q.updateQueue,G.memoizedState=Q.memoizedState,G.lanes=Q.lanes):(G.updateQueue=null,G.memoizedState=null)}var re=Yf(_);if(re!==null){re.flags&=-257,Jf(re,_,I,p,r),re.mode&1&&Xf(p,j,r),r=re,k=j;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(k),r.updateQueue=le}else ae.add(k);break e}else{if(!(r&1)){Xf(p,j,r),th();break e}k=Error(n(426))}}else if(Ge&&I.mode&1){var nt=Yf(_);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),Jf(nt,_,I,p,r),dc(Vs(k,I));break e}}p=k=Vs(k,I),ht!==4&&(ht=2),Qo===null?Qo=[p]:Qo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Qf(p,k,r);wf(p,F);break e;case 1:I=k;var N=p.type,z=p.stateNode;if(!(p.flags&128)&&(typeof N.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(br===null||!br.has(z)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=Gf(p,I,r);wf(p,J);break e}}p=p.return}while(p!==null)}kp(o)}catch(ce){r=ce,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function Rp(){var t=Al.current;return Al.current=_l,t===null?_l:t}function th(){(ht===0||ht===3||ht===2)&&(ht=4),_t===null||!(Pi&268435455)&&!(Cl&268435455)||$r(_t,At)}function Nl(t,r){var o=Le;Le|=2;var c=Rp();(_t!==t||At!==r)&&(pr=null,xi(t,r));do try{o_();break}catch(d){Cp(t,d)}while(!0);if(pc(),Le=o,Al.current=c,st!==null)throw Error(n(261));return _t=null,At=0,ht}function o_(){for(;st!==null;)Pp(st)}function a_(){for(;st!==null&&!ka();)Pp(st)}function Pp(t){var r=Np(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?kp(t):st=r,qc.current=null}function kp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=e_(o,r),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,st=null;return}}else if(o=Zv(o,r,rn),o!==null){st=o;return}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);ht===0&&(ht=5)}function Vi(t,r,o){var c=Pe,d=fn.transition;try{fn.transition=null,Pe=1,l_(t,r,o,c)}finally{fn.transition=d,Pe=c}return null}function l_(t,r,o,c){do Os();while(jr!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(je(t,p),t===_t&&(st=_t=null,At=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Pl||(Pl=!0,Dp(on,function(){return Os(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=fn.transition,fn.transition=null;var _=Pe;Pe=1;var I=Le;Le|=4,qc.current=null,n_(t,o),_p(o,t),Pv(tc),xr=!!ec,tc=ec=null,t.current=o,r_(o),Uu(),Le=I,Pe=_,fn.transition=p}else t.current=o;if(Pl&&(Pl=!1,jr=t,kl=d),p=t.pendingLanes,p===0&&(br=null),Na(o.stateNode),Qt(t,$e()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Rl)throw Rl=!1,t=Gc,Gc=null,t;return kl&1&&t.tag!==0&&Os(),p=t.pendingLanes,p&1?t===Xc?Go++:(Go=0,Xc=t):Go=0,Mr(),null}function Os(){if(jr!==null){var t=Pr(kl),r=fn.transition,o=Pe;try{if(fn.transition=null,Pe=16>t?16:t,jr===null)var c=!1;else{if(t=jr,jr=null,kl=0,Le&6)throw Error(n(331));var d=Le;for(Le|=4,oe=t.current;oe!==null;){var p=oe,_=p.child;if(oe.flags&16){var I=p.deletions;if(I!==null){for(var k=0;k<I.length;k++){var j=I[k];for(oe=j;oe!==null;){var G=oe;switch(G.tag){case 0:case 11:case 15:qo(8,G,p)}var Y=G.child;if(Y!==null)Y.return=G,oe=Y;else for(;oe!==null;){G=oe;var Q=G.sibling,re=G.return;if(pp(G),G===j){oe=null;break}if(Q!==null){Q.return=re,oe=Q;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var nt=le.sibling;le.sibling=null,le=nt}while(le!==null)}}oe=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:qo(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var N=t.current;for(oe=N;oe!==null;){_=oe;var z=_.child;if(_.subtreeFlags&2064&&z!==null)z.return=_,oe=z;else e:for(_=N;oe!==null;){if(I=oe,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Il(9,I)}}catch(ce){et(I,I.return,ce)}if(I===_){oe=null;break e}var J=I.sibling;if(J!==null){J.return=I.return,oe=J;break e}oe=I.return}}if(Le=d,Mr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(pi,t)}catch{}c=!0}return c}finally{Pe=o,fn.transition=r}}return!1}function xp(t,r,o){r=Vs(o,r),r=Qf(t,r,1),t=Ur(t,r,1),r=jt(),t!==null&&(Cr(t,1,r),Qt(t,r))}function et(t,r,o){if(t.tag===3)xp(t,t,o);else for(;r!==null;){if(r.tag===3){xp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(br===null||!br.has(c))){t=Vs(o,t),t=Gf(r,t,1),r=Ur(r,t,1),t=jt(),r!==null&&(Cr(r,1,t),Qt(r,t));break}}r=r.return}}function u_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(At&o)===o&&(ht===4||ht===3&&(At&130023424)===At&&500>$e()-Qc?xi(t,0):Kc|=o),Qt(t,r)}function Vp(t,r){r===0&&(t.mode&1?(r=is,is<<=1,!(is&130023424)&&(is=4194304)):r=1);var o=jt();t=hr(t,r),t!==null&&(Cr(t,r,o),Qt(t,o))}function c_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Vp(t,o)}function h_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Vp(t,o)}var Np;Np=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,Jv(t,r,o);qt=!!(t.flags&131072)}else qt=!1,Ge&&r.flags&1048576&&hf(r,al,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Tl(t,r),t=r.pendingProps;var d=Ss(r,Vt.current);ks(r,o),d=Ac(null,r,c,t,d,o);var p=Cc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(c)?(p=!0,il(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,vc(r),d.updater=El,r.stateNode=d,d._reactInternals=r,Nc(r,c,t,o),r=Mc(null,r,c,!0,p,o)):(r.tag=0,Ge&&p&&lc(r),bt(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Tl(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=f_(c),t=Pn(c,t),d){case 0:r=Oc(null,r,c,t,o);break e;case 1:r=ip(null,r,c,t,o);break e;case 11:r=Zf(null,r,c,t,o);break e;case 14:r=ep(null,r,c,Pn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Pn(c,d),Oc(t,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Pn(c,d),ip(t,r,c,d,o);case 3:e:{if(sp(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,d=p.element,Ef(t,r),fl(r,c,null,o);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=Vs(Error(n(423)),r),r=op(t,r,c,o,d);break e}else if(c!==d){d=Vs(Error(n(424)),r),r=op(t,r,c,o,d);break e}else for(nn=Dr(r.stateNode.containerInfo.firstChild),tn=r,Ge=!0,Rn=null,o=vf(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cs(),c===d){r=fr(t,r,o);break e}bt(t,r,c,o)}r=r.child}return r;case 5:return Sf(r),t===null&&hc(r),c=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,_=d.children,nc(c,d)?_=null:p!==null&&nc(c,p)&&(r.flags|=32),rp(t,r),bt(t,r,_,o),r.child;case 6:return t===null&&hc(r),null;case 13:return ap(t,r,o);case 4:return _c(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Rs(r,null,c,o):bt(t,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Pn(c,d),Zf(t,r,c,d,o);case 7:return bt(t,r,r.pendingProps,o),r.child;case 8:return bt(t,r,r.pendingProps.children,o),r.child;case 12:return bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,He(cl,c._currentValue),c._currentValue=_,p!==null)if(Cn(p.value,_)){if(p.children===d.children&&!Ht.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){_=p.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(p.tag===1){k=dr(-1,o&-o),k.tag=2;var j=p.updateQueue;if(j!==null){j=j.shared;var G=j.pending;G===null?k.next=k:(k.next=G.next,G.next=k),j.pending=k}}p.lanes|=o,k=p.alternate,k!==null&&(k.lanes|=o),gc(p.return,o,r),I.lanes|=o;break}k=k.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),gc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}bt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,ks(r,o),d=hn(d),c=c(d),r.flags|=1,bt(t,r,c,o),r.child;case 14:return c=r.type,d=Pn(c,r.pendingProps),d=Pn(c.type,d),ep(t,r,c,d,o);case 15:return tp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Pn(c,d),Tl(t,r),r.tag=1,Wt(c)?(t=!0,il(r)):t=!1,ks(r,o),qf(r,c,d),Nc(r,c,d,o),Mc(null,r,c,!0,t,o);case 19:return up(t,r,o);case 22:return np(t,r,o)}throw Error(n(156,r.tag))};function Dp(t,r){return ns(t,r)}function d_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,c){return new d_(t,r,o,c)}function nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f_(t){if(typeof t=="function")return nh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function Hr(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Dl(t,r,o,c,d,p){var _=2;if(c=t,typeof t=="function")nh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Ni(o.children,d,p,r);case T:_=8,d|=8;break;case A:return t=pn(12,o,r,d|2),t.elementType=A,t.lanes=p,t;case C:return t=pn(13,o,r,d),t.elementType=C,t.lanes=p,t;case Ke:return t=pn(19,o,r,d),t.elementType=Ke,t.lanes=p,t;case be:return Ll(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case x:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(_,o,r,d),r.elementType=t,r.type=c,r.lanes=p,r}function Ni(t,r,o,c){return t=pn(7,t,c,r),t.lanes=o,t}function Ll(t,r,o,c){return t=pn(22,t,c,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function rh(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function ih(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function p_(t,r,o,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ar(0),this.expirationTimes=Ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function sh(t,r,o,c,d,p,_,I,k){return t=new p_(t,r,o,I,k),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(p),t}function m_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Lp(t){if(!t)return Or;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Wt(o))return lf(t,o,r)}return r}function Op(t,r,o,c,d,p,_,I,k){return t=sh(o,c,!0,t,d,p,_,I,k),t.context=Lp(null),o=t.current,c=jt(),d=Br(o),p=dr(c,d),p.callback=r??null,Ur(o,p,d),t.current.lanes=d,Cr(t,d,c),Qt(t,c),t}function Ol(t,r,o,c){var d=r.current,p=jt(),_=Br(d);return o=Lp(o),r.context===null?r.context=o:r.pendingContext=o,r=dr(p,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Ur(d,r,_),t!==null&&(Vn(t,d,_,p),dl(t,d,_)),_}function Ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function oh(t,r){Mp(t,r),(t=t.alternate)&&Mp(t,r)}var Fp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ah(t){this._internalRoot=t}Fl.prototype.render=ah.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ol(t,r,null,null)},Fl.prototype.unmount=ah.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ki(function(){Ol(null,t,null,null)}),r[ar]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Fa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&ba(t)}};function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Up(){}function g_(t,r,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var j=Ml(_);p.call(j)}}var _=Op(r,c,t,0,null,!1,!1,"",Up);return t._reactRootContainer=_,t[ar]=_.current,Do(t.nodeType===8?t.parentNode:t),ki(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var j=Ml(k);I.call(j)}}var k=sh(t,0,!1,null,null,!1,!1,"",Up);return t._reactRootContainer=k,t[ar]=k.current,Do(t.nodeType===8?t.parentNode:t),ki(function(){Ol(r,k,o,c)}),k}function zl(t,r,o,c,d){var p=o._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var I=d;d=function(){var k=Ml(_);I.call(k)}}Ol(r,_,t,d)}else _=g_(o,r,t,d,c);return Ml(_)}Oa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Rr(r,o|1),Qt(r,$e()),!(Le&6)&&(Ls=$e()+500,Mr()))}break;case 13:ki(function(){var c=hr(t,1);if(c!==null){var d=jt();Vn(c,t,1,d)}}),oh(t,1)}},ss=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=jt();Vn(r,t,134217728,o)}oh(t,134217728)}},Ma=function(t){if(t.tag===13){var r=Br(t),o=hr(t,r);if(o!==null){var c=jt();Vn(o,t,r,c)}oh(t,r)}},Fa=function(){return Pe},Ua=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},Xi=function(t,r,o){switch(r){case"input":if(ro(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var d=nl(c);if(!d)throw Error(n(90));Hi(c),ro(c,d)}}}break;case"textarea":Qi(t,o);break;case"select":r=o.value,r!=null&&Zn(t,!!o.multiple,r,!1)}},ui=Zc,po=ki;var y_={usingClientEntryPoint:!1,Events:[Mo,ws,nl,Ln,fo,Zc]},Xo={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yo(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{pi=bl.inject(v_),Yt=bl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lh(r))throw Error(n(200));return m_(t,r,null,o)},Gt.createRoot=function(t,r){if(!lh(t))throw Error(n(299));var o=!1,c="",d=Fp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=sh(t,1,!1,null,null,o,!1,c,d),t[ar]=r.current,Do(t.nodeType===8?t.parentNode:t),new ah(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=yo(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return ki(t)},Gt.hydrate=function(t,r,o){if(!Ul(r))throw Error(n(200));return zl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!lh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",_=Fp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Op(r,null,t,1,o??null,d,!1,p,_),t[ar]=r.current,Do(t),c)for(t=0;t<c.length;t++)o=c[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Fl(r)},Gt.render=function(t,r,o){if(!Ul(r))throw Error(n(200));return zl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(n(40));return t._reactRootContainer?(ki(function(){zl(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},Gt.unstable_batchedUpdates=Zc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Ul(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return zl(t,r,o,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var qp;function R_(){if(qp)return hh.exports;qp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hh.exports=C_(),hh.exports}var Kp;function P_(){if(Kp)return jl;Kp=1;var i=R_();return jl.createRoot=i.createRoot,jl.hydrateRoot=i.hydrateRoot,jl}var k_=P_(),H=qh();const Oi=E_(H);var Jo={},Qp;function x_(){if(Qp)return Jo;Qp=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.parse=h,Jo.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,L){const U=new u,B=R.length;if(B<2)return U;const b=(L==null?void 0:L.decode)||w;let W=0;do{const Z=R.indexOf("=",W);if(Z===-1)break;const ne=R.indexOf(";",W),he=ne===-1?B:ne;if(Z>he){W=R.lastIndexOf(";",Z-1)+1;continue}const Se=m(R,W,Z),Ee=g(R,Z,Se),V=R.slice(Se,Ee);if(U[V]===void 0){let T=m(R,Z+1,he),A=g(R,he,T);const P=b(R.slice(T,A));U[V]=P}W=he+1}while(W<B);return U}function m(R,L,U){do{const B=R.charCodeAt(L);if(B!==32&&B!==9)return L}while(++L<U);return U}function g(R,L,U){for(;L>U;){const B=R.charCodeAt(--L);if(B!==32&&B!==9)return L+1}return U}function v(R,L,U){const B=(U==null?void 0:U.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const b=B(L);if(!e.test(b))throw new TypeError(`argument val is invalid: ${L}`);let W=R+"="+b;if(!U)return W;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);W+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);W+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);W+="; Path="+U.path}if(U.expires){if(!S(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);W+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(W+="; HttpOnly"),U.secure&&(W+="; Secure"),U.partitioned&&(W+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return W}function w(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return a.call(R)==="[object Date]"}return Jo}x_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gp="popstate";function V_(i={}){function e(s,a){let{pathname:u,search:h,hash:m}=s.location;return Ih("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:la(a)}return D_(e,n,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Kn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N_(){return Math.random().toString(36).substring(2,10)}function Xp(i,e){return{usr:i.state,key:i.key,idx:e}}function Ih(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:n,key:e&&e.key||s||N_()}}function la({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function va(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function D_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,m="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function S(){m="POP";let b=w(),W=b==null?null:b-v;v=b,g&&g({action:m,location:B.location,delta:W})}function R(b,W){m="PUSH";let Z=Ih(B.location,b,W);v=w()+1;let ne=Xp(Z,v),he=B.createHref(Z);try{h.pushState(ne,"",he)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;a.location.assign(he)}u&&g&&g({action:m,location:B.location,delta:1})}function L(b,W){m="REPLACE";let Z=Ih(B.location,b,W);v=w();let ne=Xp(Z,v),he=B.createHref(Z);h.replaceState(ne,"",he),u&&g&&g({action:m,location:B.location,delta:0})}function U(b){let W=a.location.origin!=="null"?a.location.origin:a.location.href,Z=typeof b=="string"?b:la(b);return Z=Z.replace(/ $/,"%20"),ft(W,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,W)}let B={get action(){return m},get location(){return i(a,h)},listen(b){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Gp,S),g=b,()=>{a.removeEventListener(Gp,S),g=null}},createHref(b){return e(a,b)},createURL:U,encodeLocation(b){let W=U(b);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:R,replace:L,go(b){return h.go(b)}};return B}function lg(i,e,n="/"){return L_(i,e,n,!1)}function L_(i,e,n,s){let a=typeof e=="string"?va(e):e,u=Jr(a.pathname||"/",n);if(u==null)return null;let h=ug(i);O_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=q_(u);m=H_(h[g],v,s)}return m}function ug(i,e=[],n=[],s=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(ft(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=mr([s,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ug(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:B_(v,u.index),routesMeta:w})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of cg(u.path))a(u,h,g)}),e}function cg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=cg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function O_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:$_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var M_=/^:[\w-]+$/,F_=3,U_=2,z_=1,b_=10,j_=-2,Yp=i=>i==="*";function B_(i,e){let n=i.split("/"),s=n.length;return n.some(Yp)&&(s+=j_),e&&(s+=U_),n.filter(a=>!Yp(a)).reduce((a,u)=>a+(M_.test(u)?F_:u===""?z_:b_),s)}function $_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function H_(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",S=nu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),R=g.route;if(!S&&v&&n&&!s[s.length-1].route.index&&(S=nu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:mr([u,S.pathname]),pathnameBase:X_(mr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=mr([u,S.pathnameBase]))}return h}function nu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=W_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:S},R)=>{if(w==="*"){let U=m[R]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const L=m[R];return S&&!L?v[w]=void 0:v[w]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function W_(i,e=!1,n=!0){Kn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function q_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Jr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function K_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?va(i):i;return{pathname:n?n.startsWith("/")?n:Q_(n,e):e,search:Y_(s),hash:J_(a)}}function Q_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ph(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hg(i){let e=G_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dg(i,e,n,s=!1){let a;typeof i=="string"?a=va(i):(a={...i},ft(!a.pathname||!a.pathname.includes("?"),ph("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),ph("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),ph("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),S-=1;a.pathname=R.join("/")}m=S>=0?e[S]:"/"}let g=K_(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),X_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Y_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,J_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Z_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var fg=["POST","PUT","PATCH","DELETE"];new Set(fg);var e0=["GET",...fg];new Set(e0);var Xs=H.createContext(null);Xs.displayName="DataRouter";var wu=H.createContext(null);wu.displayName="DataRouterState";var pg=H.createContext({isTransitioning:!1});pg.displayName="ViewTransition";var t0=H.createContext(new Map);t0.displayName="Fetchers";var n0=H.createContext(null);n0.displayName="Await";var Xn=H.createContext(null);Xn.displayName="Navigation";var Tu=H.createContext(null);Tu.displayName="Location";var Er=H.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var Kh=H.createContext(null);Kh.displayName="RouteError";function r0(i,{relative:e}={}){ft(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Xn),{hash:a,pathname:u,search:h}=Ea(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:h,hash:a})}function _a(){return H.useContext(Tu)!=null}function zi(){return ft(_a(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Tu).location}var mg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gg(i){H.useContext(Xn).static||H.useLayoutEffect(i)}function i0(){let{isDataRoute:i}=H.useContext(Er);return i?y0():s0()}function s0(){ft(_a(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(Xs),{basename:e,navigator:n}=H.useContext(Xn),{matches:s}=H.useContext(Er),{pathname:a}=zi(),u=JSON.stringify(hg(s)),h=H.useRef(!1);return gg(()=>{h.current=!0}),H.useCallback((g,v={})=>{if(Kn(h.current,mg),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=dg(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:mr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,u,a,i])}H.createContext(null);function Ea(i,{relative:e}={}){let{matches:n}=H.useContext(Er),{pathname:s}=zi(),a=JSON.stringify(hg(n));return H.useMemo(()=>dg(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function o0(i,e,n,s){ft(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=H.useContext(Xn),{matches:u}=H.useContext(Er),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let W=w&&w.path||"";yg(g,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=zi(),R;R=S;let L=R.pathname||"/",U=L;if(v!=="/"){let W=v.replace(/^\//,"").split("/");U="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let B=lg(i,{pathname:U});return Kn(w||B!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Kn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),h0(B&&B.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:mr([v,a.encodeLocation?a.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:mr([v,a.encodeLocation?a.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s)}function a0(){let i=g0(),e=Z_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,h)}var l0=H.createElement(a0,null),u0=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Er.Provider,{value:this.props.routeContext},H.createElement(Kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c0({routeContext:i,match:e,children:n}){let s=H.useContext(Xs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Er.Provider,{value:i},n)}function h0(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:S}=n,R=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||R){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let S,R=!1,L=null,U=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||l0,h&&(m<0&&w===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):m===w&&(R=!0,U=v.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,w+1)),b=()=>{let W;return S?W=L:R?W=U:v.route.Component?W=H.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,H.createElement(c0,{match:v,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:W})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?H.createElement(u0,{location:n.location,revalidation:n.revalidation,component:L,error:S,children:b(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):b()},null)}function Qh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(i){let e=H.useContext(Xs);return ft(e,Qh(i)),e}function f0(i){let e=H.useContext(wu);return ft(e,Qh(i)),e}function p0(i){let e=H.useContext(Er);return ft(e,Qh(i)),e}function Gh(i){let e=p0(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function m0(){return Gh("useRouteId")}function g0(){var s;let i=H.useContext(Kh),e=f0("useRouteError"),n=Gh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function y0(){let{router:i}=d0("useNavigate"),e=Gh("useNavigate"),n=H.useRef(!1);return gg(()=>{n.current=!0}),H.useCallback(async(a,u={})=>{Kn(n.current,mg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Jp={};function yg(i,e,n){!e&&!Jp[i]&&(Jp[i]=!0,Kn(!1,n))}H.memo(v0);function v0({routes:i,future:e,state:n}){return o0(i,void 0,n,e)}function _0({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){ft(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=va(n));let{pathname:g="/",search:v="",hash:w="",state:S=null,key:R="default"}=n,L=H.useMemo(()=>{let U=Jr(g,h);return U==null?null:{location:{pathname:U,search:v,hash:w,state:S,key:R},navigationType:s}},[h,g,v,w,S,R,s]);return Kn(L!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:H.createElement(Xn.Provider,{value:m},H.createElement(Tu.Provider,{children:e,value:L}))}var Ql="get",Gl="application/x-www-form-urlencoded";function Su(i){return i!=null&&typeof i.tagName=="string"}function E0(i){return Su(i)&&i.tagName.toLowerCase()==="button"}function w0(i){return Su(i)&&i.tagName.toLowerCase()==="form"}function T0(i){return Su(i)&&i.tagName.toLowerCase()==="input"}function S0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function I0(i,e){return i.button===0&&(!e||e==="_self")&&!S0(i)}var Bl=null;function A0(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var C0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(i){return i!=null&&!C0.has(i)?(Kn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gl}"`),null):i}function R0(i,e){let n,s,a,u,h;if(w0(i)){let m=i.getAttribute("action");s=m?Jr(m,e):null,n=i.getAttribute("method")||Ql,a=mh(i.getAttribute("enctype"))||Gl,u=new FormData(i)}else if(E0(i)||T0(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Jr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ql,a=mh(i.getAttribute("formenctype"))||mh(m.getAttribute("enctype"))||Gl,u=new FormData(m,i),!A0()){let{name:v,type:w,value:S}=i;if(w==="image"){let R=v?`${v}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else v&&u.append(v,S)}}else{if(Su(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ql,s=null,a=Gl,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function Xh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function P0(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function x0(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await P0(u,n);return h.links?h.links():[]}return[]}));return L0(s.flat(1).filter(k0).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Zp(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var w;return n[v].pathname!==g.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var S;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function V0(i,e){return N0(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function N0(i){return[...new Set(i)]}function D0(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function L0(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(D0(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function O0(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function M0(){let i=H.useContext(Xs);return Xh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function F0(){let i=H.useContext(wu);return Xh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yh=H.createContext(void 0);Yh.displayName="FrameworkContext";function vg(){let i=H.useContext(Yh);return Xh(i,"You must render this element inside a <HydratedRouter> element"),i}function U0(i,e){let n=H.useContext(Yh),[s,a]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:S}=e,R=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=W=>{W.forEach(Z=>{h(Z.isIntersecting)})},b=new IntersectionObserver(B,{threshold:.5});return R.current&&b.observe(R.current),()=>{b.disconnect()}}},[i]),H.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let L=()=>{a(!0)},U=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Zo(m,L),onBlur:Zo(g,U),onMouseEnter:Zo(v,L),onMouseLeave:Zo(w,U),onTouchStart:Zo(S,L)}]:[!1,R,{}]}function Zo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function z0({page:i,...e}){let{router:n}=M0(),s=H.useMemo(()=>lg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(j0,{page:i,matches:s,...e}):null}function b0(i){let{manifest:e,routeModules:n}=vg(),[s,a]=H.useState([]);return H.useEffect(()=>{let u=!1;return x0(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function j0({page:i,matches:e,...n}){let s=zi(),{manifest:a,routeModules:u}=vg(),{loaderData:h,matches:m}=F0(),g=H.useMemo(()=>Zp(i,e,m,a,s,"data"),[i,e,m,a,s]),v=H.useMemo(()=>Zp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,U=!1;if(e.forEach(b=>{var Z;let W=a.routes[b.route.id];!W||!W.hasLoader||(!g.some(ne=>ne.route.id===b.route.id)&&b.route.id in h&&((Z=u[b.route.id])!=null&&Z.shouldRevalidate)||W.hasClientLoader?U=!0:L.add(b.route.id))}),L.size===0)return[];let B=O0(i);return U&&L.size>0&&B.searchParams.set("_routes",e.filter(b=>L.has(b.route.id)).map(b=>b.route.id).join(",")),[B.pathname+B.search]},[h,s,a,g,e,i,u]),S=H.useMemo(()=>V0(v,a),[v,a]),R=b0(v);return H.createElement(H.Fragment,null,w.map(L=>H.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),S.map(L=>H.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),R.map(({key:L,link:U})=>H.createElement("link",{key:L,...U})))}function B0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_g&&(window.__reactRouterVersion="7.1.1")}catch{}function $0({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=V_({window:n,v5Compat:!0}));let a=s.current,[u,h]=H.useState({action:a.action,location:a.location}),m=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>a.listen(m),[a,m]),H.createElement(_0,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var Eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wg=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:w,viewTransition:S,...R},L){let{basename:U}=H.useContext(Xn),B=typeof v=="string"&&Eg.test(v),b,W=!1;if(typeof v=="string"&&B&&(b=v,_g))try{let A=new URL(window.location.href),P=v.startsWith("//")?new URL(A.protocol+v):new URL(v),x=Jr(P.pathname,U);P.origin===A.origin&&x!=null?v=x+P.search+P.hash:W=!0}catch{Kn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=r0(v,{relative:a}),[ne,he,Se]=U0(s,R),Ee=K0(v,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:S});function V(A){e&&e(A),A.defaultPrevented||Ee(A)}let T=H.createElement("a",{...R,...Se,href:b||Z,onClick:W||u?e:V,ref:B0(L,he),target:g,"data-discover":!B&&n==="render"?"true":void 0});return ne&&!B?H.createElement(H.Fragment,null,T,H.createElement(z0,{page:Z})):T});wg.displayName="Link";var H0=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},w){let S=Ea(h,{relative:v.relative}),R=zi(),L=H.useContext(wu),{navigator:U,basename:B}=H.useContext(Xn),b=L!=null&&J0(S)&&m===!0,W=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,Z=R.pathname,ne=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ne=ne?ne.toLowerCase():null,W=W.toLowerCase()),ne&&B&&(ne=Jr(ne,B)||ne);const he=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Se=Z===W||!a&&Z.startsWith(W)&&Z.charAt(he)==="/",Ee=ne!=null&&(ne===W||!a&&ne.startsWith(W)&&ne.charAt(W.length)==="/"),V={isActive:Se,isPending:Ee,isTransitioning:b},T=Se?e:void 0,A;typeof s=="function"?A=s(V):A=[s,Se?"active":null,Ee?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(V):u;return H.createElement(wg,{...v,"aria-current":T,className:A,ref:w,style:P,to:h,viewTransition:m},typeof g=="function"?g(V):g)});H0.displayName="NavLink";var W0=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=Ql,action:m,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:S,...R},L)=>{let U=X0(),B=Y0(m,{relative:v}),b=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&Eg.test(m),Z=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let he=ne.nativeEvent.submitter,Se=(he==null?void 0:he.getAttribute("formmethod"))||h;U(he||ne.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:a,state:u,relative:v,preventScrollReset:w,viewTransition:S})};return H.createElement("form",{ref:L,method:b,action:B,onSubmit:s?g:Z,...R,"data-discover":!W&&i==="render"?"true":void 0})});W0.displayName="Form";function q0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tg(i){let e=H.useContext(Xs);return ft(e,q0(i)),e}function K0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=i0(),g=zi(),v=Ea(i,{relative:u});return H.useCallback(w=>{if(I0(w,e)){w.preventDefault();let S=n!==void 0?n:la(g)===la(v);m(i,{replace:S,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,n,s,e,i,a,u,h])}var Q0=0,G0=()=>`__${String(++Q0)}__`;function X0(){let{router:i}=Tg("useSubmit"),{basename:e}=H.useContext(Xn),n=m0();return H.useCallback(async(s,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=R0(s,e);if(a.navigate===!1){let w=a.fetcherKey||G0();await i.fetch(w,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function Y0(i,{relative:e}={}){let{basename:n}=H.useContext(Xn),s=H.useContext(Er);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Ea(i||".",{relative:e})},h=zi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let w=m.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),la(u)}function J0(i,e={}){let n=H.useContext(pg);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Tg("useViewTransitionState"),a=Ea(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nu(a.pathname,h)!=null||nu(a.pathname,u)!=null}new TextEncoder;const Z0=[{id:1,name:"React",url:"/logo_game/img/react.svg"},{id:2,name:"Angular",url:"/logo_game/img/Angular.png"},{id:3,name:"Docker",url:"/logo_game/img/docker.png"},{id:4,name:"Go",url:"/logo_game/img/Go.svg"},{id:5,name:"Kubernetes",url:"/logo_game/img/kubernetes.png"},{id:6,name:"Laravel",url:"/logo_game/img/laravel.avif"},{id:7,name:"Nginx",url:"/logo_game/img/nginx.png"},{id:8,name:"Node.js",url:"/logo_game/img/nodejs.svg"},{id:9,name:"Python",url:"/logo_game/img/python.png"},{id:10,name:"Ruby",url:"/logo_game/img/ruby.avif"},{id:11,name:"Rust",url:"/logo_game/img/rust.avif"},{id:12,name:"Sass",url:"/logo_game/img/Sass.svg"},{id:13,name:"TypeScript",url:"/logo_game/img/typescript.avif"},{id:14,name:"Vite",url:"/logo_game/img/vite.svg"},{id:15,name:"Vue",url:"/logo_game/img/Vue.js.svg"},{id:16,name:"Apache",url:"/logo_game/img/apache.svg"},{id:17,name:"HTML",url:"/logo_game/img/HTML5.png"},{id:18,name:"GitHub",url:"/logo_game/img/github-white.svg"},{id:19,name:"Git",url:"/logo_game/img/Git.svg"},{id:20,name:"GitLab",url:"/logo_game/img/gitlab.svg"},{id:21,name:"Kotlin",url:"/logo_game/img/Kotlin.png"},{id:22,name:"Swift",url:"/logo_game/img/Swift.svg"},{id:23,name:"C++",url:"/logo_game/img/C++.png"},{id:24,name:"Flutter",url:"/logo_game/img/flutter.svg"},{id:25,name:"Dart",url:"/logo_game/img/dart.svg"},{id:26,name:"FastAPI",url:"/logo_game/img/FastAPI.svg"},{id:27,name:"OpenMP",url:"/logo_game/img/OpenMP.png"},{id:28,name:"PostgreSQL",url:"/logo_game/img/Postgre.svg"},{id:29,name:"MATLAB",url:"/logo_game/img/Matlab.png"},{id:30,name:"Java",url:"/logo_game/img/java.svg"},{id:31,name:"Figma",url:"/logo_game/img/Figma.svg"},{id:32,name:"PHP",url:"/logo_game/img/php.svg"},{id:33,name:"Microsoft Azure",url:"/logo_game/img/Microsoft_Azure.svg"},{id:34,name:"Firebase",url:"/logo_game/img/Firebase.svg"},{id:35,name:"Slack",url:"/logo_game/img/slack.svg"},{id:36,name:"Discord",url:"/logo_game/img/discord.svg"},{id:37,name:"Scala",url:"/logo_game/img/Scala.svg"},{id:38,name:"Google Cloud",url:"/logo_game/img/google-cloud.svg"},{id:39,name:"Google Apps Script",url:"/logo_game/img/Google_Apps_Script.svg"},{id:40,name:"PhpMyAdmin",url:"/logo_game/img/PhpMyAdmin_logo.svg"},{id:41,name:"Unity",url:"/logo_game/img/unity.svg"},{id:42,name:"Amazon Web Services",url:"/logo_game/img/Amazon_Web_Services_Logo.svg"},{id:43,name:"Terraform",url:"/logo_game/img/Terraform_Logo.svg"},{id:44,name:"Postman",url:"/logo_game/img/postman.svg"},{id:45,name:"Composer",url:"/logo_game/img/composer.png"},{id:46,name:"npm",url:"/logo_game/img/Npm.svg"},{id:47,name:"Ruby on Rails",url:"/logo_game/img/Ruby_On_Rails.svg"},{id:48,name:"GNU Octave",url:"/logo_game/img/octave-logo.svg"},{id:49,name:"GNU",url:"/logo_game/img/Heckert_GNU_white.svg"},{id:50,name:"NVIDIA",url:"/logo_game/img/nvidia.svg"},{id:51,name:"AMD",url:"/logo_game/img/AMD_Logo.svg"},{id:52,name:"arm",url:"/logo_game/img/Arm.svg"},{id:53,name:"Tailwind CSS",url:"/logo_game/img/tailwindcss-mark.svg"},{id:54,name:"tailwind-merge",url:"/logo_game/img/tailwind-merge.svg"},{id:55,name:"nodemon",url:"/logo_game/img/nodemon.png"},{id:56,name:"OrbStack",url:"/logo_game/img/orbstack.png"},{id:57,name:"Json Web Token",url:"/logo_game/img/jwt.svg"},{id:58,name:"Prisma",url:"/logo_game/img/Prisma-LightSymbol.svg"},{id:59,name:"MongoDB",url:"/logo_game/img/MongoDB.svg"},{id:60,name:"Wireshark",url:"/logo_game/img/Wireshark.png"},{id:61,name:"Wfuzz",url:"/logo_game/img/wfuzz.svg"},{id:62,name:"Hydra",url:"/logo_game/img/hydra-logo.svg"},{id:63,name:"Gobuster",url:"/logo_game/img/gobuster-logo.svg"},{id:64,name:"Nmap",url:"/logo_game/img/nmap-logo.svg"},{id:65,name:"John the Ripper",url:"/logo_game/img/john-logo.svg"},{id:66,name:"WordPress",url:"/logo_game/img/WordPress-logotype-wmark-white.png"},{id:67,name:"webpack",url:"/logo_game/img/webpack.svg"}],eE=({message:i,onClose:e})=>{H.useEffect(()=>{const s=setTimeout(()=>{e()},3e3);return()=>clearTimeout(s)},[e]);const n=()=>i.includes("Correct!")?"popup correct":i.includes("Miss")?"popup miss":"popup";return ue.jsx("div",{className:n(),children:i})},tE=({onCorrectUpdate:i,questionNum:e,onQuestionUpdate:n,correctNum:s,onTimeUpdate:a,onFinish:u,onSteakUpdate:h})=>{const[m,g]=H.useState([]),[v,w]=H.useState(""),[S,R]=H.useState(30),[L,U]=H.useState(null),[B,b]=H.useState(null),[W,Z]=H.useState(!1),ne=()=>{Z(!1)},he=T=>{const A=T.length,P=[...T],x=Math.floor(Math.random()*100)+Math.floor(Math.random()*100);for(let O=0;O<x;O++){const C=Math.floor(Math.random()*A),Ke=Math.floor(Math.random()*A);[P[C],P[Ke]]=[P[Ke],P[C]]}return P},Se=()=>he([...Z0]).slice(0,4),Ee=()=>{const T=Se();let A;do A=T[Math.floor(Math.random()*T.length)];while(L&&A.id===L.id);g(he(T)),b(A),U(A)};H.useEffect(()=>{const T=setInterval(()=>{R(A=>A<=1?(clearInterval(T),0):A-1)},1e3);return()=>clearInterval(T)},[]),H.useEffect(()=>{a(S)},[S,a]),H.useEffect(()=>{Ee()},[]);const V=T=>{S!==0&&(B&&B.id===T?(w("Correct!"),i(s+1),h(!0)):(w("Miss"),h(!1)),Z(!0),setTimeout(()=>{Z(!1)},800),Ee(),n(e+1))};return H.useEffect(()=>{S===0&&u(!0)},[S,u]),ue.jsxs(ue.Fragment,{children:[W&&ue.jsx(eE,{message:v,onClose:ne}),ue.jsx("div",{className:"display",children:ue.jsx("div",{className:"imgArea",children:B&&ue.jsx("img",{src:B.url,alt:"logo"})})}),ue.jsx("div",{className:"optionBtnArea",children:ue.jsxs("h2",{children:["Question. ",e]})}),ue.jsx("div",{className:"ansBtnArea",children:m.map(T=>ue.jsx("button",{type:"button",className:"answerBtn",onClick:()=>V(T.id),children:T.name},T.id))})]})};var Sg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},em=Oi.createContext&&Oi.createContext(Sg),nE=["attr","size","title"];function rE(i,e){if(i==null)return{};var n=iE(i,e),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(a=0;a<u.length;a++)s=u[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function iE(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function ru(){return ru=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},ru.apply(this,arguments)}function tm(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,s)}return n}function iu(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tm(Object(n),!0).forEach(function(s){sE(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function sE(i,e,n){return e=oE(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function oE(i){var e=aE(i,"string");return typeof e=="symbol"?e:e+""}function aE(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Ig(i){return i&&i.map((e,n)=>Oi.createElement(e.tag,iu({key:n},e.attr),Ig(e.child)))}function Jh(i){return e=>Oi.createElement(lE,ru({attr:iu({},i.attr)},e),Ig(i.child))}function lE(i){var e=n=>{var{attr:s,size:a,title:u}=i,h=rE(i,nE),m=a||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),Oi.createElement("svg",ru({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:g,style:iu(iu({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Oi.createElement("title",null,u),i.children)};return em!==void 0?Oi.createElement(em.Consumer,null,n=>e(n)):e(Sg)}function uE(i){return Jh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0 0 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9a8.994 8.994 0 0 0 7.03-14.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"},child:[]}]})(i)}function cE(i){return Jh({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"},child:[]}]})(i)}const hE=()=>{};var nm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},dE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,w=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|v>>6,L=v&63;g||(L=64,h||(R=64)),s.push(n[w],n[S],n[R],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ag(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):dE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const S=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||m==null||v==null||S==null)throw new fE;const R=u<<2|m>>4;if(s.push(R),v!==64){const L=m<<4&240|v>>2;if(s.push(L),S!==64){const U=v<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class fE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pE=function(i){const e=Ag(i);return Cg.encodeByteArray(e,!0)},su=function(i){return pE(i).replace(/\./g,"")},mE=function(i){try{return Cg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=()=>gE().__FIREBASE_DEFAULTS__,vE=()=>{if(typeof process>"u"||typeof nm>"u")return;const i=nm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_E=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&mE(i[1]);return e&&JSON.parse(e)},Zh=()=>{try{return hE()||yE()||vE()||_E()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},EE=i=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},wE=i=>{const e=EE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Rg=()=>{var i;return(i=Zh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[su(JSON.stringify(n)),su(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AE(){var i;const e=(i=Zh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CE(){return!AE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RE(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class Ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kE,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pg.prototype.create)}}class Pg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?xE(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Ys(a,m,s)}}function xE(i,e){return i.replace(VE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const VE=/\{\$([^}]+)}/g;function ou(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(rm(u)&&rm(h)){if(!ou(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function rm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(i){return i&&i._delegate?i._delegate:i}class ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new TE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LE(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DE(i){return i===Di?void 0:i}function LE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const ME={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},FE=De.INFO,UE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},zE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=UE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=FE,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ME[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const bE=(i,e)=>e.some(n=>i instanceof n);let im,sm;function jE(){return im||(im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BE(){return sm||(sm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xg=new WeakMap,Ah=new WeakMap,Vg=new WeakMap,gh=new WeakMap,ed=new WeakMap;function $E(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Kr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&xg.set(n,i)}).catch(()=>{}),ed.set(e,i),e}function HE(i){if(Ah.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Ah.set(i,e)}let Ch={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ah.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Vg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function WE(i){Ch=i(Ch)}function qE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(yh(this),e,...n);return Vg.set(s,e.sort?e.sort():[e]),Kr(s)}:BE().includes(i)?function(...e){return i.apply(yh(this),e),Kr(xg.get(this))}:function(...e){return Kr(i.apply(yh(this),e))}}function KE(i){return typeof i=="function"?qE(i):(i instanceof IDBTransaction&&HE(i),bE(i,jE())?new Proxy(i,Ch):i)}function Kr(i){if(i instanceof IDBRequest)return $E(i);if(gh.has(i))return gh.get(i);const e=KE(i);return e!==i&&(gh.set(i,e),ed.set(e,i)),e}const yh=i=>ed.get(i);function QE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=Kr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Kr(h.result),g.oldVersion,g.newVersion,Kr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const GE=["get","getKey","getAll","getAllKeys","count"],XE=["put","add","delete","clear"],vh=new Map;function om(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=XE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||GE.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return vh.set(e,u),u}WE(i=>({...i,get:(e,n,s)=>om(e,n)||i.get(e,n,s),has:(e,n)=>!!om(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rh="@firebase/app",am="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new kg("@firebase/app"),ZE="@firebase/app-compat",ew="@firebase/analytics-compat",tw="@firebase/analytics",nw="@firebase/app-check-compat",rw="@firebase/app-check",iw="@firebase/auth",sw="@firebase/auth-compat",ow="@firebase/database",aw="@firebase/data-connect",lw="@firebase/database-compat",uw="@firebase/functions",cw="@firebase/functions-compat",hw="@firebase/installations",dw="@firebase/installations-compat",fw="@firebase/messaging",pw="@firebase/messaging-compat",mw="@firebase/performance",gw="@firebase/performance-compat",yw="@firebase/remote-config",vw="@firebase/remote-config-compat",_w="@firebase/storage",Ew="@firebase/storage-compat",ww="@firebase/firestore",Tw="@firebase/vertexai",Sw="@firebase/firestore-compat",Iw="firebase",Aw="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",Cw={[Rh]:"fire-core",[ZE]:"fire-core-compat",[tw]:"fire-analytics",[ew]:"fire-analytics-compat",[rw]:"fire-app-check",[nw]:"fire-app-check-compat",[iw]:"fire-auth",[sw]:"fire-auth-compat",[ow]:"fire-rtdb",[aw]:"fire-data-connect",[lw]:"fire-rtdb-compat",[uw]:"fire-fn",[cw]:"fire-fn-compat",[hw]:"fire-iid",[dw]:"fire-iid-compat",[fw]:"fire-fcm",[pw]:"fire-fcm-compat",[mw]:"fire-perf",[gw]:"fire-perf-compat",[yw]:"fire-rc",[vw]:"fire-rc-compat",[_w]:"fire-gcs",[Ew]:"fire-gcs-compat",[ww]:"fire-fst",[Sw]:"fire-fst-compat",[Tw]:"fire-vertex","fire-js":"fire-js",[Iw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Map,Rw=new Map,kh=new Map;function lm(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function lu(i){const e=i.name;if(kh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,i);for(const n of au.values())lm(n,i);for(const n of Rw.values())lm(n,i);return!0}function Pw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function kw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Pg("app","Firebase",xw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=Aw;function Ng(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=Rg()),!n)throw Qr.create("no-options");const u=au.get(a);if(u){if(ou(n,u.options)&&ou(s,u.config))return u;throw Qr.create("duplicate-app",{appName:a})}const h=new OE(a);for(const g of kh.values())h.addComponent(g);const m=new Vw(n,s,h);return au.set(a,m),m}function Dw(i=Ph){const e=au.get(i);if(!e&&i===Ph&&Rg())return Ng();if(!e)throw Qr.create("no-app",{appName:i});return e}function bs(i,e,n){var s;let a=(s=Cw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}lu(new ua(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebase-heartbeat-database",Ow=1,ca="firebase-heartbeat-store";let _h=null;function Dg(){return _h||(_h=QE(Lw,Ow,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),_h}async function Mw(i){try{const n=(await Dg()).transaction(ca),s=await n.objectStore(ca).get(Lg(i));return await n.done,s}catch(e){if(e instanceof Ys)yr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function um(i,e){try{const s=(await Dg()).transaction(ca,"readwrite");await s.objectStore(ca).put(e,Lg(i)),await s.done}catch(n){if(n instanceof Ys)yr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function Lg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1024,Uw=30;class zw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=cm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>Uw){const h=Bw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cm(),{heartbeatsToSend:s,unsentEntries:a}=bw(this._heartbeatsCache.heartbeats),u=su(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return yr.warn(n),""}}}function cm(){return new Date().toISOString().substring(0,10)}function bw(i,e=Fw){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),hm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RE()?PE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return um(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return um(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function hm(i){return su(JSON.stringify({version:2,heartbeats:i})).length}function Bw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i){lu(new ua("platform-logger",e=>new YE(e),"PRIVATE")),lu(new ua("heartbeat",e=>new zw(e),"PRIVATE")),bs(Rh,am,i),bs(Rh,am,"esm2017"),bs("fire-js","")}$w("");var Hw="firebase",Ww="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(Hw,Ww,"app");var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,Og;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,T){function A(){}A.prototype=T.prototype,V.D=T.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(P,x,O){for(var C=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)C[Ke-2]=arguments[Ke];return T.prototype[x].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)P[x]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(x=0;16>x;++x)P[x]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=V.g[0],A=V.g[1],x=V.g[2];var O=V.g[3],C=T+(O^A&(x^O))+P[0]+3614090360&4294967295;T=A+(C<<7&4294967295|C>>>25),C=O+(x^T&(A^x))+P[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=x+(A^O&(T^A))+P[2]+606105819&4294967295,x=O+(C<<17&4294967295|C>>>15),C=A+(T^x&(O^T))+P[3]+3250441966&4294967295,A=x+(C<<22&4294967295|C>>>10),C=T+(O^A&(x^O))+P[4]+4118548399&4294967295,T=A+(C<<7&4294967295|C>>>25),C=O+(x^T&(A^x))+P[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=x+(A^O&(T^A))+P[6]+2821735955&4294967295,x=O+(C<<17&4294967295|C>>>15),C=A+(T^x&(O^T))+P[7]+4249261313&4294967295,A=x+(C<<22&4294967295|C>>>10),C=T+(O^A&(x^O))+P[8]+1770035416&4294967295,T=A+(C<<7&4294967295|C>>>25),C=O+(x^T&(A^x))+P[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=x+(A^O&(T^A))+P[10]+4294925233&4294967295,x=O+(C<<17&4294967295|C>>>15),C=A+(T^x&(O^T))+P[11]+2304563134&4294967295,A=x+(C<<22&4294967295|C>>>10),C=T+(O^A&(x^O))+P[12]+1804603682&4294967295,T=A+(C<<7&4294967295|C>>>25),C=O+(x^T&(A^x))+P[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=x+(A^O&(T^A))+P[14]+2792965006&4294967295,x=O+(C<<17&4294967295|C>>>15),C=A+(T^x&(O^T))+P[15]+1236535329&4294967295,A=x+(C<<22&4294967295|C>>>10),C=T+(x^O&(A^x))+P[1]+4129170786&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^x&(T^A))+P[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=x+(T^A&(O^T))+P[11]+643717713&4294967295,x=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(x^O))+P[0]+3921069994&4294967295,A=x+(C<<20&4294967295|C>>>12),C=T+(x^O&(A^x))+P[5]+3593408605&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^x&(T^A))+P[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=x+(T^A&(O^T))+P[15]+3634488961&4294967295,x=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(x^O))+P[4]+3889429448&4294967295,A=x+(C<<20&4294967295|C>>>12),C=T+(x^O&(A^x))+P[9]+568446438&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^x&(T^A))+P[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=x+(T^A&(O^T))+P[3]+4107603335&4294967295,x=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(x^O))+P[8]+1163531501&4294967295,A=x+(C<<20&4294967295|C>>>12),C=T+(x^O&(A^x))+P[13]+2850285829&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^x&(T^A))+P[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=x+(T^A&(O^T))+P[7]+1735328473&4294967295,x=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(x^O))+P[12]+2368359562&4294967295,A=x+(C<<20&4294967295|C>>>12),C=T+(A^x^O)+P[5]+4294588738&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^x)+P[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=x+(O^T^A)+P[11]+1839030562&4294967295,x=O+(C<<16&4294967295|C>>>16),C=A+(x^O^T)+P[14]+4259657740&4294967295,A=x+(C<<23&4294967295|C>>>9),C=T+(A^x^O)+P[1]+2763975236&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^x)+P[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=x+(O^T^A)+P[7]+4139469664&4294967295,x=O+(C<<16&4294967295|C>>>16),C=A+(x^O^T)+P[10]+3200236656&4294967295,A=x+(C<<23&4294967295|C>>>9),C=T+(A^x^O)+P[13]+681279174&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^x)+P[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=x+(O^T^A)+P[3]+3572445317&4294967295,x=O+(C<<16&4294967295|C>>>16),C=A+(x^O^T)+P[6]+76029189&4294967295,A=x+(C<<23&4294967295|C>>>9),C=T+(A^x^O)+P[9]+3654602809&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^x)+P[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=x+(O^T^A)+P[15]+530742520&4294967295,x=O+(C<<16&4294967295|C>>>16),C=A+(x^O^T)+P[2]+3299628645&4294967295,A=x+(C<<23&4294967295|C>>>9),C=T+(x^(A|~O))+P[0]+4096336452&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~x))+P[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=x+(T^(O|~A))+P[14]+2878612391&4294967295,x=O+(C<<15&4294967295|C>>>17),C=A+(O^(x|~T))+P[5]+4237533241&4294967295,A=x+(C<<21&4294967295|C>>>11),C=T+(x^(A|~O))+P[12]+1700485571&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~x))+P[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=x+(T^(O|~A))+P[10]+4293915773&4294967295,x=O+(C<<15&4294967295|C>>>17),C=A+(O^(x|~T))+P[1]+2240044497&4294967295,A=x+(C<<21&4294967295|C>>>11),C=T+(x^(A|~O))+P[8]+1873313359&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~x))+P[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=x+(T^(O|~A))+P[6]+2734768916&4294967295,x=O+(C<<15&4294967295|C>>>17),C=A+(O^(x|~T))+P[13]+1309151649&4294967295,A=x+(C<<21&4294967295|C>>>11),C=T+(x^(A|~O))+P[4]+4149444226&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~x))+P[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=x+(T^(O|~A))+P[2]+718787259&4294967295,x=O+(C<<15&4294967295|C>>>17),C=A+(O^(x|~T))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+O&4294967295}s.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var A=T-this.blockSize,P=this.B,x=this.h,O=0;O<T;){if(x==0)for(;O<=A;)a(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<T;)if(P[x++]=V.charCodeAt(O++),x==this.blockSize){a(this,P),x=0;break}}else for(;O<T;)if(P[x++]=V[O++],x==this.blockSize){a(this,P),x=0;break}}this.h=x,this.o+=T},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var A=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=A&255,A/=256;for(this.u(V),V=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)V[A++]=this.g[T]>>>P&255;return V};function u(V,T){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=T(V)}function h(V,T){this.h=T;for(var A=[],P=!0,x=V.length-1;0<=x;x--){var O=V[x]|0;P&&O==T||(A[x]=O,P=!1)}this.g=A}var m={};function g(V){return-128<=V&&128>V?u(V,function(T){return new h([T|0],0>T?-1:0)}):new h([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return b(v(-V));for(var T=[],A=1,P=0;V>=A;P++)T[P]=V/A|0,A*=4294967296;return new h(T,0)}function w(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return b(w(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(T,8)),P=S,x=0;x<V.length;x+=8){var O=Math.min(8,V.length-x),C=parseInt(V.substring(x,x+O),T);8>O?(O=v(Math.pow(T,O)),P=P.j(O).add(v(C))):(P=P.j(A),P=P.add(v(C)))}return P}var S=g(0),R=g(1),L=g(16777216);i=h.prototype,i.m=function(){if(B(this))return-b(this).m();for(var V=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);V+=(0<=P?P:4294967296+P)*T,T*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(U(this))return"0";if(B(this))return"-"+b(this).toString(V);for(var T=v(Math.pow(V,6)),A=this,P="";;){var x=he(A,T).g;A=W(A,x.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=x,U(A))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function U(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function B(V){return V.h==-1}i.l=function(V){return V=W(this,V),B(V)?-1:U(V)?0:1};function b(V){for(var T=V.g.length,A=[],P=0;P<T;P++)A[P]=~V.g[P];return new h(A,~V.h).add(R)}i.abs=function(){return B(this)?b(this):this},i.add=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0,x=0;x<=T;x++){var O=P+(this.i(x)&65535)+(V.i(x)&65535),C=(O>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);P=C>>>16,O&=65535,C&=65535,A[x]=C<<16|O}return new h(A,A[A.length-1]&-2147483648?-1:0)};function W(V,T){return V.add(b(T))}i.j=function(V){if(U(this)||U(V))return S;if(B(this))return B(V)?b(this).j(b(V)):b(b(this).j(V));if(B(V))return b(this.j(b(V)));if(0>this.l(L)&&0>V.l(L))return v(this.m()*V.m());for(var T=this.g.length+V.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<V.g.length;x++){var O=this.i(P)>>>16,C=this.i(P)&65535,Ke=V.i(x)>>>16,kt=V.i(x)&65535;A[2*P+2*x]+=C*kt,Z(A,2*P+2*x),A[2*P+2*x+1]+=O*kt,Z(A,2*P+2*x+1),A[2*P+2*x+1]+=C*Ke,Z(A,2*P+2*x+1),A[2*P+2*x+2]+=O*Ke,Z(A,2*P+2*x+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new h(A,0)};function Z(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function ne(V,T){this.g=V,this.h=T}function he(V,T){if(U(T))throw Error("division by zero");if(U(V))return new ne(S,S);if(B(V))return T=he(b(V),T),new ne(b(T.g),b(T.h));if(B(T))return T=he(V,b(T)),new ne(b(T.g),T.h);if(30<V.g.length){if(B(V)||B(T))throw Error("slowDivide_ only works with positive integers.");for(var A=R,P=T;0>=P.l(V);)A=Se(A),P=Se(P);var x=Ee(A,1),O=Ee(P,1);for(P=Ee(P,2),A=Ee(A,2);!U(P);){var C=O.add(P);0>=C.l(V)&&(x=x.add(A),O=C),P=Ee(P,1),A=Ee(A,1)}return T=W(V,x.j(T)),new ne(x,T)}for(x=S;0<=V.l(T);){for(A=Math.max(1,Math.floor(V.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=v(A),C=O.j(T);B(C)||0<C.l(V);)A-=P,O=v(A),C=O.j(T);U(O)&&(O=R),x=x.add(O),V=W(V,C)}return new ne(x,V)}i.A=function(V){return he(this,V).h},i.and=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&V.i(P);return new h(A,this.h&V.h)},i.or=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|V.i(P);return new h(A,this.h|V.h)},i.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^V.i(P);return new h(A,this.h^V.h)};function Se(V){for(var T=V.g.length+1,A=[],P=0;P<T;P++)A[P]=V.i(P)<<1|V.i(P-1)>>>31;return new h(A,V.h)}function Ee(V,T){var A=T>>5;T%=32;for(var P=V.g.length-A,x=[],O=0;O<P;O++)x[O]=0<T?V.i(O+A)>>>T|V.i(O+A+1)<<32-T:V.i(O+A);return new h(x,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Og=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Gr=h}).apply(typeof dm<"u"?dm:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mg,ea,Fg,Xl,xh,Ug,zg,bg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var $=y++;return{value:f($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function w(l,f,y){return l.call.apply(l.bind,arguments)}function S(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function R(l,f,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,R.apply(null,arguments)}function L(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function U(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,$){for(var ee=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ee[ze-2]=arguments[ze];return f.prototype[M].apply(E,ee)}}function B(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function b(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,$=E.length||0;l.length=M+$;for(let ee=0;ee<$;ee++)l[M+ee]=E[ee]}else l.push(E)}}class W{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Z(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function he(l){return he[" "](l),l}he[" "]=function(){};var Se=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ee(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function V(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function T(l){const f={};for(const y in l)f[y]=l[y];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let $=0;$<A.length;$++)y=A[$],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function x(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function C(){var l=pe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ke{constructor(){this.h=this.g=null}add(f,y){const E=kt.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new W(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let be,te=!1,pe=new Ke,ie=()=>{const l=m.Promise.resolve(void 0);be=()=>{l.then(D)}};var D=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){O(y)}var f=kt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}te=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l}();function Ae(l,f){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Se){e:{try{he(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ae.aa.h.call(this)}}U(Ae,de);var xe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,f,y,E,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,f,y,E,M){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var ee=wr(l,f,E,M);return-1<ee?(f=l[ee],y||(f.fa=!1)):(f=new Be(f,this.src,$,!!E,M),f.fa=y,l.push(f)),f};function Hi(l,f){var y=f.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,f,void 0),$;($=0<=M)&&Array.prototype.splice.call(E,M,1),$&&(gt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function wr(l,f,y,E){for(var M=0;M<l.length;++M){var $=l[M];if(!$.da&&$.listener==f&&$.capture==!!y&&$.ha==E)return M}return-1}var si="closure_lm_"+(1e6*Math.random()|0),Wi={};function no(l,f,y,E,M){if(Array.isArray(f)){for(var $=0;$<f.length;$++)no(l,f[$],y,E,M);return null}return y=so(y),l&&l[Me]?l.K(f,y,v(E)?!!E.capture:!!E,M):ro(l,f,y,!1,E,M)}function ro(l,f,y,E,M,$){if(!f)throw Error("Invalid event type");var ee=v(M)?!!M.capture:!!M,ze=Ki(l);if(ze||(l[si]=ze=new Yn(l)),y=ze.add(f,y,E,ee,$),y.proxy)return y;if(E=Ca(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ie||(M=ee),M===void 0&&(M=!1),l.addEventListener(f.toString(),E,M);else if(l.attachEvent)l.attachEvent(Zn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ca(){function l(y){return f.call(l.src,l.listener,y)}const f=io;return l}function qi(l,f,y,E,M){if(Array.isArray(f))for(var $=0;$<f.length;$++)qi(l,f[$],y,E,M);else E=v(E)?!!E.capture:!!E,y=so(y),l&&l[Me]?(l=l.i,f=String(f).toString(),f in l.g&&($=l.g[f],y=wr($,y,E,M),-1<y&&(gt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[f],l.h--)))):l&&(l=Ki(l))&&(f=l.g[f.toString()],l=-1,f&&(l=wr(f,y,E,M)),(y=-1<l?f[l]:null)&&Jn(y))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Me])Hi(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(Zn(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=Ki(f))?(Hi(y,l),y.h==0&&(y.src=null,f[si]=null)):gt(l)}}}function Zn(l){return l in Wi?Wi[l]:Wi[l]="on"+l}function io(l,f){if(l.da)l=!0;else{f=new Ae(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&Jn(l),l=y.call(E,f)}return l}function Ki(l){return l=l[si],l instanceof Yn?l:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(l){return typeof l=="function"?l:(l[Qi]||(l[Qi]=function(f){return l.handleEvent(f)}),l[Qi])}function at(){K.call(this),this.i=new Yn(this),this.M=this,this.F=null}U(at,K),at.prototype[Me]=!0,at.prototype.removeEventListener=function(l,f,y,E){qi(this,l,f,y,E)};function lt(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new de(f,l);else if(f instanceof de)f.target=f.target||l;else{var M=f;f=new de(E,l),P(f,M)}if(M=!0,y)for(var $=y.length-1;0<=$;$--){var ee=f.g=y[$];M=er(ee,E,!0,f)&&M}if(ee=f.g=l,M=er(ee,E,!0,f)&&M,M=er(ee,E,!1,f)&&M,y)for($=0;$<y.length;$++)ee=f.g=y[$],M=er(ee,E,!1,f)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)gt(y[E]);delete l.g[f],l.h--}}this.F=null},at.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},at.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function er(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,$=0;$<f.length;++$){var ee=f[$];if(ee&&!ee.da&&ee.capture==y){var ze=ee.listener,ut=ee.ha||ee.src;ee.fa&&Hi(l.i,ee),M=ze.call(ut,E)!==!1&&M}}return M&&!E.defaultPrevented}function oo(l,f,y){if(typeof l=="function")y&&(l=R(l,y));else if(l&&typeof l.handleEvent=="function")l=R(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Tr(l){l.g=oo(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class oi extends K{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(l){K.call(this),this.h=l,this.g={}}U(ai,K);var ao=[];function lo(l){Ee(l.g,function(f,y){this.g.hasOwnProperty(y)&&Jn(f)},l),l.g={}}ai.prototype.N=function(){ai.aa.N.call(this),lo(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=m.JSON.stringify,co=m.JSON.parse,ho=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function li(){}li.prototype.h=null;function Gi(l){return l.h||(l.h=l.i())}function Xi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){de.call(this,"d")}U(Dn,de);function Yi(){de.call(this,"c")}U(Yi,de);var Ln={},fo=null;function ui(){return fo=fo||new at}Ln.La="serverreachability";function po(l){de.call(this,Ln.La,l)}U(po,de);function tr(l){const f=ui();lt(f,new po(f))}Ln.STAT_EVENT="statevent";function mo(l,f){de.call(this,Ln.STAT_EVENT,l),this.stat=f}U(mo,de);function tt(l){const f=ui();lt(f,new mo(f,l))}Ln.Ma="timingevent";function Ji(l,f){de.call(this,Ln.Ma,l),this.size=f}U(Ji,de);function yn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function hi(l,f,y,E,M,$){l.info(function(){if(l.g)if($)for(var ee="",ze=$.split("&"),ut=0;ut<ze.length;ut++){var Ve=ze[ut].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var it=yt.split("_");ee=2<=it.length&&it[1]=="type"?ee+(yt+"="+Ve+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=$;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+y+`
`+ee})}function Zi(l,f,y,E,M,$,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+y+`
`+$+" "+ee})}function vn(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Fu(l,y)+(E?" "+E:"")})}function go(l,f){l.info(function(){return"TIMEOUT: "+f})}ci.prototype.info=function(){};function Fu(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return uo(y)}catch{return f}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ra={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function di(){}U(di,li),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},_n=new di;function En(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pa}function Pa(){this.i=null,this.g="",this.h=!1}var yo={},ts={};function ns(l,f,y){l.L=1,l.v=Rr(Jt(f)),l.m=y,l.P=!0,vo(l,null)}function vo(l,f){l.F=Date.now(),$e(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Pa,l.g=qa(l.j,y?f:null,!l.m),0<l.O&&(l.M=new oi(R(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ao[0]=M.toString()),M=ao);for(var $=0;$<M.length;$++){var ee=no(y,M[$],E||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),tr(),hi(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const f=this.M;f&&$t(l)==3?f.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const it=$t(this.g);var f=this.g.Ba();const ln=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||it!=4||f==7||(f==8||0>=ln?tr(3):tr(2)),fi(this);var y=this.g.Z();this.X=y;t:if(ka(this)){var E=Io(this.g);l="";var M=E.length,$=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Sr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!($&&f==M-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Zi(this.i,this.u,this.A,this.l,this.R,it,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ut=this.g;if((ze=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ze)){var Ve=ze;break t}}Ve=null}if(y=Ve)vn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,y);else{this.o=!1,this.s=3,tt(12),on(this),Sr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=Uu(this,ee),en==ts){it==4&&(this.s=4,tt(14),y=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==yo){this.s=4,tt(15),vn(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else vn(this.i,this.l,en,null),_o(this,en);if(ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||ee.length!=0||this.h.h||(this.s=1,tt(16),y=!1),this.o=this.o&&y,!y)vn(this.i,this.l,ee,"[Invalid Chunked Response]"),on(this),Sr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Co(yt),yt.M=!0,tt(11))}}else vn(this.i,this.l,ee,null),_o(this,ee);it==4&&on(this),this.o&&!this.J&&(it==4?fs(this.j,this):(this.o=!1,$e(this)))}else ls(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),on(this),Sr(this)}}}catch{}finally{}};function ka(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Uu(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?ts:(y=Number(f.substring(y,E)),isNaN(y)?yo:(E+=1,E+y>f.length?ts:(f=f.slice(E,E+y),l.C=E+y,f)))}En.prototype.cancel=function(){this.J=!0,on(this)};function $e(l){l.S=Date.now()+l.I,xa(l,l.I)}function xa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(R(l.ba,l),f)}function fi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(go(this.i,this.A),this.L!=2&&(tr(),tt(17)),on(this),this.s=2,Sr(this)):xa(this,this.S-l)};function Sr(l){l.j.G==0||l.J||fs(l.j,l)}function on(l){fi(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,lo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function _o(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ds(y),An(y);else break e;hs(y),tt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(R(y.Za,y),6e3));if(1>=Na(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else or(y,11)}else if((l.K||y.g==l)&&ds(y),!Z(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Ve=M[f];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const yt=Ve[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const it=Ve[4];it!=null&&(y.Aa=it,y.j.info("SVER="+y.Aa));const ln=Ve[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const Ei=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var $=E.h;$.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Eo($,$.h),$.h=null))}if(E.D){const ms=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ms&&(E.ya=ms,je(E.I,E.D,ms))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Wa(E,E.J?E.ia:null,E.W),ee.K){Da(E.h,ee);var ze=ee,ut=E.L;ut&&(ze.I=ut),ze.B&&(fi(ze),$e(ze)),E.g=ee}else _i(E);0<y.i.length&&Un(y)}else Ve[0]!="stop"&&Ve[0]!="close"||or(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?or(y,7):St(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}tr(4)}catch{}}var Va=class{constructor(l,f){this.g=l,this.map=f}};function pi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Na(l){return l.h?1:l.g?l.g.size:0}function Ut(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Eo(l,f){l.g?l.g.add(f):l.h=f}function Da(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}pi.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function La(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return B(l.i)}function rs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function is(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function Ir(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=is(l),E=rs(l),M=E.length,$=0;$<M;$++)f.call(void 0,E[$],y&&y[$],l)}var mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zu(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var $=l[y].substring(0,E);M=l[y].substring(E+1)}else $=l[y];f($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,gi(this,l.j),this.o=l.o,this.g=l.g,Ar(this,l.s),this.l=l.l;var f=l.i,y=new On;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Cr(this,y),this.m=l.m}else l&&(f=String(l).match(mi))?(this.h=!1,gi(this,f[1]||"",!0),this.o=Pe(f[2]||""),this.g=Pe(f[3]||"",!0),Ar(this,f[4]),this.l=Pe(f[5]||"",!0),Cr(this,f[6]||"",!0),this.m=Pe(f[7]||"")):(this.h=!1,this.i=new On(null,this.h))}nr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Pr(f,ss,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Pr(f,ss,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Pr(y,y.charAt(0)=="/"?Fa:Ma,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Pr(y,wo)),l.join("")};function Jt(l){return new nr(l)}function gi(l,f,y){l.j=y?Pe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ar(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Cr(l,f,y){f instanceof On?(l.i=f,Mn(l.i,l.h)):(y||(f=Pr(f,Ua)),l.i=new On(f,l.h))}function je(l,f,y){l.i.set(f,y)}function Rr(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Oa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Oa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ss=/[#\/\?@]/g,Ma=/[#\?:]/g,Fa=/[#\?]/g,Ua=/[#\?@]/g,wo=/#/g;function On(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&zu(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,f){Tt(this),this.i=null,l=an(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function wn(l,f){Tt(l),f=an(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Tn(l,f){return Tt(l),f=an(l,f),l.g.has(f)}i.forEach=function(l,f){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(f,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const M=l[E];for(let $=0;$<M.length;$++)y.push(f[E])}return y},i.V=function(l){Tt(this);let f=[];if(typeof l=="string")Tn(this,l)&&(f=f.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return Tt(this),this.i=null,l=an(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function kr(l,f,y){wn(l,f),0<y.length&&(l.i=null,l.g.set(an(l,f),B(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const $=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var M=$;ee[E]!==""&&(M+="="+encodeURIComponent(String(ee[E]))),l.push(M)}}return this.i=l.join("&")};function an(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Mn(l,f){f&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(wn(this,E),kr(this,M,y))},l)),l.j=f}function bu(l,f){const y=new ci;if(m.Image){const E=new Image;E.onload=L(Bt,y,"TestLoadImage: loaded",!0,f,E),E.onerror=L(Bt,y,"TestLoadImage: error",!1,f,E),E.onabort=L(Bt,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=L(Bt,y,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function za(l,f){const y=new ci,E=new AbortController,M=setTimeout(()=>{E.abort(),Bt(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(M),$.ok?Bt(y,"TestPingServer: ok",!0,f):Bt(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Bt(y,"TestPingServer: error",!1,f)})}function Bt(l,f,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function ju(){this.g=new ho}function ba(l,f,y){const E=y||"";try{Ir(l,function(M,$){let ee=M;v(M)&&(ee=uo(M)),f.push(E+$+"="+encodeURIComponent(ee))})}catch(M){throw f.push(E+"type="+encodeURIComponent("_badmap")),M}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}U(rr,li),rr.prototype.g=function(){return new yi(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function yi(l,f){at.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(yi,at),i=yi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Sn(this):In(this),this.readyState==3&&ja(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let f="";return Ee(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function xr(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=ir(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):je(l,f,y))}function Qe(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Qe,at);var Bu=/^https?$/i,To=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Gi(this.o):Gi(_n),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch($){vi(this,$);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())y.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(To,f,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ee]of y)this.g.setRequestHeader($,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(l),this.u=!1}catch($){vi(this,$)}};function vi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,os(l),Zt(l)}function os(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},i.bb=function(){So(this)};function So(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)oo(l.Ea,0,l);else if(lt(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=ee===0){var M=String(l.D).match(mi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Bu.test(M?M.toLowerCase():"")}y=E}if(y)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var $=2<$t(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",os(l)}}finally{Zt(l)}}}}function Zt(l,f){if(l.g){as(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||lt(l,"ready");try{y.onreadystatechange=E}catch{}}}function as(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),co(f)}};function Io(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(l){const f={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Z(l[E]))continue;var y=x(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=f[M]||[];f[M]=$,$.push(y)}V(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function Ao(l){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(l&&l.concurrentRequestLimit),this.Da=new ju,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ao.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,E){tt(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Wa(this,null,this.W),Un(this)};function St(l){if(us(l),l.G==3){var f=l.U++,y=Jt(l.I);if(je(y,"SID",l.K),je(y,"RID",f),je(y,"TYPE","terminate"),sr(l,y),f=new En(l,l.j,f),f.L=2,f.v=Rr(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=qa(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}Ha(l)}function An(l){l.g&&(Co(l),l.g.cancel(),l.g=null)}function us(l){An(l),l.u&&(m.clearTimeout(l.u),l.u=null),ds(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var f=l.Ga;be||ie(),te||(be(),te=!0),pe.add(f,l),l.B=0}}function $u(l,f){return Na(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(R(l.Ga,l,f),$a(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let $=this.o;if(this.S&&($?($=T($),P($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Vr(this,M,f),y=Jt(this.I),je(y,"RID",l),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),sr(this,y),$&&(this.O?f="headers="+encodeURIComponent(String(ir($)))+"&"+f:this.m&&xr(y,this.m,$)),Eo(this.h,M),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",f),je(y,"SID","null"),M.T=!0,ns(M,y,null)):ns(M,y,f),this.G=2}}else this.G==3&&(l?cs(this,l):this.i.length==0||Yt(this.h)||cs(this))};function cs(l,f){var y;f?y=f.l:y=l.U++;const E=Jt(l.I);je(E,"SID",l.K),je(E,"RID",y),je(E,"AID",l.T),sr(l,E),l.m&&l.o&&xr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Vr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Eo(l.h,y),ns(y,E,f)}function sr(l,f){l.H&&Ee(l.H,function(y,E){je(f,E,y)}),l.l&&Ir({},function(y,E){je(f,E,y)})}function Vr(l,f,y){y=Math.min(l.i.length,y);var E=l.l?R(l.l.Na,l.l,l):null;e:{var M=l.i;let $=-1;for(;;){const ee=["count="+y];$==-1?0<y?($=M[0].g,ee.push("ofs="+$)):$=0:ee.push("ofs="+$);let ze=!0;for(let ut=0;ut<y;ut++){let Ve=M[ut].g;const yt=M[ut].map;if(Ve-=$,0>Ve)$=Math.max(0,M[ut].g-100),ze=!1;else try{ba(yt,ee,"req"+Ve+"_")}catch{E&&E(yt)}}if(ze){E=ee.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function _i(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;be||ie(),te||(be(),te=!0),pe.add(f,l),l.v=0}}function hs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(R(l.Fa,l),$a(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ba(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(R(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),An(this),Ba(this))};function Co(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ba(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Jt(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),sr(l,f),l.m&&l.o&&xr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Rr(Jt(f)),y.m=null,y.P=!0,vo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,An(this),hs(this),tt(19))};function ds(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function fs(l,f){var y=null;if(l.g==f){ds(l),Co(l),l.g=null;var E=2}else if(Ut(l.h,f))y=f.D,Da(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;E=ui(),lt(E,new Ji(E,y)),Un(l)}else _i(l);else if(M=f.s,M==3||M==0&&0<f.X||!(E==1&&$u(l,f)||E==2&&hs(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function $a(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function or(l,f){if(l.j.info("Error code "+f),f==2){var y=R(l.fb,l),E=l.Xa;const M=!E;E=new nr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gi(E,"https"),Rr(E),M?bu(E.toString(),y):za(E.toString(),y)}else tt(2);l.G=0,l.l&&l.l.sa(f),Ha(l),us(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ha(l){if(l.G=0,l.ka=[],l.l){const f=La(l.h);(f.length!=0||l.i.length!=0)&&(b(l.ka,f),b(l.ka,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.ra()}}function Wa(l,f,y){var E=y instanceof nr?Jt(y):new nr(y);if(E.g!="")f&&(E.g=f+"."+E.g),Ar(E,E.s);else{var M=m.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var $=new nr(null);E&&gi($,E),f&&($.g=f),M&&Ar($,M),y&&($.l=y),E=$}return y=l.D,f=l.ya,y&&f&&je(E,y,f),je(E,"VER",l.la),sr(l,E),E}function qa(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Qe(new rr({eb:y})):new Qe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ro(){}i=Ro.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ps(){}ps.prototype.g=function(l,f){return new zt(l,f)};function zt(l,f){at.call(this),this.g=new Ao(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Z(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Z(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new zn(this)}U(zt,at),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){St(this.g)},zt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=uo(l),l=y);f.i.push(new Va(f.Ya++,l)),f.G==3&&Un(f)},zt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,zt.aa.N.call(this)};function Ka(l){Dn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}U(Ka,Dn);function Qa(){Yi.call(this),this.status=1}U(Qa,Yi);function zn(l){this.g=l}U(zn,Ro),zn.prototype.ua=function(){lt(this.g,"a")},zn.prototype.ta=function(l){lt(this.g,new Ka(l))},zn.prototype.sa=function(l){lt(this.g,new Qa)},zn.prototype.ra=function(){lt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,bg=function(){return new ps},zg=function(){return ui()},Ug=Ln,xh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Xl=es,Ra.COMPLETE="complete",Fg=Ra,Xi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",at.prototype.listen=at.prototype.K,ea=Xi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Mg=Qe}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});const fm="@firebase/firestore",pm="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new kg("@firebase/firestore");function Ms(){return Fi.logLevel}function se(i,...e){if(Fi.logLevel<=De.DEBUG){const n=e.map(td);Fi.debug(`Firestore (${Js}): ${i}`,...n)}}function vr(i,...e){if(Fi.logLevel<=De.ERROR){const n=e.map(td);Fi.error(`Firestore (${Js}): ${i}`,...n)}}function $s(i,...e){if(Fi.logLevel<=De.WARN){const n=e.map(td);Fi.warn(`Firestore (${Js}): ${i}`,...n)}}function td(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function Ue(i,e){i||ve()}function Te(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new jg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Mt(e)}}class Gw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Xw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Gw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yw{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kw(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0);const s=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new mm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Jw(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Hs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-62135596800,ym=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ym);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gm)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ym}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="__name__";class Hn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=Hn.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Hn.isNumericId(e),a=Hn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Xe extends Hn{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const Zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Hn{construct(e,n,s){return new Rt(e,n,s)}static isValidIdentifier(e){return Zw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vm}static keyField(){return new Rt([vm])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=-1;function e1(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Zr(a,ye.empty(),e)}function t1(i){return new Zr(i.readTime,i.key,ha)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(we.min(),ye.empty(),ha)}static max(){return new Zr(we.max(),ye.empty(),ha)}}function n1(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==r1)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(a=>a?q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new q((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(w=>{h[v]=w,++m,m===u&&s(h)},w=>a(w))}})}static doWhile(e,n){return new q((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function s1(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Iu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function Au(i){return i==null}function uu(i){return i===0&&1/i==-1/0}function o1(i){return typeof i=="number"&&Number.isInteger(i)&&!uu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="";function a1(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=_m(e)),e=l1(i.get(n),e);return _m(e)}function l1(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case $g:n+="";break;default:n+=u}}return n}function _m(i){return i+$g+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Hg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class wm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new mt(Rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wg("Invalid base64 string: "+u):u}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const u1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(i){if(Ue(!!i),typeof i=="string"){let e=0;const n=u1.exec(i);if(Ue(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(i.seconds),nanos:rt(i.nanos)}}function rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ti(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="server_timestamp",Kg="__type__",Qg="__previous_value__",Gg="__local_write_time__";function rd(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kg])===null||n===void 0?void 0:n.stringValue)===qg}function Cu(i){const e=i.mapValue.fields[Qg];return rd(e)?Cu(e):e}function da(i){const e=ei(i.mapValue.fields[Gg].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,s,a,u,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}const cu="(default)";class fa{constructor(e,n){this.projectId=e,this.database=n||cu}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database===cu}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="__type__",Yg="__max__",Wl={mapValue:{fields:{__type__:{stringValue:Yg}}}},Jg="__vector__",hu="value";function ni(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?rd(i)?4:d1(i)?9007199254740991:h1(i)?10:11:ve()}function Qn(i,e){if(i===e)return!0;const n=ni(i);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return da(i).isEqual(da(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=ei(a.timestampValue),m=ei(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return ti(a.bytesValue).isEqual(ti(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return rt(a.geoPointValue.latitude)===rt(u.geoPointValue.latitude)&&rt(a.geoPointValue.longitude)===rt(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return rt(a.integerValue)===rt(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=rt(a.doubleValue),m=rt(u.doubleValue);return h===m?uu(h)===uu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Hs(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Em(h)!==Em(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Qn(h[g],m[g])))return!1;return!0}(i,e);default:return ve()}}function pa(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function Ws(i,e){if(i===e)return 0;const n=ni(i),s=ni(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=rt(u.integerValue||u.doubleValue),g=rt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Tm(i.timestampValue,e.timestampValue);case 4:return Tm(da(i),da(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ti(u),g=ti(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const w=ke(m[v],g[v]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(rt(u.latitude),rt(h.latitude));return m!==0?m:ke(rt(u.longitude),rt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Sm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,w;const S=u.fields||{},R=h.fields||{},L=(m=S[hu])===null||m===void 0?void 0:m.arrayValue,U=(g=R[hu])===null||g===void 0?void 0:g.arrayValue,B=ke(((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0,((w=U==null?void 0:U.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:Sm(L,U)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Wl.mapValue&&h===Wl.mapValue)return 0;if(u===Wl.mapValue)return 1;if(h===Wl.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const R=ke(g[S],w[S]);if(R!==0)return R;const L=Ws(m[g[S]],v[w[S]]);if(L!==0)return L}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ve()}}function Tm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=ei(i),s=ei(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function Sm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Ws(n[a],s[a]);if(u)return u}return ke(n.length,s.length)}function qs(i){return Vh(i)}function Vh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ei(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ti(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Vh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Vh(n.fields[h])}`;return a+"}"}(i.mapValue):ve()}function Yl(i){switch(ni(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cu(i);return e?16+Yl(e):16;case 5:return 2*i.stringValue.length;case 6:return ti(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Yl(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return bi(s.fields,(u,h)=>{a+=u.length+Yl(h)}),a}(i.mapValue);default:throw ve()}}function Nh(i){return!!i&&"integerValue"in i}function id(i){return!!i&&"arrayValue"in i}function Im(i){return!!i&&"nullValue"in i}function Am(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Jl(i){return!!i&&"mapValue"in i}function h1(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xg])===null||n===void 0?void 0:n.stringValue)===Jg}function ia(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return bi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ia(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(i.arrayValue.values[n]);return e}return Object.assign({},i)}function d1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Yg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=Rt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=ia(h):a.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Jl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){bi(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new mn(ia(this.value))}}function Zg(i){const e=[];return bi(i.fields,(n,s)=>{const a=new Rt([n]);if(Jl(s)){const u=Zg(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.position=e,this.inclusive=n}}function Cm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Ws(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function f1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{}class dt extends ey{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new m1(e,n,s):n==="array-contains"?new v1(e,s):n==="in"?new _1(e,s):n==="not-in"?new E1(e,s):n==="array-contains-any"?new w1(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new g1(e,s):new y1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends ey{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Gn(e,n)}matches(e){return ty(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ty(i){return i.op==="and"}function ny(i){return p1(i)&&ty(i)}function p1(i){for(const e of i.filters)if(e instanceof Gn)return!1;return!0}function Dh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+qs(i.value);if(ny(i))return i.filters.map(e=>Dh(e)).join(",");{const e=i.filters.map(n=>Dh(n)).join(",");return`${i.op}(${e})`}}function ry(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Gn?function(s,a){return a instanceof Gn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&ry(h,a.filters[m]),!0):!1}(i,e):void ve()}function iy(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(i):i instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(iy).join(" ,")+"}"}(i):"Filter"}class m1 extends dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class g1 extends dt{constructor(e,n){super(e,"in",n),this.keys=sy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y1 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=sy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class v1 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return id(n)&&pa(n.arrayValue,this.value)}}class _1 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class E1 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pa(this.value.arrayValue,n)}}class w1 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!id(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function Pm(i,e=null,n=[],s=[],a=null,u=null,h=null){return new T1(i,e,n,s,a,u,h)}function sd(i){const e=Te(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Dh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>qs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>qs(s)).join(",")),e.le=n}return e.le}function od(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!f1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ry(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Rm(i.startAt,e.startAt)&&Rm(i.endAt,e.endAt)}function Lh(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n=null,s=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function S1(i,e,n,s,a,u,h,m){return new Ru(i,e,n,s,a,u,h,m)}function ad(i){return new Ru(i)}function km(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function I1(i){return i.collectionGroup!==null}function sa(i){const e=Te(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Rt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new fu(u,s))}),n.has(Rt.keyField().canonicalString())||e.he.push(new fu(Rt.keyField(),s))}return e.he}function Wn(i){const e=Te(i);return e.Pe||(e.Pe=A1(e,sa(i))),e.Pe}function A1(i,e){if(i.limitType==="F")return Pm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new fu(a.field,u)});const n=i.endAt?new du(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new du(i.startAt.position,i.startAt.inclusive):null;return Pm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Oh(i,e,n){return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Pu(i,e){return od(Wn(i),Wn(e))&&i.limitType===e.limitType}function oy(i){return`${sd(Wn(i))}|lt:${i.limitType}`}function Fs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>iy(a)).join(", ")}]`),Au(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>qs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>qs(a)).join(",")),`Target(${s})`}(Wn(i))}; limitType=${i.limitType})`}function ku(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of sa(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=Cm(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,sa(s),a)||s.endAt&&!function(h,m,g){const v=Cm(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,sa(s),a))}(i,e)}function C1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ay(i){return(e,n)=>{let s=!1;for(const a of sa(i)){const u=R1(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function R1(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?Ws(g,v):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return Hg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Ze(ye.comparator);function _r(){return P1}const ly=new Ze(ye.comparator);function ta(...i){let e=ly;for(const n of i)e=e.insert(n.key,n);return e}function uy(i){let e=ly;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Li(){return oa()}function cy(){return oa()}function oa(){return new ji(i=>i.toString(),(i,e)=>i.isEqual(e))}const k1=new Ze(ye.comparator),x1=new mt(ye.comparator);function Re(...i){let e=x1;for(const n of i)e=e.add(n);return e}const V1=new mt(ke);function N1(){return V1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function hy(i){return{integerValue:""+i}}function D1(i,e){return o1(e)?hy(e):ld(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this._=void 0}}function L1(i,e,n){return i instanceof pu?function(a,u){const h={fields:{[Kg]:{stringValue:qg},[Gg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&rd(u)&&(u=Cu(u)),u&&(h.fields[Qg]=u),{mapValue:h}}(n,e):i instanceof ma?fy(i,e):i instanceof ga?py(i,e):function(a,u){const h=dy(a,u),m=xm(h)+xm(a.Ie);return Nh(h)&&Nh(a.Ie)?hy(m):ld(a.serializer,m)}(i,e)}function O1(i,e,n){return i instanceof ma?fy(i,e):i instanceof ga?py(i,e):n}function dy(i,e){return i instanceof mu?function(s){return Nh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class pu extends xu{}class ma extends xu{constructor(e){super(),this.elements=e}}function fy(i,e){const n=my(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ga extends xu{constructor(e){super(),this.elements=e}}function py(i,e){let n=my(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class mu extends xu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xm(i){return rt(i.integerValue||i.doubleValue)}function my(i){return id(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function M1(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ma&&a instanceof ma||s instanceof ga&&a instanceof ga?Hs(s.elements,a.elements,Qn):s instanceof mu&&a instanceof mu?Qn(s.Ie,a.Ie):s instanceof pu&&a instanceof pu}(i.transform,e.transform)}class F1{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vu{}function gy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new vy(i.key,gr.none()):new wa(i.key,i.data,gr.none());{const n=i.data,s=mn.empty();let a=new mt(Rt.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Bi(i.key,s,new Nn(a.toArray()),gr.none())}}function U1(i,e,n){i instanceof wa?function(a,u,h){const m=a.value.clone(),g=Nm(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Bi?function(a,u,h){if(!Zl(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Nm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(yy(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function aa(i,e,n,s){return i instanceof wa?function(u,h,m,g){if(!Zl(u.precondition,h))return m;const v=u.value.clone(),w=Dm(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Bi?function(u,h,m,g){if(!Zl(u.precondition,h))return m;const v=Dm(u.fieldTransforms,g,h),w=h.data;return w.setAll(yy(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,h,m){return Zl(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function z1(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=dy(s.transform,a||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function Vm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Hs(s,a,(u,h)=>M1(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wa extends Vu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bi extends Vu{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Nm(i,e,n){const s=new Map;Ue(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,O1(h,m,n[a]))}return s}function Dm(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,L1(u,h,e))}return s}class vy extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b1 extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&U1(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=aa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=aa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cy();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(a.key)?null:m;const g=gy(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,s)=>Vm(n,s))&&Hs(this.baseMutations,e.baseMutations,(n,s)=>Vm(n,s))}}class ud{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ue(e.mutations.length===s.length);let a=function(){return k1}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new ud(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ne;function H1(i){switch(i){case X.OK:return ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve()}}function _y(i){if(i===void 0)return vr("GRPC error has no .code"),X.UNKNOWN;switch(i){case ot.OK:return X.OK;case ot.CANCELLED:return X.CANCELLED;case ot.UNKNOWN:return X.UNKNOWN;case ot.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ot.INTERNAL:return X.INTERNAL;case ot.UNAVAILABLE:return X.UNAVAILABLE;case ot.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ot.NOT_FOUND:return X.NOT_FOUND;case ot.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ot.ABORTED:return X.ABORTED;case ot.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ot.DATA_LOSS:return X.DATA_LOSS;default:return ve()}}(Ne=ot||(ot={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Gr([4294967295,4294967295],0);function Lm(i){const e=W1().encode(i),n=new Og;return n.update(e),new Uint8Array(n.digest())}function Om(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([a,u],0)]}class cd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(s<0)throw new na(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(e,n,s){let a=e.add(n.multiply(Gr.fromNumber(s)));return a.compare(q1)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Lm(e),[s,a]=Om(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,a,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new cd(u,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=Lm(e),[s,a]=Om(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,a,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nu(we.min(),a,new Ze(ke),_r(),Re())}}class Ta{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ta(s,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,s,a){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=a}}class Ey{constructor(e,n){this.targetId=e,this.ge=n}}class wy{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Mm{constructor(){this.pe=0,this.ye=Fm(),this.we=Pt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Re(),n=Re(),s=Re();return this.ye.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new Ta(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Fm()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ue(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class K1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_r(),this.$e=ql(),this.Ke=ql(),this.Ue=new Ze(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,s=e.ge.count,a=this.Xe(n);if(a){const u=a.target;if(Lh(u))if(s===0){const h=new ye(u.path);this.ze(n,h,Ft.newNoDocument(h,we.min()))}else Ue(s===1);else{const h=this.et(n);if(h!==s){const m=this.tt(e),g=m?this.nt(m,e,h):1;if(g!==0){this.Ye(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,v)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,m;try{h=ti(s).toUint8Array()}catch(g){if(g instanceof Wg)return $s("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cd(h,a,u)}catch(g){return $s(g instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Lh(m.target)){const g=new ye(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ft.newNoDocument(g,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Re();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.Xe(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const a=new Nu(e,n,this.Ue,this.Qe,s);return this.Qe=_r(),this.$e=ql(),this.Ke=ql(),this.Ue=new Ze(ke),a}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Mm,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new mt(ke),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new mt(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Mm),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ql(){return new Ze(ye.comparator)}function Fm(){return new Ze(ye.comparator)}const Q1={asc:"ASCENDING",desc:"DESCENDING"},G1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X1={and:"AND",or:"OR"};class Y1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mh(i,e){return i.useProto3Json||Au(e)?e:{value:e}}function gu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ty(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function J1(i,e){return gu(i,e.toTimestamp())}function qn(i){return Ue(!!i),we.fromTimestamp(function(n){const s=ei(n);return new pt(s.seconds,s.nanos)}(i))}function hd(i,e){return Fh(i,e).canonicalString()}function Fh(i,e){const n=function(a){return new Xe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Sy(i){const e=Xe.fromString(i);return Ue(Py(e)),e}function Uh(i,e){return hd(i.databaseId,e.path)}function Eh(i,e){const n=Sy(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Ay(n))}function Iy(i,e){return hd(i.databaseId,e)}function Z1(i){const e=Sy(i);return e.length===4?Xe.emptyPath():Ay(e)}function zh(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ay(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Um(i,e,n){return{name:Uh(i,e),fields:n.value.mapValue.fields}}function eT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(Ue(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const w=v.code===void 0?X.UNKNOWN:_y(v.code);return new fe(w,v.message||"")}(h);n=new wy(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eh(i,s.document.name),u=qn(s.document.updateTime),h=s.document.createTime?qn(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,u,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new eu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eh(i,s.document),u=s.readTime?qn(s.readTime):we.min(),h=Ft.newNoDocument(a,u),m=s.removedTargetIds||[];n=new eu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eh(i,s.document),u=s.removedTargetIds||[];n=new eu([],u,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new $1(a,u),m=s.targetId;n=new Ey(m,h)}}return n}function tT(i,e){let n;if(e instanceof wa)n={update:Um(i,e.key,e.value)};else if(e instanceof vy)n={delete:Uh(i,e.key)};else if(e instanceof Bi)n={update:Um(i,e.key,e.data),updateMask:cT(e.fieldMask)};else{if(!(e instanceof b1))return ve();n={verify:Uh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ma)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ga)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:J1(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(i,e.precondition)),n}function nT(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map(n=>function(a,u){let h=a.updateTime?qn(a.updateTime):qn(u);return h.isEqual(we.min())&&(h=qn(u)),new F1(h,a.transformResults||[])}(n,e))):[]}function rT(i,e){return{documents:[Iy(i,e.path)]}}function iT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Iy(i,a);const u=function(v){if(v.length!==0)return Ry(Gn.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(R){return{field:Us(R.field),direction:aT(R.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Mh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:n,parent:a}}function sT(i){let e=Z1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ue(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=function(S){const R=Cy(S);return R instanceof Gn&&ny(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(R=>function(U){return new fu(zs(U.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Au(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(S){const R=!!S.before,L=S.values||[];return new du(L,R)}(n.startAt));let v=null;return n.endAt&&(v=function(S){const R=!S.before,L=S.values||[];return new du(L,R)}(n.endAt)),S1(e,a,h,u,m,"F",g,v)}function oT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zs(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zs(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zs(n.unaryFilter.field);return dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zs(n.unaryFilter.field);return dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(zs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(s=>Cy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function aT(i){return Q1[i]}function lT(i){return G1[i]}function uT(i){return X1[i]}function Us(i){return{fieldPath:i.canonicalString()}}function zs(i){return Rt.fromServerFormat(i.fieldPath)}function Ry(i){return i instanceof dt?function(n){if(n.op==="=="){if(Am(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(Im(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Am(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(Im(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:lT(n.op),value:n.value}}}(i):i instanceof Gn?function(n){const s=n.getFilters().map(a=>Ry(a));return s.length===1?s[0]:{compositeFilter:{op:uT(n.op),filters:s}}}(i):ve()}function cT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Py(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,a,u=we.min(),h=we.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.Tt=e}}function dT(i){const e=sT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.Tn=new pT}addToCollectionParentIndex(e,n){return this.Tn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Zr.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class pT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Xe.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ky=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(ky,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ks(0)}static Un(){return new Ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LruGarbageCollector",mT=1048576;function jm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class gT{constructor(e){this.Hn=e,this.buffer=new mt(jm),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){se(bm,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?se(bm,"Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.er(3e5)})}}class vT{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return q.resolve(Iu.ae);const s=new gT(n);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(zm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zm):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,a,u,h,m,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(v=Date.now(),Ms()<=De.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S})))}}function _T(i,e){return new vT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&aa(s.mutation,a,Nn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Re()){const a=Li();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=ta();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Li();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Re()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let u=_r();const h=oa(),m=function(){return oa()}();return n.forEach((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Bi)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),aa(w.mutation,v,w.mutation.getFieldMask(),pt.now())):h.set(v.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>{var S;return m.set(v,new wT(w,(S=h.get(v))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=oa();let a=new Ze((h,m)=>h-m),u=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let w=s.get(g)||Nn.empty();w=m.applyToLocalView(v,w),s.set(g,w);const S=(a.get(m.batchId)||Re()).add(g);a=a.insert(m.batchId,S)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,w=g.value,S=cy();w.forEach(R=>{if(!u.has(R)){const L=gy(n.get(R),s.get(R));L!==null&&S.set(R,L),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):q.resolve(Li());let m=ha,g=u;return h.next(v=>q.forEach(v,(w,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(w)?q.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{g=g.insert(w,R)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Re())).next(w=>({batchId:m,changes:uy(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let a=ta();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=ta();return this.indexManager.getCollectionParents(e,u).next(m=>q.forEach(m,g=>{const v=function(S,R){return new Ru(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=ta();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&aa(w.mutation,v,Nn.empty(),pt.now()),ku(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return q.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:dT(a.bundledQuery),readTime:qn(a.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.overlays=new Ze(ye.comparator),this.Rr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Li();return q.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Et(e,n,u)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const a=Li(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Ze((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=Li(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Li(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return q.resolve(m)}Et(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new B1(n,s));let u=this.Rr.get(n);u===void 0&&(u=Re(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.Vr=new mt(wt.mr),this.gr=new mt(wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new wt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new Xe([])),s=new wt(n,e),a=new wt(n,e+1),u=[];return this.gr.forEachInRange([s,a],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new Xe([])),s=new wt(n,e),a=new wt(n,e+1);let u=Re();return this.gr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new wt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(wt.mr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new j1(u,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Mr=this.Mr.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return q.resolve(h)}lookupMutationBatch(e,n){return q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Nr(s),u=a<0?0:a;return q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?nd:this.Fr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,a],h=>{const m=this.Or(h.Cr);u.push(m)}),q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const u=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new wt(new ye(u),0);let m=new mt(ke);return this.Mr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Cr)),!0)},h),q.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ue(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return q.forEach(n.mutations,a=>{const u=new wt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new wt(n,0),a=this.Mr.firstAfterOrEqual(s);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.kr=e,this.docs=function(){return new Ze(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ft.newInvalidDocument(a))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=_r();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||n1(t1(w),s)<=0||(a.has(w.key)||ku(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return q.resolve(u)}getAllFromCollectionGroup(e,n,s,a){ve()}qr(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PT(this)}getSize(e){return q.resolve(this.size)}}class PT extends ET{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.persistence=e,this.Qr=new ji(n=>sd(n),od),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dd,this.targetCount=0,this.Ur=Ks.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,a)=>n(a)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),q.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.zn(n),q.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),q.waitFor(u).next(()=>a)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),q.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Iu(0),this.zr=!1,this.zr=!0,this.jr=new AT,this.referenceDelegate=e(this),this.Hr=new kT(this),this.indexManager=new fT,this.remoteDocumentCache=function(a){return new RT(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new hT(n),this.Yr=new ST(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new CT(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new xT(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(u=>this.referenceDelegate.Xr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}ei(e,n){return q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class xT extends i1{constructor(e){super(),this.currentSequenceNumber=e}}class fd{constructor(e){this.persistence=e,this.ti=new dd,this.ni=null}static ri(e){return new fd(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),q.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ii,s=>{const a=ye.fromPath(s);return this.si(e,a).next(u=>{u||n.removeEntry(a,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return q.or([()=>q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class yu{constructor(e,n){this.persistence=e,this.oi=new ji(s=>a1(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=_T(this,n)}static ri(e,n){return new yu(e,n)}Zr(){}Xr(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return q.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(u=>u?q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.qr(e,h=>this.ar(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),q.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yl(e.data.value)),n}ar(e,n,s){return q.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=a}static Yi(e,n){let s=Re(),a=Re();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new pd(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CE()?8:s1(IE())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new VT;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,s,a){return s.documentReadCount<this.es?(Ms()<=De.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),q.resolve()):(Ms()<=De.DEBUG&&se("QueryEngine","Query:",Fs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(Ms()<=De.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):q.resolve())}rs(e,n){if(km(n))return q.resolve(null);let s=Wn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Oh(n,null,"F"),s=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Re(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.cs(n,m);return this.ls(n,v,h,g.readTime)?this.rs(e,Oh(n,null,"F")):this.hs(e,v,n,g)}))})))}ss(e,n,s,a){return km(n)||a.isEqual(we.min())?q.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,a)?q.resolve(null):(Ms()<=De.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fs(n)),this.hs(e,h,n,e1(a,ha)).next(m=>m))})}cs(e,n){let s=new mt(ay(e));return n.forEach((a,u)=>{ku(e,u)&&(s=s.add(u))}),s}ls(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}_s(e,n,s){return Ms()<=De.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.ns.getDocumentsMatchingQuery(e,n,Zr.min(),s)}hs(e,n,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="LocalStore",DT=3e8;class LT{constructor(e,n,s,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new Ze(ke),this.Is=new ji(u=>sd(u),od),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function OT(i,e,n,s){return new LT(i,e,n,s)}async function Vy(i,e){const n=Te(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Re();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){m.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Rs:v,removedBatchIds:h,addedBatchIds:m}))})})}function MT(i,e){const n=Te(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,v,w){const S=v.batch,R=S.keys();let L=q.resolve();return R.forEach(U=>{L=L.next(()=>w.getEntry(g,U)).next(B=>{const b=v.docVersions.get(U);Ue(b!==null),B.version.compareTo(b)<0&&(S.applyToRemoteDocument(B,v),B.isValidDocument()&&(B.setReadTime(v.commitVersion),w.addEntry(B)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Re();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Ny(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function FT(i,e){const n=Te(i),s=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const m=[];e.targetChanges.forEach((w,S)=>{const R=a.get(S);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,w.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,w.addedDocuments,S)));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),a=a.insert(S,L),function(B,b,W){return B.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=DT?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(R,L,w)&&m.push(n.Hr.updateTargetData(u,L))});let g=_r(),v=Re();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))}),m.push(UT(u,h,e.documentUpdates).next(w=>{g=w.Vs,v=w.fs})),!s.isEqual(we.min())){const w=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(w)}return q.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.Ts=a,u))}function UT(i,e,n){let s=Re(),a=Re();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=_r();return n.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):se(md,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Vs:h,fs:a}})}function zT(i,e){const n=Te(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=nd),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bT(i,e){const n=Te(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Hr.getTargetData(s,e).next(u=>u?(a=u,q.resolve(a)):n.Hr.allocateTargetId(s).next(h=>(a=new qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function bh(i,e,n){const s=Te(i),a=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!eo(h))throw h;se(md,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function Bm(i,e,n){const s=Te(i);let a=we.min(),u=Re();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const S=Te(g),R=S.Is.get(w);return R!==void 0?q.resolve(S.Ts.get(R)):S.Hr.getTargetData(v,w)}(s,h,Wn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?a:we.min(),n?u:Re())).next(m=>(jT(s,C1(e),m),{documents:m,gs:u})))}function jT(i,e,n){let s=i.Es.get(e)||we.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class $m{constructor(){this.activeTargetIds=N1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BT{constructor(){this.ho=new $m,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $m,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="ConnectivityMonitor";class Wm{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){se(Hm,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){se(Hm,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl=null;function jh(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="RestConnection",HT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WT{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===cu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}bo(e,n,s,a,u){const h=jh(),m=this.So(e,n.toUriEncodedString());se(wh,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,a,u),this.vo(e,m,g,s).then(v=>(se(wh,`Received RPC '${e}' ${h}: `,v),v),v=>{throw $s(wh,`RPC '${e}' ${h} failed with error: `,v,"url: ",m,"request:",s),v})}Co(e,n,s,a,u,h){return this.bo(e,n,s,a,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}So(e,n){const s=HT[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class KT extends WT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,a){const u=jh();return new Promise((h,m)=>{const g=new Mg;g.setWithCredentials(!0),g.listenOnce(Fg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Xl.NO_ERROR:const w=g.getResponseJson();se(Ot,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Xl.TIMEOUT:se(Ot,`RPC '${e}' ${u} timed out`),m(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const S=g.getStatus();if(se(Ot,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R==null?void 0:R.error;if(L&&L.status&&L.message){const U=function(b){const W=b.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN}(L.status);m(new fe(U,L.message))}else m(new fe(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(X.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Ot,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);se(Ot,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}Wo(e,n,s){const a=jh(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=bg(),m=zg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const S=h.createWebChannel(w,g);let R=!1,L=!1;const U=new qT({Fo:b=>{L?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(R||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),S.open(),R=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,b),S.send(b))},Mo:()=>S.close()}),B=(b,W,Z)=>{b.listen(W,ne=>{try{Z(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return B(S,ea.EventType.OPEN,()=>{L||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),U.Qo())}),B(S,ea.EventType.CLOSE,()=>{L||(L=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),U.Ko())}),B(S,ea.EventType.ERROR,b=>{L||(L=!0,$s(Ot,`RPC '${e}' stream ${a} transport errored:`,b),U.Ko(new fe(X.UNAVAILABLE,"The operation could not be completed")))}),B(S,ea.EventType.MESSAGE,b=>{var W;if(!L){const Z=b.data[0];Ue(!!Z);const ne=Z,he=(ne==null?void 0:ne.error)||((W=ne[0])===null||W===void 0?void 0:W.error);if(he){se(Ot,`RPC '${e}' stream ${a} received error:`,he);const Se=he.status;let Ee=function(A){const P=ot[A];if(P!==void 0)return _y(P)}(Se),V=he.message;Ee===void 0&&(Ee=X.INTERNAL,V="Unknown error status: "+Se+" with message "+he.message),L=!0,U.Ko(new fe(Ee,V)),S.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,Z),U.Uo(Z)}}),B(m,Ug.STAT_EVENT,b=>{b.stat===xh.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===xh.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i){return new Y1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=a,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="PersistentStream";class Ly{constructor(e,n,s,a,u,h,m,g){this.Ti=e,this.n_=s,this.r_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Dy(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===n&&this.V_(s,a)},s=>{e(()=>{const a=new fe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return se(qm,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(se(qm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QT extends Ly{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=eT(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?qn(h.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=zh(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Lh(g)?{documents:rT(u,g)}:{query:iT(u,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ty(u,h.resumeToken);const v=Mh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=gu(u,h.snapshotVersion.toTimestamp());const v=Mh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=oT(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=zh(this.serializer),n.removeTarget=e,this.I_(n)}}class GT extends Ly{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=nT(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=zh(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>tT(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{}class YT extends XT{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Fh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(X.UNKNOWN,u.toString())})}Co(e,n,s,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Fh(n,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vr(n),this.N_=!1):se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="RemoteStore";class ZT{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{$i(this)&&(se(Ui,"Restarting streams for network reachability change."),await async function(g){const v=Te(g);v.W_.add(4),await Sa(v),v.j_.set("Unknown"),v.W_.delete(4),await Lu(v)}(this))})}),this.j_=new JT(s,a)}}async function Lu(i){if($i(i))for(const e of i.G_)await e(!0)}async function Sa(i){for(const e of i.G_)await e(!1)}function Oy(i,e){const n=Te(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),_d(n)?vd(n):to(n).c_()&&yd(n,e))}function gd(i,e){const n=Te(i),s=to(n);n.U_.delete(e),s.c_()&&My(n,e),n.U_.size===0&&(s.c_()?s.P_():$i(n)&&n.j_.set("Unknown"))}function yd(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}to(i).y_(e)}function My(i,e){i.H_.Ne(e),to(i).w_(e)}function vd(i){i.H_=new K1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),to(i).start(),i.j_.B_()}function _d(i){return $i(i)&&!to(i).u_()&&i.U_.size>0}function $i(i){return Te(i).W_.size===0}function Fy(i){i.H_=void 0}async function eS(i){i.j_.set("Online")}async function tS(i){i.U_.forEach((e,n)=>{yd(i,e)})}async function nS(i,e){Fy(i),_d(i)?(i.j_.q_(e),vd(i)):i.j_.set("Unknown")}async function rS(i,e,n){if(i.j_.set("Online"),e instanceof wy&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.U_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.U_.delete(m),a.H_.removeTarget(m))}(i,e)}catch(s){se(Ui,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vu(i,s)}else if(e instanceof eu?i.H_.We(e):e instanceof Ey?i.H_.Ze(e):i.H_.je(e),!n.isEqual(we.min()))try{const s=await Ny(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.U_.get(v);w&&u.U_.set(v,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const w=u.U_.get(g);if(!w)return;u.U_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),My(u,g);const S=new qr(w.target,g,v,w.sequenceNumber);yd(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se(Ui,"Failed to raise snapshot:",s),await vu(i,s)}}async function vu(i,e,n){if(!eo(e))throw e;i.W_.add(1),await Sa(i),i.j_.set("Offline"),n||(n=()=>Ny(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se(Ui,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Lu(i)})}function Uy(i,e){return e().catch(n=>vu(i,n,e))}async function Ou(i){const e=Te(i),n=ri(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:nd;for(;iS(e);)try{const a=await zT(e.localStore,s);if(a===null){e.K_.length===0&&n.P_();break}s=a.batchId,sS(e,a)}catch(a){await vu(e,a)}zy(e)&&by(e)}function iS(i){return $i(i)&&i.K_.length<10}function sS(i,e){i.K_.push(e);const n=ri(i);n.c_()&&n.b_&&n.S_(e.mutations)}function zy(i){return $i(i)&&!ri(i).u_()&&i.K_.length>0}function by(i){ri(i).start()}async function oS(i){ri(i).C_()}async function aS(i){const e=ri(i);for(const n of i.K_)e.S_(n.mutations)}async function lS(i,e,n){const s=i.K_.shift(),a=ud.from(s,e,n);await Uy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Ou(i)}async function uS(i,e){e&&ri(i).b_&&await async function(s,a){if(function(h){return H1(h)&&h!==X.ABORTED}(a.code)){const u=s.K_.shift();ri(s).h_(),await Uy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Ou(s)}}(i,e),zy(i)&&by(i)}async function Km(i,e){const n=Te(i);n.asyncQueue.verifyOperationInProgress(),se(Ui,"RemoteStore received new credentials");const s=$i(n);n.W_.add(3),await Sa(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Lu(n)}async function cS(i,e){const n=Te(i);e?(n.W_.delete(2),await Lu(n)):e||(n.W_.add(2),await Sa(n),n.j_.set("Unknown"))}function to(i){return i.J_||(i.J_=function(n,s,a){const u=Te(n);return u.M_(),new QT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{xo:eS.bind(null,i),No:tS.bind(null,i),Lo:nS.bind(null,i),p_:rS.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),_d(i)?vd(i):i.j_.set("Unknown")):(await i.J_.stop(),Fy(i))})),i.J_}function ri(i){return i.Y_||(i.Y_=function(n,s,a){const u=Te(n);return u.M_(),new GT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:oS.bind(null,i),Lo:uS.bind(null,i),D_:aS.bind(null,i),v_:lS.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Ou(i)):(await i.Y_.stop(),i.K_.length>0&&(se(Ui,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,m=new Ed(e,n,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(i,e){if(vr("AsyncQueue",`${e}: ${i}`),eo(i))return new fe(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=ta(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Z_=new Ze(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qs{constructor(e,n,s,a,u,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Qs(e,n,js.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dS{constructor(){this.queries=Gm(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const a=Te(n),u=a.queries;a.queries=Gm(),u.forEach((h,m)=>{for(const g of m.ta)g.onError(s)})})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function Gm(){return new ji(i=>oy(i),Pu)}async function jy(i,e){const n=Te(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.na()&&e.ra()&&(s=2):(u=new hS,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(a,!0);break;case 1:u.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=wd(h,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Td(n)}async function By(i,e){const n=Te(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?a=e.ra()?0:1:!u.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fS(i,e){const n=Te(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(a)&&(s=!0);h.ea=a}}s&&Td(n)}function pS(i,e,n){const s=Te(i),a=s.queries.get(e);if(a)for(const u of a.ta)u.onError(n);s.queries.delete(e)}function Td(i){i.ia.forEach(e=>{e.next()})}var Bh,Xm;(Xm=Bh||(Bh={}))._a="default",Xm.Cache="cache";class $y{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.key=e}}class Wy{constructor(e){this.key=e}}class mS{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Re(),this.mutatedKeys=Re(),this.ya=ay(e),this.wa=new js(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Qm,a=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,S)=>{const R=a.get(w),L=ku(this.query,S)?S:null,U=!!R&&this.mutatedKeys.has(R.key),B=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let b=!1;R&&L?R.data.isEqual(L.data)?U!==B&&(s.track({type:3,doc:L}),b=!0):this.va(R,L)||(s.track({type:2,doc:L}),b=!0,(g&&this.ya(L,g)>0||v&&this.ya(L,v)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),b=!0):R&&!L&&(s.track({type:1,doc:R}),b=!0,(g||v)&&(m=!0)),b&&(L?(h=h.add(L),u=B?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((w,S)=>function(L,U){const B=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return B(L)-B(U)}(w.type,S.type)||this.ya(w.doc,S.doc)),this.Ca(s),a=a!=null&&a;const m=n&&!a?this.Fa():[],g=this.pa.size===0&&this.current&&!a?1:0,v=g!==this.ga;return this.ga=g,h.length!==0||v?{snapshot:new Qs(this.query,e.wa,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qm,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Re(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Wy(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Hy(s))}),n}Oa(e){this.fa=e.gs,this.pa=Re();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Qs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Sd="SyncEngine";class gS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yS{constructor(e){this.key=e,this.Ba=!1}}class vS{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ji(m=>oy(m),Pu),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(ye.comparator),this.Ka=new Map,this.Ua=new dd,this.Wa={},this.Ga=new Map,this.za=Ks.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _S(i,e,n=!0){const s=Yy(i);let a;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Na()):a=await qy(s,e,n,!0),a}async function ES(i,e){const n=Yy(i);await qy(n,e,!0,!1)}async function qy(i,e,n,s){const a=await bT(i.localStore,Wn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await wS(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&Oy(i.remoteStore,a),m}async function wS(i,e,n,s,a){i.Ha=(S,R,L)=>async function(B,b,W,Z){let ne=b.view.Sa(W);ne.ls&&(ne=await Bm(B.localStore,b.query,!1).then(({documents:V})=>b.view.Sa(V,ne)));const he=Z&&Z.targetChanges.get(b.targetId),Se=Z&&Z.targetMismatches.get(b.targetId)!=null,Ee=b.view.applyChanges(ne,B.isPrimaryClient,he,Se);return Jm(B,b.targetId,Ee.Ma),Ee.snapshot}(i,S,R,L);const u=await Bm(i.localStore,e,!0),h=new mS(e,u.gs),m=h.Sa(u.documents),g=Ta.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);Jm(i,n,v.Ma);const w=new gS(e,n,h);return i.ka.set(e,w),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),v.snapshot}async function TS(i,e,n){const s=Te(i),a=s.ka.get(e),u=s.qa.get(a.targetId);if(u.length>1)return s.qa.set(a.targetId,u.filter(h=>!Pu(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await bh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&gd(s.remoteStore,a.targetId),$h(s,a.targetId)}).catch(Zs)):($h(s,a.targetId),await bh(s.localStore,a.targetId,!0))}async function SS(i,e){const n=Te(i),s=n.ka.get(e),a=n.qa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gd(n.remoteStore,s.targetId))}async function IS(i,e,n){const s=VS(i);try{const a=await function(h,m){const g=Te(h),v=pt.now(),w=m.reduce((L,U)=>L.add(U.key),Re());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=_r(),B=Re();return g.ds.getEntries(L,w).next(b=>{U=b,U.forEach((W,Z)=>{Z.isValidDocument()||(B=B.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,U)).next(b=>{S=b;const W=[];for(const Z of m){const ne=z1(Z,S.get(Z.key).overlayedDocument);ne!=null&&W.push(new Bi(Z.key,ne,Zg(ne.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,v,W,m)}).next(b=>{R=b;const W=b.applyToLocalDocumentSet(S,B);return g.documentOverlayCache.saveOverlays(L,b.batchId,W)})}).then(()=>({batchId:R.batchId,changes:uy(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.Wa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(m,g),h.Wa[h.currentUser.toKey()]=v}(s,a.batchId,n),await Ia(s,a.changes),await Ou(s.remoteStore)}catch(a){const u=wd(a,"Failed to persist write");n.reject(u)}}async function Ky(i,e){const n=Te(i);try{const s=await FT(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ka.get(u);h&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Ba=!0:a.modifiedDocuments.size>0?Ue(h.Ba):a.removedDocuments.size>0&&(Ue(h.Ba),h.Ba=!1))}),await Ia(n,s,e)}catch(s){await Zs(s)}}function Ym(i,e,n){const s=Te(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Te(h);g.onlineState=m;let v=!1;g.queries.forEach((w,S)=>{for(const R of S.ta)R.sa(m)&&(v=!0)}),v&&Td(g)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AS(i,e,n){const s=Te(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ka.get(e),u=a&&a.key;if(u){let h=new Ze(ye.comparator);h=h.insert(u,Ft.newNoDocument(u,we.min()));const m=Re().add(u),g=new Nu(we.min(),new Map,new Ze(ke),h,m);await Ky(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),Id(s)}else await bh(s.localStore,e,!1).then(()=>$h(s,e,n)).catch(Zs)}async function CS(i,e){const n=Te(i),s=e.batch.batchId;try{const a=await MT(n.localStore,e);Gy(n,s,null),Qy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ia(n,a)}catch(a){await Zs(a)}}async function RS(i,e,n){const s=Te(i);try{const a=await function(h,m){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,m).next(S=>(Ue(S!==null),w=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);Gy(s,e,n),Qy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ia(s,a)}catch(a){await Zs(a)}}function Qy(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Gy(i,e,n){const s=Te(i);let a=s.Wa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function $h(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||Xy(i,s)})}function Xy(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(gd(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Id(i))}function Jm(i,e,n){for(const s of n)s instanceof Hy?(i.Ua.addReference(s.key,e),PS(i,s)):s instanceof Wy?(se(Sd,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Xy(i,s.key)):ve()}function PS(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(se(Sd,"New document in limbo: "+n),i.Qa.add(s),Id(i))}function Id(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ye(Xe.fromString(e)),s=i.za.next();i.Ka.set(s,new yS(n)),i.$a=i.$a.insert(n,s),Oy(i.remoteStore,new qr(Wn(ad(n.path)),s,"TargetPurposeLimboResolution",Iu.ae))}}async function Ia(i,e,n){const s=Te(i),a=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{h.push(s.Ha(g,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const S=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){a.push(v);const S=pd.Yi(g.targetId,v);u.push(S)}}))}),await Promise.all(h),s.La.p_(a),await async function(g,v){const w=Te(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>q.forEach(v,R=>q.forEach(R.Hi,L=>w.persistence.referenceDelegate.addReference(S,R.targetId,L)).next(()=>q.forEach(R.Ji,L=>w.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))}catch(S){if(!eo(S))throw S;se(md,"Failed to update sequence numbers: "+S)}for(const S of v){const R=S.targetId;if(!S.fromCache){const L=w.Ts.get(R),U=L.snapshotVersion,B=L.withLastLimboFreeSnapshotVersion(U);w.Ts=w.Ts.insert(R,B)}}}(s.localStore,u))}async function kS(i,e){const n=Te(i);if(!n.currentUser.isEqual(e)){se(Sd,"User change. New user:",e.toKey());const s=await Vy(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new fe(X.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ia(n,s.Rs)}}function xS(i,e){const n=Te(i),s=n.Ka.get(e);if(s&&s.Ba)return Re().add(s.key);{let a=Re();const u=n.qa.get(e);if(!u)return a;for(const h of u){const m=n.ka.get(h);a=a.unionWith(m.view.ba)}return a}}function Yy(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ky.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AS.bind(null,e),e.La.p_=fS.bind(null,e.eventManager),e.La.Ja=pS.bind(null,e.eventManager),e}function VS(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RS.bind(null,e),e}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Du(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return OT(this.persistence,new NT,e.initialUser,this.serializer)}Xa(e){return new xy(fd.ri,this.serializer)}Za(e){return new BT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class NS extends _u{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ue(this.persistence.referenceDelegate instanceof yu);const s=this.persistence.referenceDelegate.garbageCollector;return new yT(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new xy(s=>yu.ri(s,n),this.serializer)}}class Hh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ym(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kS.bind(null,this.syncEngine),await cS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dS}()}createDatastore(e){const n=Du(e.databaseInfo.databaseId),s=function(u){return new KT(u)}(e.databaseInfo);return function(u,h,m,g){return new YT(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,m){return new ZT(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Ym(this.syncEngine,n,0),function(){return Wm.D()?new Wm:new $T}())}createSyncEngine(e,n){return function(a,u,h,m,g,v,w){const S=new vS(a,u,h,m,g,v);return w&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Te(a);se(Ui,"RemoteStore shutting down."),u.W_.add(5),await Sa(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hh.provider={build:()=>new Hh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class DS{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{se(ii,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(se(ii,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Sh(i,e){i.asyncQueue.verifyOperationInProgress(),se(ii,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Vy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Zm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await LS(i);se(ii,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Km(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Km(e.remoteStore,a)),i._onlineComponents=e}async function LS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se(ii,"Using user provided OfflineComponentProvider");try{await Sh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await Sh(i,new _u)}}else se(ii,"Using default OfflineComponentProvider"),await Sh(i,new NS(void 0));return i._offlineComponents}async function Zy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se(ii,"Using user provided OnlineComponentProvider"),await Zm(i,i._uninitializedComponentsProvider._online)):(se(ii,"Using default OnlineComponentProvider"),await Zm(i,new Hh))),i._onlineComponents}function OS(i){return Zy(i).then(e=>e.syncEngine)}async function Wh(i){const e=await Zy(i),n=e.eventManager;return n.onListen=_S.bind(null,e.syncEngine),n.onUnlisten=TS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ES.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SS.bind(null,e.syncEngine),n}function MS(i,e,n={}){const s=new Xr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const w=new Jy({next:R=>{w.su(),h.enqueueAndForget(()=>By(u,S)),R.fromCache&&g.source==="server"?v.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new $y(m,w,{includeMetadataChanges:!0,Ta:!0});return jy(u,S)}(await Wh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(i,e,n){if(!n)throw new fe(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FS(i,e,n,s){if(e===!0&&s===!0)throw new fe(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tg(i){if(!ye.isDocumentKey(i))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ng(i){if(ye.isDocumentKey(i))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ad(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function Mi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ad(i);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="firestore.googleapis.com",rg=!0;class ig{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nv,this.ssl=rg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:rg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ky;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mT)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ev((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qw;switch(s.type){case"firstParty":return new Xw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=eg.get(n);s&&(se("ComponentProvider","Removing Datastore"),eg.delete(n),s.terminate())}(this),Promise.resolve()}}function US(i,e,n,s={}){var a;const u=(i=Mi(i,Mu))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==nv&&u.host!==m&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ou(g,h)&&(i._setSettings(g),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Mt.MOCK_USER;else{v=SE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mt(S)}i._authCredentials=new Kw(new jg(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Yr extends Aa{constructor(e,n,s){super(e,n,ad(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ye(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function rv(i,e,...n){if(i=Bs(i),tv("collection","path",e),i instanceof Mu){const s=Xe.fromString(e,...n);return ng(s),new Yr(i,null,s)}{if(!(i instanceof gn||i instanceof Yr))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return ng(s),new Yr(i.firestore,null,s)}}function zS(i,e,...n){if(i=Bs(i),arguments.length===1&&(e=Bg.newId()),tv("doc","path",e),i instanceof Mu){const s=Xe.fromString(e,...n);return tg(s),new gn(i,null,new ye(s))}{if(!(i instanceof gn||i instanceof Yr))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return tg(s),new gn(i.firestore,i instanceof Yr?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="AsyncQueue";class og{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Dy(this,"async_queue_retry"),this.bu=()=>{const s=Th();s&&se(sg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Xr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!eo(e))throw e;se(sg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw vr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=Ed.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(a),a}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ag(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ya extends Mu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new og,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new og(e),this._firestoreClient=void 0,await e}}}function bS(i,e){const n=typeof i=="object"?i:Dw(),s=typeof i=="string"?i:cu,a=Pw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=wE("firestore");u&&US(a,...u)}return a}function Cd(i){if(i._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jS(i),i._firestoreClient}function jS(i){var e,n,s;const a=i._freezeSettings(),u=function(m,g,v,w){return new c1(m,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,ev(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new DS(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(Pt.fromBase64String(e))}catch(n){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=/^__.*__$/;class $S{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wa(e,this.data,n,this.fieldTransforms)}}function sv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class xd{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Eu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sv(this.Lu)&&BS.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Du(e)}ju(e,n,s,a=!1){return new xd({Lu:e,methodName:n,zu:s,path:Rt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WS(i){const e=i._freezeSettings(),n=Du(i._databaseId);return new HS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function qS(i,e,n,s,a,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,a);uv("Data must be an object, but it was:",h,s);const m=av(s,h);let g,v;if(u.merge)g=new Nn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const S of u.mergeFields){const R=KS(e,S,n);if(!h.contains(R))throw new fe(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);GS(w,R)||w.push(R)}g=new Nn(w),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new $S(new mn(m),g,v)}function ov(i,e){if(lv(i=Bs(i)))return uv("Unsupported field value:",e,i),av(i,e);if(i instanceof iv)return function(s,a){if(!sv(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const m of s){let g=ov(m,a.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Bs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:gu(a.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gu(a.serializer,u)}}if(s instanceof Pd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gs)return{bytesValue:Ty(a.serializer,s._byteString)};if(s instanceof gn){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof kd)return function(h,m){return{mapValue:{fields:{[Xg]:{stringValue:Jg},[hu]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.Wu("VectorValues must only contain numeric values.");return ld(m.serializer,v)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Ad(s)}`)}(i,e)}function av(i,e){const n={};return Hg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(i,(s,a)=>{const u=ov(a,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function lv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof Pd||i instanceof Gs||i instanceof gn||i instanceof iv||i instanceof kd)}function uv(i,e,n){if(!lv(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Ad(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function KS(i,e,n){if((e=Bs(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return cv(i,e);throw Eu("Field path arguments must be of type string or ",i,!1,void 0,n)}const QS=new RegExp("[~\\*/\\[\\]]");function cv(i,e,n){if(e.search(QS)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Rd(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new fe(X.INVALID_ARGUMENT,m+i+g)}function GS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XS extends hv{data(){return super.data()}}function dv(i,e){return typeof e=="string"?cv(i,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YS{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bi(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[hu].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>rt(h.doubleValue));return new kd(u)}convertGeoPoint(e){return new Pd(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Cu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){const n=ei(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);Ue(Py(s));const a=new fa(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return a.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pv extends hv{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class tu extends pv{data(e={}){return super.data(e)}}class mv{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ra(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new tu(this._firestore,this._userDataWriter,s.key,s,new ra(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new tu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ra(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new tu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ra(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:ZS(m.type),doc:g,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class Vd extends YS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function eI(i){i=Mi(i,Aa);const e=Mi(i.firestore,ya),n=Cd(e),s=new Vd(e);return fv(i._query),MS(n,i._query).then(a=>new mv(e,s,i,a))}function tI(i,e){const n=Mi(i.firestore,ya),s=zS(i),a=JS(i.converter,e);return rI(n,[qS(WS(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,gr.exists(!1))]).then(()=>s)}function nI(i,...e){var n,s,a;i=Bs(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||ag(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(ag(e[h])){const S=e[h];e[h]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[h+2]=(a=S.complete)===null||a===void 0?void 0:a.bind(S)}let g,v,w;if(i instanceof gn)v=Mi(i.firestore,ya),w=ad(i._key.path),g={next:S=>{e[h]&&e[h](iI(v,i,S))},error:e[h+1],complete:e[h+2]};else{const S=Mi(i,Aa);v=Mi(S.firestore,ya),w=S._query;const R=new Vd(v);g={next:L=>{e[h]&&e[h](new mv(v,R,S,L))},error:e[h+1],complete:e[h+2]},fv(i._query)}return function(R,L,U,B){const b=new Jy(B),W=new $y(L,b,U);return R.asyncQueue.enqueueAndForget(async()=>jy(await Wh(R),W)),()=>{b.su(),R.asyncQueue.enqueueAndForget(async()=>By(await Wh(R),W))}}(Cd(v),w,m,g)}function rI(i,e){return function(s,a){const u=new Xr;return s.asyncQueue.enqueueAndForget(async()=>IS(await OS(s),a,u)),u.promise}(Cd(i),e)}function iI(i,e,n){const s=n.docs.get(e._key),a=new Vd(i);return new pv(i,a,e._key,s,new ra(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Js=a})(Nw),lu(new ua("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ya(new Qw(s.getProvider("auth-internal")),new Yw(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(v.options.projectId,w)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),bs(fm,pm,e),bs(fm,pm,"esm2017")})();const sI={apiKey:"AIzaSyDIk3zgX22IKmKROucbU82jmb6INd90Ry8",authDomain:"logo-game-e883a.firebaseapp.com",projectId:"logo-game-e883a",storageBucket:"logo-game-e883a.firebasestorage.app",messagingSenderId:"193599342855",appId:"1:193599342855:web:1abcc70f472e4104e25da2"},oI=Ng(sI),gv=bS(oI),aI=({questionNum:i,correctNum:e,score:n,onShowranking:s})=>{const[a,u]=H.useState({correct:0,questions:0,name:"anonymous",score:0,timestamp:new Date}),h=g=>{u(v=>({...v,name:g.target.value}))},m=async()=>{if(a.name){try{a.correct=e,a.questions=i,a.score=n,console.log(a);const g=await tI(rv(gv,"scores"),a);console.log(":",g.id),s(!0)}catch(g){console.error("Error",g)}console.log("submit!")}};return ue.jsx(ue.Fragment,{children:ue.jsxs("div",{className:"finish",children:[ue.jsx("h1",{className:"finishTitle",children:"Time up!"}),ue.jsx("p",{children:"Thank you for playing!"}),ue.jsxs("div",{className:"finishScore",children:[ue.jsxs("p",{children:["Score: ",n]}),ue.jsxs("p",{children:["Correct: ",e,"/",i]})]}),ue.jsxs("div",{className:"finishInputArea",children:[ue.jsx("label",{htmlFor:"finishInput",children:"Please fill in your name!"}),ue.jsx("input",{type:"text",className:"finishInput",id:"finishInput",placeholder:"Your name",onChange:h}),ue.jsx("input",{type:"button",className:"finishInputBtn",value:"OK",onClick:m})]})]})})};function yv(i){return Jh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32l0 192c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-192c0-17.7-14.3-32-32-32l-128 0zM32 320c-17.7 0-32 14.3-32 32L0 480c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L32 320zm416 96l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-128 0c-17.7 0-32 14.3-32 32z"},child:[]}]})(i)}const lI=()=>{const[i,e]=H.useState([]);return H.useEffect(()=>{const n=rv(gv,"scores");eI(n).then(s=>{e(s.docs.map(a=>({id:a.id,...a.data()})).sort((a,u)=>u.score-a.score)),console.log(i)}),nI(n,s=>{e(s.docs.map(a=>({id:a.id,...a.data()})).sort((a,u)=>u.score-a.score))})},[]),ue.jsxs("div",{className:"card",children:[ue.jsxs("h2",{style:{fontSize:"32px",color:"#fff"},children:[ue.jsx(yv,{style:{verticalAlign:"bottom",paddingBottom:"5px",marginRight:"10px"}}),"Ranking"]}),ue.jsx("ul",{className:"ranking",children:i.map((n,s)=>ue.jsxs("li",{children:[ue.jsx("div",{children:s+1}),ue.jsx("div",{children:n.name}),ue.jsxs("div",{children:[ue.jsx("div",{children:n.score}),ue.jsxs("div",{style:{fontSize:"16px"},children:["(",n.correct,"/",n.questions,")"]})]})]},n.id))})]})},uI=()=>{const[n,s]=H.useState(!0),[a,u]=H.useState(!1),[h,m]=H.useState(!1),[g,v]=H.useState(!1),[w,S]=H.useState(0),[R,L]=H.useState(0),[U,B]=H.useState(30),[b,W]=H.useState(0),[Z,ne]=H.useState(0),he=x=>{u(!x),m(x),console.log("finish")},Se=x=>{u(!x),m(!x),s(!x),v(x)},Ee=()=>{console.log("start"),u(!0),s(!1)},V=x=>{S(x)},T=x=>{L(x)},A=x=>{B(x)},P=x=>{ne(x===!0?Z+1:0)};return H.useEffect(()=>{W(()=>50*R+10*Z)},[R,Z]),ue.jsxs(ue.Fragment,{children:[ue.jsx("header",{children:ue.jsxs("div",{className:"container",children:[ue.jsx("nav",{className:"header_nav",children:a&&ue.jsxs("ul",{children:[ue.jsxs("li",{children:[ue.jsx(cE,{}),ue.jsx("span",{className:"point",children:b})]}),ue.jsxs("li",{children:[ue.jsx(uE,{}),ue.jsx("span",{className:"point",children:U}),"s"]})]})}),ue.jsx("div",{className:"headerRanking",title:"Ranking",onClick:()=>Se(!0),children:ue.jsx(yv,{title:"Ranking"})}),ue.jsx("div",{className:"logo",children:ue.jsx("a",{href:"",children:"logo"})})]})}),ue.jsx("main",{children:ue.jsxs("div",{className:"container",children:[a&&ue.jsx(tE,{onTimeUpdate:A,onCorrectUpdate:V,questionNum:R,correctNum:w,onQuestionUpdate:T,onFinish:he,onSteakUpdate:P}),n&&ue.jsxs("div",{className:"wrapper",children:[ue.jsx("h1",{className:"main_title neonText",children:"LOGO GAME"}),ue.jsx("p",{className:"main_sub_title",children:"- How many logos do you know? -"}),ue.jsx("button",{onClick:()=>Ee(),className:"start_btn",children:"START"})]}),h&&ue.jsx(aI,{correctNum:w,questionNum:R,score:b,onShowranking:Se}),g&&ue.jsx(lI,{})]})}),ue.jsx("footer",{children:ue.jsx("p",{children:" 2025 Mizuki Aoki"})})]})};k_.createRoot(document.getElementById("root")).render(ue.jsx($0,{basename:"/logo_game",children:ue.jsx(uI,{})}));
