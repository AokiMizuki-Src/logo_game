(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();function Kv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Eh={exports:{}},na={},wh={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Qv(){if(em)return Re;em=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function R(b){return b===null||typeof b!="object"?null:(b=I&&b[I]||b["@@iterator"],typeof b=="function"?b:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function O(b,G,pe){this.props=b,this.context=G,this.refs=z,this.updater=pe||V}O.prototype.isReactComponent={},O.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},O.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function j(){}j.prototype=O.prototype;function q(b,G,pe){this.props=b,this.context=G,this.refs=z,this.updater=pe||V}var K=q.prototype=new j;K.constructor=q,M(K,O.prototype),K.isPureReactComponent=!0;var ee=Array.isArray,le=Object.prototype.hasOwnProperty,he={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(b,G,pe){var Ae,Ce={},Ne=null,Ue=null;if(G!=null)for(Ae in G.ref!==void 0&&(Ue=G.ref),G.key!==void 0&&(Ne=""+G.key),G)le.call(G,Ae)&&!P.hasOwnProperty(Ae)&&(Ce[Ae]=G[Ae]);var ze=arguments.length-2;if(ze===1)Ce.children=pe;else if(1<ze){for(var Ke=Array(ze),Et=0;Et<ze;Et++)Ke[Et]=arguments[Et+2];Ce.children=Ke}if(b&&b.defaultProps)for(Ae in ze=b.defaultProps,ze)Ce[Ae]===void 0&&(Ce[Ae]=ze[Ae]);return{$$typeof:i,type:b,key:Ne,ref:Ue,props:Ce,_owner:he.current}}function S(b,G){return{$$typeof:i,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function k(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function x(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(pe){return G[pe]})}var L=/\/+/g;function C(b,G){return typeof b=="object"&&b!==null&&b.key!=null?x(""+b.key):G.toString(36)}function je(b,G,pe,Ae,Ce){var Ne=typeof b;(Ne==="undefined"||Ne==="boolean")&&(b=null);var Ue=!1;if(b===null)Ue=!0;else switch(Ne){case"string":case"number":Ue=!0;break;case"object":switch(b.$$typeof){case i:case e:Ue=!0}}if(Ue)return Ue=b,Ce=Ce(Ue),b=Ae===""?"."+C(Ue,0):Ae,ee(Ce)?(pe="",b!=null&&(pe=b.replace(L,"$&/")+"/"),je(Ce,G,pe,"",function(Et){return Et})):Ce!=null&&(k(Ce)&&(Ce=S(Ce,pe+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(L,"$&/")+"/")+b)),G.push(Ce)),1;if(Ue=0,Ae=Ae===""?".":Ae+":",ee(b))for(var ze=0;ze<b.length;ze++){Ne=b[ze];var Ke=Ae+C(Ne,ze);Ue+=je(Ne,G,pe,Ke,Ce)}else if(Ke=R(b),typeof Ke=="function")for(b=Ke.call(b),ze=0;!(Ne=b.next()).done;)Ne=Ne.value,Ke=Ae+C(Ne,ze++),Ue+=je(Ne,G,pe,Ke,Ce);else if(Ne==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ue}function We(b,G,pe){if(b==null)return b;var Ae=[],Ce=0;return je(b,Ae,"","",function(Ne){return G.call(pe,Ne,Ce++)}),Ae}function Ie(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(pe){(b._status===0||b._status===-1)&&(b._status=1,b._result=pe)},function(pe){(b._status===0||b._status===-1)&&(b._status=2,b._result=pe)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var Pe={current:null},ne={transition:null},ge={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:he};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:We,forEach:function(b,G,pe){We(b,function(){G.apply(this,arguments)},pe)},count:function(b){var G=0;return We(b,function(){G++}),G},toArray:function(b){return We(b,function(G){return G})||[]},only:function(b){if(!k(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Re.Component=O,Re.Fragment=n,Re.Profiler=s,Re.PureComponent=q,Re.StrictMode=o,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=oe,Re.cloneElement=function(b,G,pe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Ae=M({},b.props),Ce=b.key,Ne=b.ref,Ue=b._owner;if(G!=null){if(G.ref!==void 0&&(Ne=G.ref,Ue=he.current),G.key!==void 0&&(Ce=""+G.key),b.type&&b.type.defaultProps)var ze=b.type.defaultProps;for(Ke in G)le.call(G,Ke)&&!P.hasOwnProperty(Ke)&&(Ae[Ke]=G[Ke]===void 0&&ze!==void 0?ze[Ke]:G[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=pe;else if(1<Ke){ze=Array(Ke);for(var Et=0;Et<Ke;Et++)ze[Et]=arguments[Et+2];Ae.children=ze}return{$$typeof:i,type:b.type,key:Ce,ref:Ne,props:Ae,_owner:Ue}},Re.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},Re.createElement=T,Re.createFactory=function(b){var G=T.bind(null,b);return G.type=b,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(b){return{$$typeof:p,render:b}},Re.isValidElement=k,Re.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Ie}},Re.memo=function(b,G){return{$$typeof:_,type:b,compare:G===void 0?null:G}},Re.startTransition=function(b){var G=ne.transition;ne.transition={};try{b()}finally{ne.transition=G}},Re.unstable_act=oe,Re.useCallback=function(b,G){return Pe.current.useCallback(b,G)},Re.useContext=function(b){return Pe.current.useContext(b)},Re.useDebugValue=function(){},Re.useDeferredValue=function(b){return Pe.current.useDeferredValue(b)},Re.useEffect=function(b,G){return Pe.current.useEffect(b,G)},Re.useId=function(){return Pe.current.useId()},Re.useImperativeHandle=function(b,G,pe){return Pe.current.useImperativeHandle(b,G,pe)},Re.useInsertionEffect=function(b,G){return Pe.current.useInsertionEffect(b,G)},Re.useLayoutEffect=function(b,G){return Pe.current.useLayoutEffect(b,G)},Re.useMemo=function(b,G){return Pe.current.useMemo(b,G)},Re.useReducer=function(b,G,pe){return Pe.current.useReducer(b,G,pe)},Re.useRef=function(b){return Pe.current.useRef(b)},Re.useState=function(b){return Pe.current.useState(b)},Re.useSyncExternalStore=function(b,G,pe){return Pe.current.useSyncExternalStore(b,G,pe)},Re.useTransition=function(){return Pe.current.useTransition()},Re.version="18.3.1",Re}var tm;function lf(){return tm||(tm=1,wh.exports=Qv()),wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Gv(){if(nm)return na;nm=1;var i=lf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,_){var E,I={},R=null,V=null;_!==void 0&&(R=""+_),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(V=g.ref);for(E in g)o.call(g,E)&&!u.hasOwnProperty(E)&&(I[E]=g[E]);if(p&&p.defaultProps)for(E in g=p.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:p,key:R,ref:V,props:I,_owner:s.current}}return na.Fragment=n,na.jsx=h,na.jsxs=h,na}var rm;function Xv(){return rm||(rm=1,Eh.exports=Gv()),Eh.exports}var ce=Xv(),Gl={},Th={exports:{}},Jt={},Ih={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Yv(){return im||(im=1,function(i){function e(ne,ge){var oe=ne.length;ne.push(ge);e:for(;0<oe;){var b=oe-1>>>1,G=ne[b];if(0<s(G,ge))ne[b]=ge,ne[oe]=G,oe=b;else break e}}function n(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var ge=ne[0],oe=ne.pop();if(oe!==ge){ne[0]=oe;e:for(var b=0,G=ne.length,pe=G>>>1;b<pe;){var Ae=2*(b+1)-1,Ce=ne[Ae],Ne=Ae+1,Ue=ne[Ne];if(0>s(Ce,oe))Ne<G&&0>s(Ue,Ce)?(ne[b]=Ue,ne[Ne]=oe,b=Ne):(ne[b]=Ce,ne[Ae]=oe,b=Ae);else if(Ne<G&&0>s(Ue,oe))ne[b]=Ue,ne[Ne]=oe,b=Ne;else break e}}return ge}function s(ne,ge){var oe=ne.sortIndex-ge.sortIndex;return oe!==0?oe:ne.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],_=[],E=1,I=null,R=3,V=!1,M=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ne){for(var ge=n(_);ge!==null;){if(ge.callback===null)o(_);else if(ge.startTime<=ne)o(_),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=n(_)}}function ee(ne){if(z=!1,K(ne),!M)if(n(g)!==null)M=!0,Ie(le);else{var ge=n(_);ge!==null&&Pe(ee,ge.startTime-ne)}}function le(ne,ge){M=!1,z&&(z=!1,j(T),T=-1),V=!0;var oe=R;try{for(K(ge),I=n(g);I!==null&&(!(I.expirationTime>ge)||ne&&!x());){var b=I.callback;if(typeof b=="function"){I.callback=null,R=I.priorityLevel;var G=b(I.expirationTime<=ge);ge=i.unstable_now(),typeof G=="function"?I.callback=G:I===n(g)&&o(g),K(ge)}else o(g);I=n(g)}if(I!==null)var pe=!0;else{var Ae=n(_);Ae!==null&&Pe(ee,Ae.startTime-ge),pe=!1}return pe}finally{I=null,R=oe,V=!1}}var he=!1,P=null,T=-1,S=5,k=-1;function x(){return!(i.unstable_now()-k<S)}function L(){if(P!==null){var ne=i.unstable_now();k=ne;var ge=!0;try{ge=P(!0,ne)}finally{ge?C():(he=!1,P=null)}}else he=!1}var C;if(typeof q=="function")C=function(){q(L)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,We=je.port2;je.port1.onmessage=L,C=function(){We.postMessage(null)}}else C=function(){O(L,0)};function Ie(ne){P=ne,he||(he=!0,C())}function Pe(ne,ge){T=O(function(){ne(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){M||V||(M=!0,Ie(le))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ne){switch(R){case 1:case 2:case 3:var ge=3;break;default:ge=R}var oe=R;R=ge;try{return ne()}finally{R=oe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=R;R=ne;try{return ge()}finally{R=oe}},i.unstable_scheduleCallback=function(ne,ge,oe){var b=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?b+oe:b):oe=b,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,ne={id:E++,callback:ge,priorityLevel:ne,startTime:oe,expirationTime:G,sortIndex:-1},oe>b?(ne.sortIndex=oe,e(_,ne),n(g)===null&&ne===n(_)&&(z?(j(T),T=-1):z=!0,Pe(ee,oe-b))):(ne.sortIndex=G,e(g,ne),M||V||(M=!0,Ie(le))),ne},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(ne){var ge=R;return function(){var oe=R;R=ge;try{return ne.apply(this,arguments)}finally{R=oe}}}}(Sh)),Sh}var om;function Jv(){return om||(om=1,Ih.exports=Yv()),Ih.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Zv(){if(sm)return Jt;sm=1;var i=lf(),e=Jv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(s[t]=r,t=0;t<r.length;t++)o.add(r[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function R(t){return g.call(I,t)?!0:g.call(E,t)?!1:_.test(t)?I[t]=!0:(E[t]=!0,!1)}function V(t,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M(t,r,a,c){if(r===null||typeof r>"u"||V(t,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function z(t,r,a,c,f,m,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=v}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){O[t]=new z(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];O[r]=new z(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){O[t]=new z(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){O[t]=new z(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){O[t]=new z(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){O[t]=new z(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){O[t]=new z(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){O[t]=new z(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){O[t]=new z(t,5,!1,t.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(j,q);O[r]=new z(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(j,q);O[r]=new z(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(j,q);O[r]=new z(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){O[t]=new z(t,1,!1,t.toLowerCase(),null,!1,!1)}),O.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){O[t]=new z(t,1,!1,t.toLowerCase(),null,!0,!0)});function K(t,r,a,c){var f=O.hasOwnProperty(r)?O[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(M(r,a,f,c)&&(a=null),c||f===null?R(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):f.mustUseProperty?t[f.propertyName]=a===null?f.type===3?!1:"":a:(r=f.attributeName,c=f.attributeNamespace,a===null?t.removeAttribute(r):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?t.setAttributeNS(c,r,a):t.setAttribute(r,a))))}var ee=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),he=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,b;function G(t){if(b===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+t}var pe=!1;function Ae(t,r){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var c=H}Reflect.construct(t,[],r)}else{try{r.call()}catch(H){c=H}t.call(r.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,A=m.length-1;1<=v&&0<=A&&f[v]!==m[A];)A--;for(;1<=v&&0<=A;v--,A--)if(f[v]!==m[A]){if(v!==1||A!==1)do if(v--,A--,0>A||f[v]!==m[A]){var D=`
`+f[v].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=v&&0<=A);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?G(t):""}function Ce(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Ae(t.type,!1),t;case 11:return t=Ae(t.type.render,!1),t;case 1:return t=Ae(t.type,!0),t;default:return""}}function Ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case he:return"Portal";case S:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case We:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case Ie:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}function Ue(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ze(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ke(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Et(t){var r=Ke(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function er(t){t._valueTracker||(t._valueTracker=Et(t))}function Gi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Ke(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ui(t,r){var a=r.checked;return oe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Xi(t,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=ze(r.value!=null?r.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ls(t,r){r=r.checked,r!=null&&K(t,"checked",r,!1)}function us(t,r){ls(t,r);var a=ze(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Yi(t,r.type,a):r.hasOwnProperty("defaultValue")&&Yi(t,r.type,ze(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function La(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Yi(t,r,a){(r!=="number"||Ar(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var tr=Array.isArray;function nr(t,r,a,c){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function cs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ji(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(tr(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:ze(a)}}function Zi(t,r){var a=ze(r.value),c=ze(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function hs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,fs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,a,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(t){hi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ci[r]=ci[t]})});function ds(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||ci.hasOwnProperty(t)&&ci[t]?(""+r).trim():r+"px"}function ps(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ds(a,r[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,f):t[a]=f}}var ms=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gs(t,r){if(r){if(ms[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ys(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function eo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var to=null,ln=null,Mn=null;function no(t){if(t=js(t)){if(typeof to!="function")throw Error(n(280));var r=t.stateNode;r&&(r=cl(r),to(t.stateNode,t.type,r))}}function bn(t){ln?Mn?Mn.push(t):Mn=[t]:ln=t}function _s(){if(ln){var t=ln,r=Mn;if(Mn=ln=null,no(t),r)for(t=0;t<r.length;t++)no(r[t])}}function di(t,r){return t(r)}function vs(){}var ir=!1;function Es(t,r,a){if(ir)return t(r,a);ir=!0;try{return di(t,r,a)}finally{ir=!1,(ln!==null||Mn!==null)&&(vs(),_s())}}function ot(t,r){var a=t.stateNode;if(a===null)return null;var c=cl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var ro=!1;if(p)try{var En={};Object.defineProperty(En,"passive",{get:function(){ro=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{ro=!1}function pi(t,r,a,c,f,m,v,A,D){var H=Array.prototype.slice.call(arguments,3);try{r.apply(a,H)}catch(Y){this.onError(Y)}}var mi=!1,io=null,wn=!1,ws=null,Qu={onError:function(t){mi=!0,io=t}};function oo(t,r,a,c,f,m,v,A,D){mi=!1,io=null,pi.apply(Qu,arguments)}function Oa(t,r,a,c,f,m,v,A,D){if(oo.apply(this,arguments),mi){if(mi){var H=io;mi=!1,io=null}else throw Error(n(198));wn||(wn=!0,ws=H)}}function Tn(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function gi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function In(t){if(Tn(t)!==t)throw Error(n(188))}function Ma(t){var r=t.alternate;if(!r){if(r=Tn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,c=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return In(f),t;if(m===c)return In(f),r;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,c=m;break}if(A===c){v=!0,c=f,a=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===a){v=!0,a=m,c=f;break}if(A===c){v=!0,c=m,a=f;break}A=A.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function Ts(t){return t=Ma(t),t!==null?so(t):null}function so(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=so(t);if(r!==null)return r;t=t.sibling}return null}var ao=e.unstable_scheduleCallback,Is=e.unstable_cancelCallback,ba=e.unstable_shouldYield,Gu=e.unstable_requestPaint,Qe=e.unstable_now,Fa=e.unstable_getCurrentPriorityLevel,yi=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,Ss=e.unstable_LowPriority,Ua=e.unstable_IdlePriority,_i=null,en=null;function za(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(_i,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Ba,As=Math.log,ja=Math.LN2;function Ba(t){return t>>>=0,t===0?32:31-(As(t)/ja|0)|0}var lo=64,uo=4194304;function Pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vi(t,r){var a=t.pendingLanes;if(a===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,v=a&268435455;if(v!==0){var A=v&~f;A!==0?c=Pr(A):(m&=v,m!==0&&(c=Pr(m)))}else v=a&~f,v!==0?c=Pr(v):m!==0&&(c=Pr(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(c&4&&(c|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)a=31-zt(r),f=1<<a,c|=t[a],r&=~f;return c}function Xu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-zt(m),A=1<<v,D=f[v];D===-1?(!(A&a)||A&c)&&(f[v]=Xu(A,r)):D<=r&&(t.expiredLanes|=A),m&=~A}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ei(){var t=lo;return lo<<=1,!(lo&4194240)&&(lo=64),t}function kr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xr(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=a}function qe(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var f=31-zt(a),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,a&=~m}}function Dr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-zt(a),f=1<<c;f&r|t[c]&r&&(t[c]|=r),a&=~f}}var xe=0;function Nr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $a,co,Ha,Wa,qa,Cs=!1,Fn=[],Ct=null,Sn=null,An=null,Vr=new Map,cn=new Map,Un=[],Yu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(t,r){switch(t){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function Wt(t,r,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=js(r),r!==null&&co(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Ju(t,r,a,c,f){switch(r){case"focusin":return Ct=Wt(Ct,t,r,a,c,f),!0;case"dragenter":return Sn=Wt(Sn,t,r,a,c,f),!0;case"mouseover":return An=Wt(An,t,r,a,c,f),!0;case"pointerover":var m=f.pointerId;return Vr.set(m,Wt(Vr.get(m)||null,t,r,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,cn.set(m,Wt(cn.get(m)||null,t,r,a,c,f)),!0}return!1}function Qa(t){var r=Ai(t.target);if(r!==null){var a=Tn(r);if(a!==null){if(r=a.tag,r===13){if(r=gi(a),r!==null){t.blockedOn=r,qa(t.priority,function(){Ha(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ho(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);fi=c,a.target.dispatchEvent(c),fi=null}else return r=js(a),r!==null&&co(r),t.blockedOn=a,!1;r.shift()}return!0}function wi(t,r,a){sr(t)&&a.delete(r)}function Ga(){Cs=!1,Ct!==null&&sr(Ct)&&(Ct=null),Sn!==null&&sr(Sn)&&(Sn=null),An!==null&&sr(An)&&(An=null),Vr.forEach(wi),cn.forEach(wi)}function Cn(t,r){t.blockedOn===r&&(t.blockedOn=null,Cs||(Cs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ga)))}function Rn(t){function r(f){return Cn(f,t)}if(0<Fn.length){Cn(Fn[0],t);for(var a=1;a<Fn.length;a++){var c=Fn[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Ct!==null&&Cn(Ct,t),Sn!==null&&Cn(Sn,t),An!==null&&Cn(An,t),Vr.forEach(r),cn.forEach(r),a=0;a<Un.length;a++)c=Un[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<Un.length&&(a=Un[0],a.blockedOn===null);)Qa(a),a.blockedOn===null&&Un.shift()}var ar=ee.ReactCurrentBatchConfig,Lr=!0;function Je(t,r,a,c){var f=xe,m=ar.transition;ar.transition=null;try{xe=1,Rs(t,r,a,c)}finally{xe=f,ar.transition=m}}function Zu(t,r,a,c){var f=xe,m=ar.transition;ar.transition=null;try{xe=4,Rs(t,r,a,c)}finally{xe=f,ar.transition=m}}function Rs(t,r,a,c){if(Lr){var f=ho(t,r,a,c);if(f===null)cc(t,r,c,Ti,a),Ka(t,c);else if(Ju(f,t,r,a,c))c.stopPropagation();else if(Ka(t,c),r&4&&-1<Yu.indexOf(t)){for(;f!==null;){var m=js(f);if(m!==null&&$a(m),m=ho(t,r,a,c),m===null&&cc(t,r,c,Ti,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else cc(t,r,c,null,a)}}var Ti=null;function ho(t,r,a,c){if(Ti=null,t=eo(c),t=Ai(t),t!==null)if(r=Tn(t),r===null)t=null;else if(a=r.tag,a===13){if(t=gi(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ti=t,null}function Ps(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fa()){case yi:return 1;case Rr:return 4;case un:case Ss:return 16;case Ua:return 536870912;default:return 16}default:return 16}}var nn=null,fo=null,qt=null;function ks(){if(qt)return qt;var t,r=fo,a=r.length,c,f="value"in nn?nn.value:nn.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(c=1;c<=v&&r[a-c]===f[m-c];c++);return qt=f.slice(t,1<c?1-c:void 0)}function po(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zn(){return!0}function xs(){return!1}function Rt(t){function r(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zn:xs,this.isPropagationStopped=xs,this}return oe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Rt(Pn),jn=oe({},Pn,{view:0,detail:0}),ec=Rt(jn),go,lr,Or,Ii=oe({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(go=t.screenX-Or.screenX,lr=t.screenY-Or.screenY):lr=go=0,Or=t),go)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),yo=Rt(Ii),Ds=oe({},Ii,{dataTransfer:0}),Xa=Rt(Ds),_o=oe({},jn,{relatedTarget:0}),vo=Rt(_o),Ya=oe({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=Rt(Ya),Ja=oe({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Za=Rt(Ja),el=oe({},Pn,{data:0}),Ns=Rt(el),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=tl[t])?!!r[t]:!1}function Bn(){return nl}var l=oe({},jn,{key:function(t){if(t.key){var r=Eo[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Rt(l),y=oe({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Rt(y),F=oe({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn}),W=Rt(F),re=oe({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Rt(re),dt=oe({},Ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Rt(dt),wt=[9,13,27,32],lt=p&&"CompositionEvent"in window,hn=null;p&&"documentMode"in document&&(hn=document.documentMode);var rn=p&&"TextEvent"in window&&!hn,Si=p&&(!lt||hn&&8<hn&&11>=hn),wo=" ",Qf=!1;function Gf(t,r){switch(t){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function W_(t,r){switch(t){case"compositionend":return Xf(r);case"keypress":return r.which!==32?null:(Qf=!0,wo);case"textInput":return t=r.data,t===wo&&Qf?null:t;default:return null}}function q_(t,r){if(To)return t==="compositionend"||!lt&&Gf(t,r)?(t=ks(),qt=fo=nn=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Si&&r.locale!=="ko"?null:r.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!K_[t.type]:r==="textarea"}function Jf(t,r,a,c){bn(c),r=al(r,"onChange"),0<r.length&&(a=new mo("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var Vs=null,Ls=null;function Q_(t){gd(t,0)}function rl(t){var r=Ro(t);if(Gi(r))return t}function G_(t,r){if(t==="change")return r}var Zf=!1;if(p){var tc;if(p){var nc="oninput"in document;if(!nc){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),nc=typeof ed.oninput=="function"}tc=nc}else tc=!1;Zf=tc&&(!document.documentMode||9<document.documentMode)}function td(){Vs&&(Vs.detachEvent("onpropertychange",nd),Ls=Vs=null)}function nd(t){if(t.propertyName==="value"&&rl(Ls)){var r=[];Jf(r,Ls,t,eo(t)),Es(Q_,r)}}function X_(t,r,a){t==="focusin"?(td(),Vs=r,Ls=a,Vs.attachEvent("onpropertychange",nd)):t==="focusout"&&td()}function Y_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Ls)}function J_(t,r){if(t==="click")return rl(r)}function Z_(t,r){if(t==="input"||t==="change")return rl(r)}function ev(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var kn=typeof Object.is=="function"?Object.is:ev;function Os(t,r){if(kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(r,f)||!kn(t[f],r[f]))return!1}return!0}function rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function id(t,r){var a=rd(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rd(a)}}function od(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?od(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sd(){for(var t=window,r=Ar();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ar(t.document)}return r}function rc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function tv(t){var r=sd(),a=t.focusedElem,c=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&od(a.ownerDocument.documentElement,a)){if(c!==null&&rc(a)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=id(a,m);var v=id(a,c);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nv=p&&"documentMode"in document&&11>=document.documentMode,Io=null,ic=null,Ms=null,oc=!1;function ad(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oc||Io==null||Io!==Ar(c)||(c=Io,"selectionStart"in c&&rc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ms&&Os(Ms,c)||(Ms=c,c=al(ic,"onSelect"),0<c.length&&(r=new mo("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=Io)))}function il(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var So={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},sc={},ld={};p&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function ol(t){if(sc[t])return sc[t];if(!So[t])return t;var r=So[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ld)return sc[t]=r[a];return t}var ud=ol("animationend"),cd=ol("animationiteration"),hd=ol("animationstart"),fd=ol("transitionend"),dd=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,r){dd.set(t,r),u(r,[t])}for(var ac=0;ac<pd.length;ac++){var lc=pd[ac],rv=lc.toLowerCase(),iv=lc[0].toUpperCase()+lc.slice(1);Mr(rv,"on"+iv)}Mr(ud,"onAnimationEnd"),Mr(cd,"onAnimationIteration"),Mr(hd,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(fd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function md(t,r,a){var c=t.type||"unknown-event";t.currentTarget=a,Oa(c,r,void 0,t),t.currentTarget=null}function gd(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var v=c.length-1;0<=v;v--){var A=c[v],D=A.instance,H=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;md(f,A,H),m=D}else for(v=0;v<c.length;v++){if(A=c[v],D=A.instance,H=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;md(f,A,H),m=D}}}if(wn)throw t=ws,wn=!1,ws=null,t}function Xe(t,r){var a=r[gc];a===void 0&&(a=r[gc]=new Set);var c=t+"__bubble";a.has(c)||(yd(r,t,2,!1),a.add(c))}function uc(t,r,a){var c=0;r&&(c|=4),yd(a,t,c,r)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Fs(t){if(!t[sl]){t[sl]=!0,o.forEach(function(a){a!=="selectionchange"&&(ov.has(a)||uc(a,!1,t),uc(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[sl]||(r[sl]=!0,uc("selectionchange",!1,r))}}function yd(t,r,a,c){switch(Ps(r)){case 1:var f=Je;break;case 4:f=Zu;break;default:f=Rs}a=f.bind(null,r,a,t),f=void 0,!ro||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function cc(t,r,a,c,f){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;A!==null;){if(v=Ai(A),v===null)return;if(D=v.tag,D===5||D===6){c=m=v;continue e}A=A.parentNode}}c=c.return}Es(function(){var H=m,Y=eo(a),Z=[];e:{var X=dd.get(t);if(X!==void 0){var ie=mo,ue=t;switch(t){case"keypress":if(po(a)===0)break e;case"keydown":case"keyup":ie=d;break;case"focusin":ue="focus",ie=vo;break;case"focusout":ue="blur",ie=vo;break;case"beforeblur":case"afterblur":ie=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=W;break;case ud:case cd:case hd:ie=ur;break;case fd:ie=He;break;case"scroll":ie=ec;break;case"wheel":ie=Ve;break;case"copy":case"cut":case"paste":ie=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var fe=(r&4)!==0,st=!fe&&t==="scroll",U=fe?X!==null?X+"Capture":null:X;fe=[];for(var N=H,B;N!==null;){B=N;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,U!==null&&(te=ot(N,U),te!=null&&fe.push(Us(N,te,B)))),st)break;N=N.return}0<fe.length&&(X=new ie(X,ue,null,a,Y),Z.push({event:X,listeners:fe}))}}if(!(r&7)){e:{if(X=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",X&&a!==fi&&(ue=a.relatedTarget||a.fromElement)&&(Ai(ue)||ue[cr]))break e;if((ie||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ie?(ue=a.relatedTarget||a.toElement,ie=H,ue=ue?Ai(ue):null,ue!==null&&(st=Tn(ue),ue!==st||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=H),ie!==ue)){if(fe=yo,te="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(fe=w,te="onPointerLeave",U="onPointerEnter",N="pointer"),st=ie==null?X:Ro(ie),B=ue==null?X:Ro(ue),X=new fe(te,N+"leave",ie,a,Y),X.target=st,X.relatedTarget=B,te=null,Ai(Y)===H&&(fe=new fe(U,N+"enter",ue,a,Y),fe.target=B,fe.relatedTarget=st,te=fe),st=te,ie&&ue)t:{for(fe=ie,U=ue,N=0,B=fe;B;B=Ao(B))N++;for(B=0,te=U;te;te=Ao(te))B++;for(;0<N-B;)fe=Ao(fe),N--;for(;0<B-N;)U=Ao(U),B--;for(;N--;){if(fe===U||U!==null&&fe===U.alternate)break t;fe=Ao(fe),U=Ao(U)}fe=null}else fe=null;ie!==null&&_d(Z,X,ie,fe,!1),ue!==null&&st!==null&&_d(Z,st,ue,fe,!0)}}e:{if(X=H?Ro(H):window,ie=X.nodeName&&X.nodeName.toLowerCase(),ie==="select"||ie==="input"&&X.type==="file")var de=G_;else if(Yf(X))if(Zf)de=Z_;else{de=Y_;var ye=X_}else(ie=X.nodeName)&&ie.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(de=J_);if(de&&(de=de(t,H))){Jf(Z,de,a,Y);break e}ye&&ye(t,X,H),t==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Yi(X,"number",X.value)}switch(ye=H?Ro(H):window,t){case"focusin":(Yf(ye)||ye.contentEditable==="true")&&(Io=ye,ic=H,Ms=null);break;case"focusout":Ms=ic=Io=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,ad(Z,a,Y);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":ad(Z,a,Y)}var _e;if(lt)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else To?Gf(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Si&&a.locale!=="ko"&&(To||we!=="onCompositionStart"?we==="onCompositionEnd"&&To&&(_e=ks()):(nn=Y,fo="value"in nn?nn.value:nn.textContent,To=!0)),ye=al(H,we),0<ye.length&&(we=new Ns(we,t,null,a,Y),Z.push({event:we,listeners:ye}),_e?we.data=_e:(_e=Xf(a),_e!==null&&(we.data=_e)))),(_e=rn?W_(t,a):q_(t,a))&&(H=al(H,"onBeforeInput"),0<H.length&&(Y=new Ns("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:H}),Y.data=_e))}gd(Z,r)})}function Us(t,r,a){return{instance:t,listener:r,currentTarget:a}}function al(t,r){for(var a=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=ot(t,a),m!=null&&c.unshift(Us(t,m,f)),m=ot(t,r),m!=null&&c.push(Us(t,m,f))),t=t.return}return c}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _d(t,r,a,c,f){for(var m=r._reactName,v=[];a!==null&&a!==c;){var A=a,D=A.alternate,H=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&H!==null&&(A=H,f?(D=ot(a,m),D!=null&&v.unshift(Us(a,D,A))):f||(D=ot(a,m),D!=null&&v.push(Us(a,D,A)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var sv=/\r\n?/g,av=/\u0000|\uFFFD/g;function vd(t){return(typeof t=="string"?t:""+t).replace(sv,`
`).replace(av,"")}function ll(t,r,a){if(r=vd(r),vd(t)!==r&&a)throw Error(n(425))}function ul(){}var hc=null,fc=null;function dc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,Ed=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ed<"u"?function(t){return Ed.resolve(null).then(t).catch(cv)}:pc;function cv(t){setTimeout(function(){throw t})}function mc(t,r){var a=r,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){t.removeChild(f),Rn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Rn(r)}function br(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function wd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),$n="__reactFiber$"+Co,zs="__reactProps$"+Co,cr="__reactContainer$"+Co,gc="__reactEvents$"+Co,hv="__reactListeners$"+Co,fv="__reactHandles$"+Co;function Ai(t){var r=t[$n];if(r)return r;for(var a=t.parentNode;a;){if(r=a[cr]||a[$n]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=wd(t);t!==null;){if(a=t[$n])return a;t=wd(t)}return r}t=a,a=t.parentNode}return null}function js(t){return t=t[$n]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function cl(t){return t[zs]||null}var yc=[],Po=-1;function Fr(t){return{current:t}}function Ye(t){0>Po||(t.current=yc[Po],yc[Po]=null,Po--)}function Ge(t,r){Po++,yc[Po]=t.current,t.current=r}var Ur={},Vt=Fr(Ur),Kt=Fr(!1),Ci=Ur;function ko(t,r){var a=t.type.contextTypes;if(!a)return Ur;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Qt(t){return t=t.childContextTypes,t!=null}function hl(){Ye(Kt),Ye(Vt)}function Td(t,r,a){if(Vt.current!==Ur)throw Error(n(168));Ge(Vt,r),Ge(Kt,a)}function Id(t,r,a){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Ue(t)||"Unknown",f));return oe({},a,c)}function fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,Ci=Vt.current,Ge(Vt,t),Ge(Kt,Kt.current),!0}function Sd(t,r,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=Id(t,r,Ci),c.__reactInternalMemoizedMergedChildContext=t,Ye(Kt),Ye(Vt),Ge(Vt,t)):Ye(Kt),Ge(Kt,a)}var hr=null,dl=!1,_c=!1;function Ad(t){hr===null?hr=[t]:hr.push(t)}function dv(t){dl=!0,Ad(t)}function zr(){if(!_c&&hr!==null){_c=!0;var t=0,r=xe;try{var a=hr;for(xe=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}hr=null,dl=!1}catch(f){throw hr!==null&&(hr=hr.slice(t+1)),ao(yi,zr),f}finally{xe=r,_c=!1}}return null}var xo=[],Do=0,pl=null,ml=0,fn=[],dn=0,Ri=null,fr=1,dr="";function Pi(t,r){xo[Do++]=ml,xo[Do++]=pl,pl=t,ml=r}function Cd(t,r,a){fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=Ri,Ri=t;var c=fr;t=dr;var f=32-zt(c)-1;c&=~(1<<f),a+=1;var m=32-zt(r)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,fr=1<<32-zt(r)+f|a<<f|c,dr=m+t}else fr=1<<m|a<<f|c,dr=t}function vc(t){t.return!==null&&(Pi(t,1),Cd(t,1,0))}function Ec(t){for(;t===pl;)pl=xo[--Do],xo[Do]=null,ml=xo[--Do],xo[Do]=null;for(;t===Ri;)Ri=fn[--dn],fn[dn]=null,dr=fn[--dn],fn[dn]=null,fr=fn[--dn],fn[dn]=null}var on=null,sn=null,Ze=!1,xn=null;function Rd(t,r){var a=yn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Pd(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,on=t,sn=br(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,on=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Ri!==null?{id:fr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=yn(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,on=t,sn=null,!0):!1;default:return!1}}function wc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tc(t){if(Ze){var r=sn;if(r){var a=r;if(!Pd(t,r)){if(wc(t))throw Error(n(418));r=br(a.nextSibling);var c=on;r&&Pd(t,r)?Rd(c,a):(t.flags=t.flags&-4097|2,Ze=!1,on=t)}}else{if(wc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ze=!1,on=t}}}function kd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function gl(t){if(t!==on)return!1;if(!Ze)return kd(t),Ze=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!dc(t.type,t.memoizedProps)),r&&(r=sn)){if(wc(t))throw xd(),Error(n(418));for(;r;)Rd(t,r),r=br(r.nextSibling)}if(kd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){sn=br(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=on?br(t.stateNode.nextSibling):null;return!0}function xd(){for(var t=sn;t;)t=br(t.nextSibling)}function No(){sn=on=null,Ze=!1}function Ic(t){xn===null?xn=[t]:xn.push(t)}var pv=ee.ReactCurrentBatchConfig;function Bs(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(v){var A=f.refs;v===null?delete A[m]:A[m]=v},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function yl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Dd(t){var r=t._init;return r(t._payload)}function Nd(t){function r(U,N){if(t){var B=U.deletions;B===null?(U.deletions=[N],U.flags|=16):B.push(N)}}function a(U,N){if(!t)return null;for(;N!==null;)r(U,N),N=N.sibling;return null}function c(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function f(U,N){return U=Qr(U,N),U.index=0,U.sibling=null,U}function m(U,N,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<N?(U.flags|=2,N):B):(U.flags|=2,N)):(U.flags|=1048576,N)}function v(U){return t&&U.alternate===null&&(U.flags|=2),U}function A(U,N,B,te){return N===null||N.tag!==6?(N=ph(B,U.mode,te),N.return=U,N):(N=f(N,B),N.return=U,N)}function D(U,N,B,te){var de=B.type;return de===P?Y(U,N,B.props.children,te,B.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ie&&Dd(de)===N.type)?(te=f(N,B.props),te.ref=Bs(U,N,B),te.return=U,te):(te=jl(B.type,B.key,B.props,null,U.mode,te),te.ref=Bs(U,N,B),te.return=U,te)}function H(U,N,B,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=mh(B,U.mode,te),N.return=U,N):(N=f(N,B.children||[]),N.return=U,N)}function Y(U,N,B,te,de){return N===null||N.tag!==7?(N=Mi(B,U.mode,te,de),N.return=U,N):(N=f(N,B),N.return=U,N)}function Z(U,N,B){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ph(""+N,U.mode,B),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case le:return B=jl(N.type,N.key,N.props,null,U.mode,B),B.ref=Bs(U,null,N),B.return=U,B;case he:return N=mh(N,U.mode,B),N.return=U,N;case Ie:var te=N._init;return Z(U,te(N._payload),B)}if(tr(N)||ge(N))return N=Mi(N,U.mode,B,null),N.return=U,N;yl(U,N)}return null}function X(U,N,B,te){var de=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:A(U,N,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case le:return B.key===de?D(U,N,B,te):null;case he:return B.key===de?H(U,N,B,te):null;case Ie:return de=B._init,X(U,N,de(B._payload),te)}if(tr(B)||ge(B))return de!==null?null:Y(U,N,B,te,null);yl(U,B)}return null}function ie(U,N,B,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(B)||null,A(N,U,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case le:return U=U.get(te.key===null?B:te.key)||null,D(N,U,te,de);case he:return U=U.get(te.key===null?B:te.key)||null,H(N,U,te,de);case Ie:var ye=te._init;return ie(U,N,B,ye(te._payload),de)}if(tr(te)||ge(te))return U=U.get(B)||null,Y(N,U,te,de,null);yl(N,te)}return null}function ue(U,N,B,te){for(var de=null,ye=null,_e=N,we=N=0,St=null;_e!==null&&we<B.length;we++){_e.index>we?(St=_e,_e=null):St=_e.sibling;var be=X(U,_e,B[we],te);if(be===null){_e===null&&(_e=St);break}t&&_e&&be.alternate===null&&r(U,_e),N=m(be,N,we),ye===null?de=be:ye.sibling=be,ye=be,_e=St}if(we===B.length)return a(U,_e),Ze&&Pi(U,we),de;if(_e===null){for(;we<B.length;we++)_e=Z(U,B[we],te),_e!==null&&(N=m(_e,N,we),ye===null?de=_e:ye.sibling=_e,ye=_e);return Ze&&Pi(U,we),de}for(_e=c(U,_e);we<B.length;we++)St=ie(_e,U,we,B[we],te),St!==null&&(t&&St.alternate!==null&&_e.delete(St.key===null?we:St.key),N=m(St,N,we),ye===null?de=St:ye.sibling=St,ye=St);return t&&_e.forEach(function(Gr){return r(U,Gr)}),Ze&&Pi(U,we),de}function fe(U,N,B,te){var de=ge(B);if(typeof de!="function")throw Error(n(150));if(B=de.call(B),B==null)throw Error(n(151));for(var ye=de=null,_e=N,we=N=0,St=null,be=B.next();_e!==null&&!be.done;we++,be=B.next()){_e.index>we?(St=_e,_e=null):St=_e.sibling;var Gr=X(U,_e,be.value,te);if(Gr===null){_e===null&&(_e=St);break}t&&_e&&Gr.alternate===null&&r(U,_e),N=m(Gr,N,we),ye===null?de=Gr:ye.sibling=Gr,ye=Gr,_e=St}if(be.done)return a(U,_e),Ze&&Pi(U,we),de;if(_e===null){for(;!be.done;we++,be=B.next())be=Z(U,be.value,te),be!==null&&(N=m(be,N,we),ye===null?de=be:ye.sibling=be,ye=be);return Ze&&Pi(U,we),de}for(_e=c(U,_e);!be.done;we++,be=B.next())be=ie(_e,U,we,be.value,te),be!==null&&(t&&be.alternate!==null&&_e.delete(be.key===null?we:be.key),N=m(be,N,we),ye===null?de=be:ye.sibling=be,ye=be);return t&&_e.forEach(function(qv){return r(U,qv)}),Ze&&Pi(U,we),de}function st(U,N,B,te){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case le:e:{for(var de=B.key,ye=N;ye!==null;){if(ye.key===de){if(de=B.type,de===P){if(ye.tag===7){a(U,ye.sibling),N=f(ye,B.props.children),N.return=U,U=N;break e}}else if(ye.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ie&&Dd(de)===ye.type){a(U,ye.sibling),N=f(ye,B.props),N.ref=Bs(U,ye,B),N.return=U,U=N;break e}a(U,ye);break}else r(U,ye);ye=ye.sibling}B.type===P?(N=Mi(B.props.children,U.mode,te,B.key),N.return=U,U=N):(te=jl(B.type,B.key,B.props,null,U.mode,te),te.ref=Bs(U,N,B),te.return=U,U=te)}return v(U);case he:e:{for(ye=B.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(U,N.sibling),N=f(N,B.children||[]),N.return=U,U=N;break e}else{a(U,N);break}else r(U,N);N=N.sibling}N=mh(B,U.mode,te),N.return=U,U=N}return v(U);case Ie:return ye=B._init,st(U,N,ye(B._payload),te)}if(tr(B))return ue(U,N,B,te);if(ge(B))return fe(U,N,B,te);yl(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,N!==null&&N.tag===6?(a(U,N.sibling),N=f(N,B),N.return=U,U=N):(a(U,N),N=ph(B,U.mode,te),N.return=U,U=N),v(U)):a(U,N)}return st}var Vo=Nd(!0),Vd=Nd(!1),_l=Fr(null),vl=null,Lo=null,Sc=null;function Ac(){Sc=Lo=vl=null}function Cc(t){var r=_l.current;Ye(_l),t._currentValue=r}function Rc(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function Oo(t,r){vl=t,Sc=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Gt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(Sc!==t)if(t={context:t,memoizedValue:r,next:null},Lo===null){if(vl===null)throw Error(n(308));Lo=t,vl.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return r}var ki=null;function Pc(t){ki===null?ki=[t]:ki.push(t)}function Ld(t,r,a,c){var f=r.interleaved;return f===null?(a.next=a,Pc(r)):(a.next=f.next,f.next=a),r.interleaved=a,pr(t,c)}function pr(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var jr=!1;function kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Br(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Me&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,pr(t,a)}return f=c.interleaved,f===null?(r.next=r,Pc(c)):(r.next=f.next,f.next=r),c.interleaved=r,pr(t,a)}function El(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,Dr(t,a)}}function Md(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function wl(t,r,a,c){var f=t.updateQueue;jr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,H=D.next;D.next=null,v===null?m=H:v.next=H,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==v&&(A===null?Y.firstBaseUpdate=H:A.next=H,Y.lastBaseUpdate=D))}if(m!==null){var Z=f.baseState;v=0,Y=H=D=null,A=m;do{var X=A.lane,ie=A.eventTime;if((c&X)===X){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ue=t,fe=A;switch(X=r,ie=a,fe.tag){case 1:if(ue=fe.payload,typeof ue=="function"){Z=ue.call(ie,Z,X);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=fe.payload,X=typeof ue=="function"?ue.call(ie,Z,X):ue,X==null)break e;Z=oe({},Z,X);break e;case 2:jr=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,X=f.effects,X===null?f.effects=[A]:X.push(A))}else ie={eventTime:ie,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(H=Y=ie,D=Z):Y=Y.next=ie,v|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Y===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=Y,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);Ni|=v,t.lanes=v,t.memoizedState=Z}}function bd(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var $s={},Hn=Fr($s),Hs=Fr($s),Ws=Fr($s);function xi(t){if(t===$s)throw Error(n(174));return t}function xc(t,r){switch(Ge(Ws,r),Ge(Hs,t),Ge(Hn,$s),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ft(r,t)}Ye(Hn),Ge(Hn,r)}function Mo(){Ye(Hn),Ye(Hs),Ye(Ws)}function Fd(t){xi(Ws.current);var r=xi(Hn.current),a=ft(r,t.type);r!==a&&(Ge(Hs,t),Ge(Hn,a))}function Dc(t){Hs.current===t&&(Ye(Hn),Ye(Hs))}var tt=Fr(0);function Tl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Nc=[];function Vc(){for(var t=0;t<Nc.length;t++)Nc[t]._workInProgressVersionPrimary=null;Nc.length=0}var Il=ee.ReactCurrentDispatcher,Lc=ee.ReactCurrentBatchConfig,Di=0,nt=null,pt=null,Tt=null,Sl=!1,qs=!1,Ks=0,mv=0;function Lt(){throw Error(n(321))}function Oc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!kn(t[a],r[a]))return!1;return!0}function Mc(t,r,a,c,f,m){if(Di=m,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Il.current=t===null||t.memoizedState===null?vv:Ev,t=a(c,f),qs){m=0;do{if(qs=!1,Ks=0,25<=m)throw Error(n(301));m+=1,Tt=pt=null,r.updateQueue=null,Il.current=wv,t=a(c,f)}while(qs)}if(Il.current=Rl,r=pt!==null&&pt.next!==null,Di=0,Tt=pt=nt=null,Sl=!1,r)throw Error(n(300));return t}function bc(){var t=Ks!==0;return Ks=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function mn(){if(pt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=Tt===null?nt.memoizedState:Tt.next;if(r!==null)Tt=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Qs(t,r){return typeof r=="function"?r(t):r}function Fc(t){var r=mn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=pt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var A=v=null,D=null,H=m;do{var Y=H.lane;if((Di&Y)===Y)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var Z={lane:Y,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(A=D=Z,v=c):D=D.next=Z,nt.lanes|=Y,Ni|=Y}H=H.next}while(H!==null&&H!==m);D===null?v=c:D.next=A,kn(c,r.memoizedState)||(Gt=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=D,a.lastRenderedState=c}if(t=a.interleaved,t!==null){f=t;do m=f.lane,nt.lanes|=m,Ni|=m,f=f.next;while(f!==t)}else f===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Uc(t){var r=mn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);kn(m,r.memoizedState)||(Gt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function Ud(){}function zd(t,r){var a=nt,c=mn(),f=r(),m=!kn(c.memoizedState,f);if(m&&(c.memoizedState=f,Gt=!0),c=c.queue,zc($d.bind(null,a,c,t),[t]),c.getSnapshot!==r||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,Gs(9,Bd.bind(null,a,c,f,r),void 0,null),It===null)throw Error(n(349));Di&30||jd(a,r,f)}return f}function jd(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Bd(t,r,a,c){r.value=a,r.getSnapshot=c,Hd(r)&&Wd(t)}function $d(t,r,a){return a(function(){Hd(r)&&Wd(t)})}function Hd(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!kn(t,a)}catch{return!0}}function Wd(t){var r=pr(t,1);r!==null&&Ln(r,t,1,-1)}function qd(t){var r=Wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},r.queue=t,t=t.dispatch=_v.bind(null,nt,t),[r.memoizedState,t]}function Gs(t,r,a,c){return t={tag:t,create:r,destroy:a,deps:c,next:null},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t)),t}function Kd(){return mn().memoizedState}function Al(t,r,a,c){var f=Wn();nt.flags|=t,f.memoizedState=Gs(1|r,a,void 0,c===void 0?null:c)}function Cl(t,r,a,c){var f=mn();c=c===void 0?null:c;var m=void 0;if(pt!==null){var v=pt.memoizedState;if(m=v.destroy,c!==null&&Oc(c,v.deps)){f.memoizedState=Gs(r,a,m,c);return}}nt.flags|=t,f.memoizedState=Gs(1|r,a,m,c)}function Qd(t,r){return Al(8390656,8,t,r)}function zc(t,r){return Cl(2048,8,t,r)}function Gd(t,r){return Cl(4,2,t,r)}function Xd(t,r){return Cl(4,4,t,r)}function Yd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jd(t,r,a){return a=a!=null?a.concat([t]):null,Cl(4,4,Yd.bind(null,r,t),a)}function jc(){}function Zd(t,r){var a=mn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Oc(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function ep(t,r){var a=mn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Oc(r,c[1])?c[0]:(t=t(),a.memoizedState=[t,r],t)}function tp(t,r,a){return Di&21?(kn(a,r)||(a=Ei(),nt.lanes|=a,Ni|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=a)}function gv(t,r){var a=xe;xe=a!==0&&4>a?a:4,t(!0);var c=Lc.transition;Lc.transition={};try{t(!1),r()}finally{xe=a,Lc.transition=c}}function np(){return mn().memoizedState}function yv(t,r,a){var c=qr(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},rp(t))ip(r,a);else if(a=Ld(t,r,a,c),a!==null){var f=$t();Ln(a,t,c,f),op(a,r,c)}}function _v(t,r,a){var c=qr(t),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(rp(t))ip(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,A=m(v,a);if(f.hasEagerState=!0,f.eagerState=A,kn(A,v)){var D=r.interleaved;D===null?(f.next=f,Pc(r)):(f.next=D.next,D.next=f),r.interleaved=f;return}}catch{}finally{}a=Ld(t,r,f,c),a!==null&&(f=$t(),Ln(a,t,c,f),op(a,r,c))}}function rp(t){var r=t.alternate;return t===nt||r!==null&&r===nt}function ip(t,r){qs=Sl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function op(t,r,a){if(a&4194240){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,Dr(t,a)}}var Rl={readContext:pn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},vv={readContext:pn,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:Qd,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Al(4194308,4,Yd.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Al(4194308,4,t,r)},useInsertionEffect:function(t,r){return Al(4,2,t,r)},useMemo:function(t,r){var a=Wn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var c=Wn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=yv.bind(null,nt,t),[c.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:qd,useDebugValue:jc,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=qd(!1),r=t[0];return t=gv.bind(null,t[1]),Wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var c=nt,f=Wn();if(Ze){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),It===null)throw Error(n(349));Di&30||jd(c,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Qd($d.bind(null,c,m,t),[t]),c.flags|=2048,Gs(9,Bd.bind(null,c,m,a,r),void 0,null),a},useId:function(){var t=Wn(),r=It.identifierPrefix;if(Ze){var a=dr,c=fr;a=(c&~(1<<32-zt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ks++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=mv++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ev={readContext:pn,useCallback:Zd,useContext:pn,useEffect:zc,useImperativeHandle:Jd,useInsertionEffect:Gd,useLayoutEffect:Xd,useMemo:ep,useReducer:Fc,useRef:Kd,useState:function(){return Fc(Qs)},useDebugValue:jc,useDeferredValue:function(t){var r=mn();return tp(r,pt.memoizedState,t)},useTransition:function(){var t=Fc(Qs)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Ud,useSyncExternalStore:zd,useId:np,unstable_isNewReconciler:!1},wv={readContext:pn,useCallback:Zd,useContext:pn,useEffect:zc,useImperativeHandle:Jd,useInsertionEffect:Gd,useLayoutEffect:Xd,useMemo:ep,useReducer:Uc,useRef:Kd,useState:function(){return Uc(Qs)},useDebugValue:jc,useDeferredValue:function(t){var r=mn();return pt===null?r.memoizedState=t:tp(r,pt.memoizedState,t)},useTransition:function(){var t=Uc(Qs)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Ud,useSyncExternalStore:zd,useId:np,unstable_isNewReconciler:!1};function Dn(t,r){if(t&&t.defaultProps){r=oe({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Bc(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:oe({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pl={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var c=$t(),f=qr(t),m=mr(c,f);m.payload=r,a!=null&&(m.callback=a),r=Br(t,m,f),r!==null&&(Ln(r,t,f,c),El(r,t,f))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=$t(),f=qr(t),m=mr(c,f);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Br(t,m,f),r!==null&&(Ln(r,t,f,c),El(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=$t(),c=qr(t),f=mr(a,c);f.tag=2,r!=null&&(f.callback=r),r=Br(t,f,c),r!==null&&(Ln(r,t,c,a),El(r,t,c))}};function sp(t,r,a,c,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):r.prototype&&r.prototype.isPureReactComponent?!Os(a,c)||!Os(f,m):!0}function ap(t,r,a){var c=!1,f=Ur,m=r.contextType;return typeof m=="object"&&m!==null?m=pn(m):(f=Qt(r)?Ci:Vt.current,c=r.contextTypes,m=(c=c!=null)?ko(t,f):Ur),r=new r(a,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Pl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function lp(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Pl.enqueueReplaceState(r,r.state,null)}function $c(t,r,a,c){var f=t.stateNode;f.props=a,f.state=t.memoizedState,f.refs={},kc(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=pn(m):(m=Qt(r)?Ci:Vt.current,f.context=ko(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Bc(t,r,m,a),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Pl.enqueueReplaceState(f,f.state,null),wl(t,a,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,r){try{var a="",c=r;do a+=Ce(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function Hc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function Wc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Tv=typeof WeakMap=="function"?WeakMap:Map;function up(t,r,a){a=mr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Ol||(Ol=!0,sh=c),Wc(t,r)},a}function cp(t,r,a){a=mr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;a.payload=function(){return c(f)},a.callback=function(){Wc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Wc(t,r),typeof c!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),a}function hp(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Tv;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(f.add(a),t=Mv.bind(null,t,r,a),r.then(t,t))}function fp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function dp(t,r,a,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=mr(-1,1),r.tag=2,Br(a,r,1))),a.lanes|=1),t)}var Iv=ee.ReactCurrentOwner,Gt=!1;function Bt(t,r,a,c){r.child=t===null?Vd(r,null,a,c):Vo(r,t.child,a,c)}function pp(t,r,a,c,f){a=a.render;var m=r.ref;return Oo(r,f),c=Mc(t,r,a,c,m,f),a=bc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ze&&a&&vc(r),r.flags|=1,Bt(t,r,c,f),r.child)}function mp(t,r,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!dh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,gp(t,r,m,c,f)):(t=jl(a.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Os,a(v,c)&&t.ref===r.ref)return gr(t,r,f)}return r.flags|=1,t=Qr(m,c),t.ref=r.ref,t.return=r,r.child=t}function gp(t,r,a,c,f){if(t!==null){var m=t.memoizedProps;if(Os(m,c)&&t.ref===r.ref)if(Gt=!1,r.pendingProps=c=m,(t.lanes&f)!==0)t.flags&131072&&(Gt=!0);else return r.lanes=t.lanes,gr(t,r,f)}return qc(t,r,a,c,f)}function yp(t,r,a){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Uo,an),an|=a;else{if(!(a&1073741824))return t=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ge(Uo,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ge(Uo,an),an|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,Ge(Uo,an),an|=c;return Bt(t,r,f,a),r.child}function _p(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function qc(t,r,a,c,f){var m=Qt(a)?Ci:Vt.current;return m=ko(r,m),Oo(r,f),a=Mc(t,r,a,c,m,f),c=bc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ze&&c&&vc(r),r.flags|=1,Bt(t,r,a,f),r.child)}function vp(t,r,a,c,f){if(Qt(a)){var m=!0;fl(r)}else m=!1;if(Oo(r,f),r.stateNode===null)xl(t,r),ap(r,a,c),$c(r,a,c,f),c=!0;else if(t===null){var v=r.stateNode,A=r.memoizedProps;v.props=A;var D=v.context,H=a.contextType;typeof H=="object"&&H!==null?H=pn(H):(H=Qt(a)?Ci:Vt.current,H=ko(r,H));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==c||D!==H)&&lp(r,v,c,H),jr=!1;var X=r.memoizedState;v.state=X,wl(r,c,v,f),D=r.memoizedState,A!==c||X!==D||Kt.current||jr?(typeof Y=="function"&&(Bc(r,a,Y,c),D=r.memoizedState),(A=jr||sp(r,a,A,c,X,D,H))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=D),v.props=c,v.state=D,v.context=H,c=A):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,Od(t,r),A=r.memoizedProps,H=r.type===r.elementType?A:Dn(r.type,A),v.props=H,Z=r.pendingProps,X=v.context,D=a.contextType,typeof D=="object"&&D!==null?D=pn(D):(D=Qt(a)?Ci:Vt.current,D=ko(r,D));var ie=a.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==Z||X!==D)&&lp(r,v,c,D),jr=!1,X=r.memoizedState,v.state=X,wl(r,c,v,f);var ue=r.memoizedState;A!==Z||X!==ue||Kt.current||jr?(typeof ie=="function"&&(Bc(r,a,ie,c),ue=r.memoizedState),(H=jr||sp(r,a,H,c,X,ue,D)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ue,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ue,D)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),v.props=c,v.state=ue,v.context=D,c=H):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return Kc(t,r,a,c,m,f)}function Kc(t,r,a,c,f,m){_p(t,r);var v=(r.flags&128)!==0;if(!c&&!v)return f&&Sd(r,a,!1),gr(t,r,m);c=r.stateNode,Iv.current=r;var A=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&v?(r.child=Vo(r,t.child,null,m),r.child=Vo(r,null,A,m)):Bt(t,r,A,m),r.memoizedState=c.state,f&&Sd(r,a,!0),r.child}function Ep(t){var r=t.stateNode;r.pendingContext?Td(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Td(t,r.context,!1),xc(t,r.containerInfo)}function wp(t,r,a,c,f){return No(),Ic(f),r.flags|=256,Bt(t,r,a,c),r.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Gc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tp(t,r,a){var c=r.pendingProps,f=tt.current,m=!1,v=(r.flags&128)!==0,A;if((A=v)||(A=t!==null&&t.memoizedState===null?!1:(f&2)!==0),A?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Ge(tt,f&1),t===null)return Tc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=c.children,t=c.fallback,m?(c=r.mode,m=r.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Bl(v,c,0,null),t=Mi(t,c,a,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Gc(a),r.memoizedState=Qc,t):Xc(r,v));if(f=t.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return Sv(t,r,v,c,A,f,a);if(m){m=c.fallback,v=r.mode,f=t.child,A=f.sibling;var D={mode:"hidden",children:c.children};return!(v&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=D,r.deletions=null):(c=Qr(f,D),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?m=Qr(A,m):(m=Mi(m,v,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,v=t.child.memoizedState,v=v===null?Gc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~a,r.memoizedState=Qc,c}return m=t.child,t=m.sibling,c=Qr(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=c,r.memoizedState=null,c}function Xc(t,r){return r=Bl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function kl(t,r,a,c){return c!==null&&Ic(c),Vo(r,t.child,null,a),t=Xc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Sv(t,r,a,c,f,m,v){if(a)return r.flags&256?(r.flags&=-257,c=Hc(Error(n(422))),kl(t,r,v,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=Bl({mode:"visible",children:c.children},f,0,null),m=Mi(m,f,v,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&Vo(r,t.child,null,v),r.child.memoizedState=Gc(v),r.memoizedState=Qc,m);if(!(r.mode&1))return kl(t,r,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(n(419)),c=Hc(m,c,void 0),kl(t,r,v,c)}if(A=(v&t.childLanes)!==0,Gt||A){if(c=It,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,pr(t,f),Ln(c,t,f,-1))}return fh(),c=Hc(Error(n(421))),kl(t,r,v,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=bv.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,sn=br(f.nextSibling),on=r,Ze=!0,xn=null,t!==null&&(fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=Ri,fr=t.id,dr=t.overflow,Ri=r),r=Xc(r,c.children),r.flags|=4096,r)}function Ip(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Rc(t.return,r,a)}function Yc(t,r,a,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function Sp(t,r,a){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(Bt(t,r,c.children,a),c=tt.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ip(t,a,r);else if(t.tag===19)Ip(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ge(tt,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Tl(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Yc(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Tl(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Yc(r,!0,a,null,m);break;case"together":Yc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ni|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=Qr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Qr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Av(t,r,a){switch(r.tag){case 3:Ep(r),No();break;case 5:Fd(r);break;case 1:Qt(r.type)&&fl(r);break;case 4:xc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;Ge(_l,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ge(tt,tt.current&1),r.flags|=128,null):a&r.child.childLanes?Tp(t,r,a):(Ge(tt,tt.current&1),t=gr(t,r,a),t!==null?t.sibling:null);Ge(tt,tt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,t.flags&128){if(c)return Sp(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ge(tt,tt.current),c)break;return null;case 22:case 23:return r.lanes=0,yp(t,r,a)}return gr(t,r,a)}var Ap,Jc,Cp,Rp;Ap=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jc=function(){},Cp=function(t,r,a,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,xi(Hn.current);var m=null;switch(a){case"input":f=ui(t,f),c=ui(t,c),m=[];break;case"select":f=oe({},f,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":f=cs(t,f),c=cs(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=ul)}gs(a,c);var v;a=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var A=f[H];for(v in A)A.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?m||(m=[]):(m=m||[]).push(H,null));for(H in c){var D=c[H];if(A=f!=null?f[H]:void 0,c.hasOwnProperty(H)&&D!==A&&(D!=null||A!=null))if(H==="style")if(A){for(v in A)!A.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in D)D.hasOwnProperty(v)&&A[v]!==D[v]&&(a||(a={}),a[v]=D[v])}else a||(m||(m=[]),m.push(H,a)),a=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(m=m||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&Xe("scroll",t),m||A===D||(m=[])):(m=m||[]).push(H,D))}a&&(m=m||[]).push("style",a);var H=m;(r.updateQueue=H)&&(r.flags|=4)}},Rp=function(t,r,a,c){a!==c&&(r.flags|=4)};function Xs(t,r){if(!Ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function Cv(t,r,a){var c=r.pendingProps;switch(Ec(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Qt(r.type)&&hl(),Ot(r),null;case 3:return c=r.stateNode,Mo(),Ye(Kt),Ye(Vt),Vc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(gl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,xn!==null&&(uh(xn),xn=null))),Jc(t,r),Ot(r),null;case 5:Dc(r);var f=xi(Ws.current);if(a=r.type,t!==null&&r.stateNode!=null)Cp(t,r,a,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Ot(r),null}if(t=xi(Hn.current),gl(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[$n]=r,c[zs]=m,t=(r.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(f=0;f<bs.length;f++)Xe(bs[f],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":Xi(c,m),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Xe("invalid",c);break;case"textarea":Ji(c,m),Xe("invalid",c)}gs(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var A=m[v];v==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&ll(c.textContent,A,t),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&ll(c.textContent,A,t),f=["children",""+A]):s.hasOwnProperty(v)&&A!=null&&v==="onScroll"&&Xe("scroll",c)}switch(a){case"input":er(c),La(c,m,!0);break;case"textarea":er(c),hs(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ul)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(a,{is:c.is}):(t=v.createElement(a),a==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,a),t[$n]=r,t[zs]=c,Ap(t,r,!1,!1),r.stateNode=t;e:{switch(v=ys(a,c),a){case"dialog":Xe("cancel",t),Xe("close",t),f=c;break;case"iframe":case"object":case"embed":Xe("load",t),f=c;break;case"video":case"audio":for(f=0;f<bs.length;f++)Xe(bs[f],t);f=c;break;case"source":Xe("error",t),f=c;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),f=c;break;case"details":Xe("toggle",t),f=c;break;case"input":Xi(t,c),f=ui(t,c),Xe("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=oe({},c,{value:void 0}),Xe("invalid",t);break;case"textarea":Ji(t,c),f=cs(t,c),Xe("invalid",t);break;default:f=c}gs(a,f),A=f;for(m in A)if(A.hasOwnProperty(m)){var D=A[m];m==="style"?ps(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&fs(t,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Cr(t,D):typeof D=="number"&&Cr(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?D!=null&&m==="onScroll"&&Xe("scroll",t):D!=null&&K(t,m,D,v))}switch(a){case"input":er(t),La(t,c,!1);break;case"textarea":er(t),hs(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ze(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?nr(t,!!c.multiple,m,!1):c.defaultValue!=null&&nr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ul)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(t&&r.stateNode!=null)Rp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(a=xi(Ws.current),xi(Hn.current),gl(r)){if(c=r.stateNode,a=r.memoizedProps,c[$n]=r,(m=c.nodeValue!==a)&&(t=on,t!==null))switch(t.tag){case 3:ll(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ll(c.nodeValue,a,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[$n]=r,r.stateNode=c}return Ot(r),null;case 13:if(Ye(tt),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&sn!==null&&r.mode&1&&!(r.flags&128))xd(),No(),r.flags|=98560,m=!1;else if(m=gl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[$n]=r}else No(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ot(r),m=!1}else xn!==null&&(uh(xn),xn=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||tt.current&1?mt===0&&(mt=3):fh())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return Mo(),Jc(t,r),t===null&&Fs(r.stateNode.containerInfo),Ot(r),null;case 10:return Cc(r.type._context),Ot(r),null;case 17:return Qt(r.type)&&hl(),Ot(r),null;case 19:if(Ye(tt),m=r.memoizedState,m===null)return Ot(r),null;if(c=(r.flags&128)!==0,v=m.rendering,v===null)if(c)Xs(m,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=Tl(t),v!==null){for(r.flags|=128,Xs(m,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ge(tt,tt.current&1|2),r.child}t=t.sibling}m.tail!==null&&Qe()>zo&&(r.flags|=128,c=!0,Xs(m,!1),r.lanes=4194304)}else{if(!c)if(t=Tl(v),t!==null){if(r.flags|=128,c=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Xs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ze)return Ot(r),null}else 2*Qe()-m.renderingStartTime>zo&&a!==1073741824&&(r.flags|=128,c=!0,Xs(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(a=m.last,a!==null?a.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Qe(),r.sibling=null,a=tt.current,Ge(tt,c?a&1|2:a&1),r):(Ot(r),null);case 22:case 23:return hh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?an&1073741824&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Rv(t,r){switch(Ec(r),r.tag){case 1:return Qt(r.type)&&hl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Mo(),Ye(Kt),Ye(Vt),Vc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Dc(r),null;case 13:if(Ye(tt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));No()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ye(tt),null;case 4:return Mo(),null;case 10:return Cc(r.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Dl=!1,Mt=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Fo(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(t,r,c)}else a.current=null}function Zc(t,r,a){try{a()}catch(c){it(t,r,c)}}var Pp=!1;function kv(t,r){if(hc=Lr,t=sd(),rc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,A=-1,D=-1,H=0,Y=0,Z=t,X=null;t:for(;;){for(var ie;Z!==a||f!==0&&Z.nodeType!==3||(A=v+f),Z!==m||c!==0&&Z.nodeType!==3||(D=v+c),Z.nodeType===3&&(v+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)X=Z,Z=ie;for(;;){if(Z===t)break t;if(X===a&&++H===f&&(A=v),X===m&&++Y===c&&(D=v),(ie=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ie}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(fc={focusedElem:t,selectionRange:a},Lr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var fe=ue.memoizedProps,st=ue.memoizedState,U=r.stateNode,N=U.getSnapshotBeforeUpdate(r.elementType===r.type?fe:Dn(r.type,fe),st);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){it(r,r.return,te)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return ue=Pp,Pp=!1,ue}function Ys(t,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Zc(r,a,m)}f=f.next}while(f!==c)}}function Nl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function eh(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function kp(t){var r=t.alternate;r!==null&&(t.alternate=null,kp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[$n],delete r[zs],delete r[gc],delete r[hv],delete r[fv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xp(t){return t.tag===5||t.tag===3||t.tag===4}function Dp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function th(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ul));else if(c!==4&&(t=t.child,t!==null))for(th(t,r,a),t=t.sibling;t!==null;)th(t,r,a),t=t.sibling}function nh(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(nh(t,r,a),t=t.sibling;t!==null;)nh(t,r,a),t=t.sibling}var Pt=null,Nn=!1;function $r(t,r,a){for(a=a.child;a!==null;)Np(t,r,a),a=a.sibling}function Np(t,r,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(_i,a)}catch{}switch(a.tag){case 5:Mt||Fo(a,r);case 6:var c=Pt,f=Nn;Pt=null,$r(t,r,a),Pt=c,Nn=f,Pt!==null&&(Nn?(t=Pt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Nn?(t=Pt,a=a.stateNode,t.nodeType===8?mc(t.parentNode,a):t.nodeType===1&&mc(t,a),Rn(t)):mc(Pt,a.stateNode));break;case 4:c=Pt,f=Nn,Pt=a.stateNode.containerInfo,Nn=!0,$r(t,r,a),Pt=c,Nn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&Zc(a,r,v),f=f.next}while(f!==c)}$r(t,r,a);break;case 1:if(!Mt&&(Fo(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){it(a,r,A)}$r(t,r,a);break;case 21:$r(t,r,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,$r(t,r,a),Mt=c):$r(t,r,a);break;default:$r(t,r,a)}}function Vp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Pv),r.forEach(function(c){var f=Fv.bind(null,t,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Vn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=t,v=r,A=v;e:for(;A!==null;){switch(A.tag){case 5:Pt=A.stateNode,Nn=!1;break e;case 3:Pt=A.stateNode.containerInfo,Nn=!0;break e;case 4:Pt=A.stateNode.containerInfo,Nn=!0;break e}A=A.return}if(Pt===null)throw Error(n(160));Np(m,v,f),Pt=null,Nn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(H){it(f,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Lp(r,t),r=r.sibling}function Lp(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),qn(t),c&4){try{Ys(3,t,t.return),Nl(3,t)}catch(fe){it(t,t.return,fe)}try{Ys(5,t,t.return)}catch(fe){it(t,t.return,fe)}}break;case 1:Vn(r,t),qn(t),c&512&&a!==null&&Fo(a,a.return);break;case 5:if(Vn(r,t),qn(t),c&512&&a!==null&&Fo(a,a.return),t.flags&32){var f=t.stateNode;try{Cr(f,"")}catch(fe){it(t,t.return,fe)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,v=a!==null?a.memoizedProps:m,A=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&ls(f,m),ys(A,v);var H=ys(A,m);for(v=0;v<D.length;v+=2){var Y=D[v],Z=D[v+1];Y==="style"?ps(f,Z):Y==="dangerouslySetInnerHTML"?fs(f,Z):Y==="children"?Cr(f,Z):K(f,Y,Z,H)}switch(A){case"input":us(f,m);break;case"textarea":Zi(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?nr(f,!!m.multiple,ie,!1):X!==!!m.multiple&&(m.defaultValue!=null?nr(f,!!m.multiple,m.defaultValue,!0):nr(f,!!m.multiple,m.multiple?[]:"",!1))}f[zs]=m}catch(fe){it(t,t.return,fe)}}break;case 6:if(Vn(r,t),qn(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(fe){it(t,t.return,fe)}}break;case 3:if(Vn(r,t),qn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(fe){it(t,t.return,fe)}break;case 4:Vn(r,t),qn(t);break;case 13:Vn(r,t),qn(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(oh=Qe())),c&4&&Vp(t);break;case 22:if(Y=a!==null&&a.memoizedState!==null,t.mode&1?(Mt=(H=Mt)||Y,Vn(r,t),Mt=H):Vn(r,t),qn(t),c&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!Y&&t.mode&1)for(ae=t,Y=t.child;Y!==null;){for(Z=ae=Y;ae!==null;){switch(X=ae,ie=X.child,X.tag){case 0:case 11:case 14:case 15:Ys(4,X,X.return);break;case 1:Fo(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){c=X,a=X.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(fe){it(c,a,fe)}}break;case 5:Fo(X,X.return);break;case 22:if(X.memoizedState!==null){bp(Z);continue}}ie!==null?(ie.return=X,ae=ie):bp(Z)}Y=Y.sibling}e:for(Y=null,Z=t;;){if(Z.tag===5){if(Y===null){Y=Z;try{f=Z.stateNode,H?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=Z.stateNode,D=Z.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=ds("display",v))}catch(fe){it(t,t.return,fe)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=H?"":Z.memoizedProps}catch(fe){it(t,t.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===t)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===t)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===t)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Vn(r,t),qn(t),c&4&&Vp(t);break;case 21:break;default:Vn(r,t),qn(t)}}function qn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(xp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Cr(f,""),c.flags&=-33);var m=Dp(t);nh(t,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,A=Dp(t);th(t,A,v);break;default:throw Error(n(161))}}catch(D){it(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xv(t,r,a){ae=t,Op(t)}function Op(t,r,a){for(var c=(t.mode&1)!==0;ae!==null;){var f=ae,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Dl;if(!v){var A=f.alternate,D=A!==null&&A.memoizedState!==null||Mt;A=Dl;var H=Mt;if(Dl=v,(Mt=D)&&!H)for(ae=f;ae!==null;)v=ae,D=v.child,v.tag===22&&v.memoizedState!==null?Fp(f):D!==null?(D.return=v,ae=D):Fp(f);for(;m!==null;)ae=m,Op(m),m=m.sibling;ae=f,Dl=A,Mt=H}Mp(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ae=m):Mp(t)}}function Mp(t){for(;ae!==null;){var r=ae;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Mt||Nl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var f=r.elementType===r.type?a.memoizedProps:Dn(r.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&bd(r,m,c);break;case 3:var v=r.updateQueue;if(v!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}bd(r,v,a)}break;case 5:var A=r.stateNode;if(a===null&&r.flags&4){a=A;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var Y=H.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Rn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&eh(r)}catch(X){it(r,r.return,X)}}if(r===t){ae=null;break}if(a=r.sibling,a!==null){a.return=r.return,ae=a;break}ae=r.return}}function bp(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ae=a;break}ae=r.return}}function Fp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Nl(4,r)}catch(D){it(r,a,D)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(D){it(r,f,D)}}var m=r.return;try{eh(r)}catch(D){it(r,m,D)}break;case 5:var v=r.return;try{eh(r)}catch(D){it(r,v,D)}}}catch(D){it(r,r.return,D)}if(r===t){ae=null;break}var A=r.sibling;if(A!==null){A.return=r.return,ae=A;break}ae=r.return}}var Dv=Math.ceil,Vl=ee.ReactCurrentDispatcher,rh=ee.ReactCurrentOwner,gn=ee.ReactCurrentBatchConfig,Me=0,It=null,ut=null,kt=0,an=0,Uo=Fr(0),mt=0,Js=null,Ni=0,Ll=0,ih=0,Zs=null,Xt=null,oh=0,zo=1/0,yr=null,Ol=!1,sh=null,Hr=null,Ml=!1,Wr=null,bl=0,ea=0,ah=null,Fl=-1,Ul=0;function $t(){return Me&6?Qe():Fl!==-1?Fl:Fl=Qe()}function qr(t){return t.mode&1?Me&2&&kt!==0?kt&-kt:pv.transition!==null?(Ul===0&&(Ul=Ei()),Ul):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Ps(t.type)),t):1}function Ln(t,r,a,c){if(50<ea)throw ea=0,ah=null,Error(n(185));xr(t,a,c),(!(Me&2)||t!==It)&&(t===It&&(!(Me&2)&&(Ll|=a),mt===4&&Kr(t,kt)),Yt(t,c),a===1&&Me===0&&!(r.mode&1)&&(zo=Qe()+500,dl&&zr()))}function Yt(t,r){var a=t.callbackNode;or(t,r);var c=vi(t,t===It?kt:0);if(c===0)a!==null&&Is(a),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(a!=null&&Is(a),r===1)t.tag===0?dv(zp.bind(null,t)):Ad(zp.bind(null,t)),uv(function(){!(Me&6)&&zr()}),a=null;else{switch(Nr(c)){case 1:a=yi;break;case 4:a=Rr;break;case 16:a=un;break;case 536870912:a=Ua;break;default:a=un}a=Qp(a,Up.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Up(t,r){if(Fl=-1,Ul=0,Me&6)throw Error(n(327));var a=t.callbackNode;if(jo()&&t.callbackNode!==a)return null;var c=vi(t,t===It?kt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=zl(t,c);else{r=c;var f=Me;Me|=2;var m=Bp();(It!==t||kt!==r)&&(yr=null,zo=Qe()+500,Li(t,r));do try{Lv();break}catch(A){jp(t,A)}while(!0);Ac(),Vl.current=m,Me=f,ut!==null?r=0:(It=null,kt=0,r=mt)}if(r!==0){if(r===2&&(f=tn(t),f!==0&&(c=f,r=lh(t,f))),r===1)throw a=Js,Li(t,0),Kr(t,c),Yt(t,Qe()),a;if(r===6)Kr(t,c);else{if(f=t.current.alternate,!(c&30)&&!Nv(f)&&(r=zl(t,c),r===2&&(m=tn(t),m!==0&&(c=m,r=lh(t,m))),r===1))throw a=Js,Li(t,0),Kr(t,c),Yt(t,Qe()),a;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Oi(t,Xt,yr);break;case 3:if(Kr(t,c),(c&130023424)===c&&(r=oh+500-Qe(),10<r)){if(vi(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){$t(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=pc(Oi.bind(null,t,Xt,yr),r);break}Oi(t,Xt,yr);break;case 4:if(Kr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var v=31-zt(c);m=1<<v,v=r[v],v>f&&(f=v),c&=~m}if(c=f,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Dv(c/1960))-c,10<c){t.timeoutHandle=pc(Oi.bind(null,t,Xt,yr),c);break}Oi(t,Xt,yr);break;case 5:Oi(t,Xt,yr);break;default:throw Error(n(329))}}}return Yt(t,Qe()),t.callbackNode===a?Up.bind(null,t):null}function lh(t,r){var a=Zs;return t.current.memoizedState.isDehydrated&&(Li(t,r).flags|=256),t=zl(t,r),t!==2&&(r=Xt,Xt=a,r!==null&&uh(r)),t}function uh(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function Nv(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!kn(m(),f))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r){for(r&=~ih,r&=~Ll,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-zt(r),c=1<<a;t[a]=-1,r&=~c}}function zp(t){if(Me&6)throw Error(n(327));jo();var r=vi(t,0);if(!(r&1))return Yt(t,Qe()),null;var a=zl(t,r);if(t.tag!==0&&a===2){var c=tn(t);c!==0&&(r=c,a=lh(t,c))}if(a===1)throw a=Js,Li(t,0),Kr(t,r),Yt(t,Qe()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Oi(t,Xt,yr),Yt(t,Qe()),null}function ch(t,r){var a=Me;Me|=1;try{return t(r)}finally{Me=a,Me===0&&(zo=Qe()+500,dl&&zr())}}function Vi(t){Wr!==null&&Wr.tag===0&&!(Me&6)&&jo();var r=Me;Me|=1;var a=gn.transition,c=xe;try{if(gn.transition=null,xe=1,t)return t()}finally{xe=c,gn.transition=a,Me=r,!(Me&6)&&zr()}}function hh(){an=Uo.current,Ye(Uo)}function Li(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,lv(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(Ec(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&hl();break;case 3:Mo(),Ye(Kt),Ye(Vt),Vc();break;case 5:Dc(c);break;case 4:Mo();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Cc(c.type._context);break;case 22:case 23:hh()}a=a.return}if(It=t,ut=t=Qr(t.current,null),kt=an=r,mt=0,Js=null,ih=Ll=Ni=0,Xt=Zs=null,ki!==null){for(r=0;r<ki.length;r++)if(a=ki[r],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}a.pending=c}ki=null}return t}function jp(t,r){do{var a=ut;try{if(Ac(),Il.current=Rl,Sl){for(var c=nt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Sl=!1}if(Di=0,Tt=pt=nt=null,qs=!1,Ks=0,rh.current=null,a===null||a.return===null){mt=1,Js=r,ut=null;break}e:{var m=t,v=a.return,A=a,D=r;if(r=kt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,Y=A,Z=Y.tag;if(!(Y.mode&1)&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=fp(v);if(ie!==null){ie.flags&=-257,dp(ie,v,A,m,r),ie.mode&1&&hp(m,H,r),r=ie,D=H;var ue=r.updateQueue;if(ue===null){var fe=new Set;fe.add(D),r.updateQueue=fe}else ue.add(D);break e}else{if(!(r&1)){hp(m,H,r),fh();break e}D=Error(n(426))}}else if(Ze&&A.mode&1){var st=fp(v);if(st!==null){!(st.flags&65536)&&(st.flags|=256),dp(st,v,A,m,r),Ic(bo(D,A));break e}}m=D=bo(D,A),mt!==4&&(mt=2),Zs===null?Zs=[m]:Zs.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var U=up(m,D,r);Md(m,U);break e;case 1:A=D;var N=m.type,B=m.stateNode;if(!(m.flags&128)&&(typeof N.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Hr===null||!Hr.has(B)))){m.flags|=65536,r&=-r,m.lanes|=r;var te=cp(m,A,r);Md(m,te);break e}}m=m.return}while(m!==null)}Hp(a)}catch(de){r=de,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function Bp(){var t=Vl.current;return Vl.current=Rl,t===null?Rl:t}function fh(){(mt===0||mt===3||mt===2)&&(mt=4),It===null||!(Ni&268435455)&&!(Ll&268435455)||Kr(It,kt)}function zl(t,r){var a=Me;Me|=2;var c=Bp();(It!==t||kt!==r)&&(yr=null,Li(t,r));do try{Vv();break}catch(f){jp(t,f)}while(!0);if(Ac(),Me=a,Vl.current=c,ut!==null)throw Error(n(261));return It=null,kt=0,mt}function Vv(){for(;ut!==null;)$p(ut)}function Lv(){for(;ut!==null&&!ba();)$p(ut)}function $p(t){var r=Kp(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?Hp(t):ut=r,rh.current=null}function Hp(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=Rv(a,r),a!==null){a.flags&=32767,ut=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ut=null;return}}else if(a=Cv(a,r,an),a!==null){ut=a;return}if(r=r.sibling,r!==null){ut=r;return}ut=r=t}while(r!==null);mt===0&&(mt=5)}function Oi(t,r,a){var c=xe,f=gn.transition;try{gn.transition=null,xe=1,Ov(t,r,a,c)}finally{gn.transition=f,xe=c}return null}function Ov(t,r,a,c){do jo();while(Wr!==null);if(Me&6)throw Error(n(327));a=t.finishedWork;var f=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(qe(t,m),t===It&&(ut=It=null,kt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ml||(Ml=!0,Qp(un,function(){return jo(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=gn.transition,gn.transition=null;var v=xe;xe=1;var A=Me;Me|=4,rh.current=null,kv(t,a),Lp(a,t),tv(fc),Lr=!!hc,fc=hc=null,t.current=a,xv(a),Gu(),Me=A,xe=v,gn.transition=m}else t.current=a;if(Ml&&(Ml=!1,Wr=t,bl=f),m=t.pendingLanes,m===0&&(Hr=null),za(a.stateNode),Yt(t,Qe()),r!==null)for(c=t.onRecoverableError,a=0;a<r.length;a++)f=r[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ol)throw Ol=!1,t=sh,sh=null,t;return bl&1&&t.tag!==0&&jo(),m=t.pendingLanes,m&1?t===ah?ea++:(ea=0,ah=t):ea=0,zr(),null}function jo(){if(Wr!==null){var t=Nr(bl),r=gn.transition,a=xe;try{if(gn.transition=null,xe=16>t?16:t,Wr===null)var c=!1;else{if(t=Wr,Wr=null,bl=0,Me&6)throw Error(n(331));var f=Me;for(Me|=4,ae=t.current;ae!==null;){var m=ae,v=m.child;if(ae.flags&16){var A=m.deletions;if(A!==null){for(var D=0;D<A.length;D++){var H=A[D];for(ae=H;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:Ys(8,Y,m)}var Z=Y.child;if(Z!==null)Z.return=Y,ae=Z;else for(;ae!==null;){Y=ae;var X=Y.sibling,ie=Y.return;if(kp(Y),Y===H){ae=null;break}if(X!==null){X.return=ie,ae=X;break}ae=ie}}}var ue=m.alternate;if(ue!==null){var fe=ue.child;if(fe!==null){ue.child=null;do{var st=fe.sibling;fe.sibling=null,fe=st}while(fe!==null)}}ae=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,ae=v;else e:for(;ae!==null;){if(m=ae,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Ys(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,ae=U;break e}ae=m.return}}var N=t.current;for(ae=N;ae!==null;){v=ae;var B=v.child;if(v.subtreeFlags&2064&&B!==null)B.return=v,ae=B;else e:for(v=N;ae!==null;){if(A=ae,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Nl(9,A)}}catch(de){it(A,A.return,de)}if(A===v){ae=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,ae=te;break e}ae=A.return}}if(Me=f,zr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(_i,t)}catch{}c=!0}return c}finally{xe=a,gn.transition=r}}return!1}function Wp(t,r,a){r=bo(a,r),r=up(t,r,1),t=Br(t,r,1),r=$t(),t!==null&&(xr(t,1,r),Yt(t,r))}function it(t,r,a){if(t.tag===3)Wp(t,t,a);else for(;r!==null;){if(r.tag===3){Wp(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hr===null||!Hr.has(c))){t=bo(a,t),t=cp(r,t,1),r=Br(r,t,1),t=$t(),r!==null&&(xr(r,1,t),Yt(r,t));break}}r=r.return}}function Mv(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&a,It===t&&(kt&a)===a&&(mt===4||mt===3&&(kt&130023424)===kt&&500>Qe()-oh?Li(t,0):ih|=a),Yt(t,r)}function qp(t,r){r===0&&(t.mode&1?(r=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):r=1);var a=$t();t=pr(t,r),t!==null&&(xr(t,r,a),Yt(t,a))}function bv(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),qp(t,a)}function Fv(t,r){var a=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),qp(t,a)}var Kp;Kp=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Kt.current)Gt=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return Gt=!1,Av(t,r,a);Gt=!!(t.flags&131072)}else Gt=!1,Ze&&r.flags&1048576&&Cd(r,ml,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;xl(t,r),t=r.pendingProps;var f=ko(r,Vt.current);Oo(r,a),f=Mc(null,r,c,t,f,a);var m=bc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(c)?(m=!0,fl(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,kc(r),f.updater=Pl,r.stateNode=f,f._reactInternals=r,$c(r,c,t,a),r=Kc(null,r,c,!0,m,a)):(r.tag=0,Ze&&m&&vc(r),Bt(null,r,f,a),r=r.child),r;case 16:c=r.elementType;e:{switch(xl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=zv(c),t=Dn(c,t),f){case 0:r=qc(null,r,c,t,a);break e;case 1:r=vp(null,r,c,t,a);break e;case 11:r=pp(null,r,c,t,a);break e;case 14:r=mp(null,r,c,Dn(c.type,t),a);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Dn(c,f),qc(t,r,c,f,a);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Dn(c,f),vp(t,r,c,f,a);case 3:e:{if(Ep(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,Od(t,r),wl(r,c,null,a);var v=r.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=bo(Error(n(423)),r),r=wp(t,r,c,a,f);break e}else if(c!==f){f=bo(Error(n(424)),r),r=wp(t,r,c,a,f);break e}else for(sn=br(r.stateNode.containerInfo.firstChild),on=r,Ze=!0,xn=null,a=Vd(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(No(),c===f){r=gr(t,r,a);break e}Bt(t,r,c,a)}r=r.child}return r;case 5:return Fd(r),t===null&&Tc(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,v=f.children,dc(c,f)?v=null:m!==null&&dc(c,m)&&(r.flags|=32),_p(t,r),Bt(t,r,v,a),r.child;case 6:return t===null&&Tc(r),null;case 13:return Tp(t,r,a);case 4:return xc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Vo(r,null,c,a):Bt(t,r,c,a),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Dn(c,f),pp(t,r,c,f,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,v=f.value,Ge(_l,c._currentValue),c._currentValue=v,m!==null)if(kn(m.value,v)){if(m.children===f.children&&!Kt.current){r=gr(t,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var A=m.dependencies;if(A!==null){v=m.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=mr(-1,a&-a),D.tag=2;var H=m.updateQueue;if(H!==null){H=H.shared;var Y=H.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),H.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Rc(m.return,a,r),A.lanes|=a;break}D=D.next}}else if(m.tag===10)v=m.type===r.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),Rc(v,a,r),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===r){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Bt(t,r,f.children,a),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Oo(r,a),f=pn(f),c=c(f),r.flags|=1,Bt(t,r,c,a),r.child;case 14:return c=r.type,f=Dn(c,r.pendingProps),f=Dn(c.type,f),mp(t,r,c,f,a);case 15:return gp(t,r,r.type,r.pendingProps,a);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Dn(c,f),xl(t,r),r.tag=1,Qt(c)?(t=!0,fl(r)):t=!1,Oo(r,a),ap(r,c,f),$c(r,c,f,a),Kc(null,r,c,!0,t,a);case 19:return Sp(t,r,a);case 22:return yp(t,r,a)}throw Error(n(156,r.tag))};function Qp(t,r){return ao(t,r)}function Uv(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,a,c){return new Uv(t,r,a,c)}function dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zv(t){if(typeof t=="function")return dh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===We)return 14}return 2}function Qr(t,r){var a=t.alternate;return a===null?(a=yn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function jl(t,r,a,c,f,m){var v=2;if(c=t,typeof t=="function")dh(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case P:return Mi(a.children,f,m,r);case T:v=8,f|=8;break;case S:return t=yn(12,a,r,f|2),t.elementType=S,t.lanes=m,t;case C:return t=yn(13,a,r,f),t.elementType=C,t.lanes=m,t;case je:return t=yn(19,a,r,f),t.elementType=je,t.lanes=m,t;case Pe:return Bl(a,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case x:v=9;break e;case L:v=11;break e;case We:v=14;break e;case Ie:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(v,a,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function Mi(t,r,a,c){return t=yn(7,t,c,r),t.lanes=a,t}function Bl(t,r,a,c){return t=yn(22,t,c,r),t.elementType=Pe,t.lanes=a,t.stateNode={isHidden:!1},t}function ph(t,r,a){return t=yn(6,t,null,r),t.lanes=a,t}function mh(t,r,a){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function jv(t,r,a,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kr(0),this.expirationTimes=kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gh(t,r,a,c,f,m,v,A,D){return t=new jv(t,r,a,A,D),r===1?(r=1,m===!0&&(r|=8)):r=0,m=yn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kc(m),t}function Bv(t,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:c==null?null:""+c,children:t,containerInfo:r,implementation:a}}function Gp(t){if(!t)return Ur;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Qt(a))return Id(t,a,r)}return r}function Xp(t,r,a,c,f,m,v,A,D){return t=gh(a,c,!0,t,f,m,v,A,D),t.context=Gp(null),a=t.current,c=$t(),f=qr(a),m=mr(c,f),m.callback=r??null,Br(a,m,f),t.current.lanes=f,xr(t,f,c),Yt(t,c),t}function $l(t,r,a,c){var f=r.current,m=$t(),v=qr(f);return a=Gp(a),r.context===null?r.context=a:r.pendingContext=a,r=mr(m,v),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Br(f,r,v),t!==null&&(Ln(t,f,v,m),El(t,f,v)),v}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function yh(t,r){Yp(t,r),(t=t.alternate)&&Yp(t,r)}var Jp=typeof reportError=="function"?reportError:function(t){console.error(t)};function _h(t){this._internalRoot=t}Wl.prototype.render=_h.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));$l(t,r,null,null)},Wl.prototype.unmount=_h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Vi(function(){$l(null,t,null,null)}),r[cr]=null}};function Wl(t){this._internalRoot=t}Wl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wa();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Un.length&&r!==0&&r<Un[a].priority;a++);Un.splice(a,0,t),a===0&&Qa(t)}};function vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function $v(t,r,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var H=Hl(v);m.call(H)}}var v=Xp(r,c,t,0,null,!1,!1,"",Zp);return t._reactRootContainer=v,t[cr]=v.current,Fs(t.nodeType===8?t.parentNode:t),Vi(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var H=Hl(D);A.call(H)}}var D=gh(t,0,!1,null,null,!1,!1,"",Zp);return t._reactRootContainer=D,t[cr]=D.current,Fs(t.nodeType===8?t.parentNode:t),Vi(function(){$l(r,D,a,c)}),D}function Kl(t,r,a,c,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var A=f;f=function(){var D=Hl(v);A.call(D)}}$l(r,v,t,f)}else v=$v(a,r,t,f,c);return Hl(v)}$a=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Pr(r.pendingLanes);a!==0&&(Dr(r,a|1),Yt(r,Qe()),!(Me&6)&&(zo=Qe()+500,zr()))}break;case 13:Vi(function(){var c=pr(t,1);if(c!==null){var f=$t();Ln(c,t,1,f)}}),yh(t,1)}},co=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var a=$t();Ln(r,t,134217728,a)}yh(t,134217728)}},Ha=function(t){if(t.tag===13){var r=qr(t),a=pr(t,r);if(a!==null){var c=$t();Ln(a,t,r,c)}yh(t,r)}},Wa=function(){return xe},qa=function(t,r){var a=xe;try{return xe=t,r()}finally{xe=a}},to=function(t,r,a){switch(r){case"input":if(us(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var f=cl(c);if(!f)throw Error(n(90));Gi(c),us(c,f)}}}break;case"textarea":Zi(t,a);break;case"select":r=a.value,r!=null&&nr(t,!!a.multiple,r,!1)}},di=ch,vs=Vi;var Hv={usingClientEntryPoint:!1,Events:[js,Ro,cl,bn,_s,ch]},ta={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wv={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ts(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{_i=Ql.inject(Wv),en=Ql}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hv,Jt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(r))throw Error(n(200));return Bv(t,r,null,a)},Jt.createRoot=function(t,r){if(!vh(t))throw Error(n(299));var a=!1,c="",f=Jp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=gh(t,1,!1,null,null,a,!1,c,f),t[cr]=r.current,Fs(t.nodeType===8?t.parentNode:t),new _h(r)},Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Ts(r),t=t===null?null:t.stateNode,t},Jt.flushSync=function(t){return Vi(t)},Jt.hydrate=function(t,r,a){if(!ql(r))throw Error(n(200));return Kl(null,t,r,!0,a)},Jt.hydrateRoot=function(t,r,a){if(!vh(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",v=Jp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),r=Xp(r,null,t,1,a??null,f,!1,m,v),t[cr]=r.current,Fs(t),c)for(t=0;t<c.length;t++)a=c[t],f=a._getVersion,f=f(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f);return new Wl(r)},Jt.render=function(t,r,a){if(!ql(r))throw Error(n(200));return Kl(null,t,r,!1,a)},Jt.unmountComponentAtNode=function(t){if(!ql(t))throw Error(n(40));return t._reactRootContainer?(Vi(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Jt.unstable_batchedUpdates=ch,Jt.unstable_renderSubtreeIntoContainer=function(t,r,a,c){if(!ql(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Kl(t,r,a,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var am;function e0(){if(am)return Th.exports;am=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Th.exports=Zv(),Th.exports}var lm;function t0(){if(lm)return Gl;lm=1;var i=e0();return Gl.createRoot=i.createRoot,Gl.hydrateRoot=i.hydrateRoot,Gl}var n0=t0(),$=lf();const Fe=Kv($);var ra={},um;function r0(){if(um)return ra;um=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.parse=h,ra.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,V){const M=new u,z=R.length;if(z<2)return M;const O=(V==null?void 0:V.decode)||E;let j=0;do{const q=R.indexOf("=",j);if(q===-1)break;const K=R.indexOf(";",j),ee=K===-1?z:K;if(q>ee){j=R.lastIndexOf(";",q-1)+1;continue}const le=p(R,j,q),he=g(R,q,le),P=R.slice(le,he);if(M[P]===void 0){let T=p(R,q+1,ee),S=g(R,ee,T);const k=O(R.slice(T,S));M[P]=k}j=ee+1}while(j<z);return M}function p(R,V,M){do{const z=R.charCodeAt(V);if(z!==32&&z!==9)return V}while(++V<M);return M}function g(R,V,M){for(;V>M;){const z=R.charCodeAt(--V);if(z!==32&&z!==9)return V+1}return M}function _(R,V,M){const z=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const O=z(V);if(!e.test(O))throw new TypeError(`argument val is invalid: ${V}`);let j=R+"="+O;if(!M)return j;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);j+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);j+="; Domain="+M.domain}if(M.path){if(!o.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);j+="; Path="+M.path}if(M.expires){if(!I(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);j+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(j+="; HttpOnly"),M.secure&&(j+="; Secure"),M.partitioned&&(j+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return j}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function I(R){return s.call(R)==="[object Date]"}return ra}r0();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cm="popstate";function i0(i={}){function e(o,s){let{pathname:u,search:h,hash:p}=o.location;return Oh("",{pathname:u,search:h,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:da(s)}return s0(e,n,null,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o0(){return Math.random().toString(36).substring(2,10)}function hm(i,e){return{usr:i.state,key:i.key,idx:e}}function Oh(i,e,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:n,key:e&&e.key||o||o0()}}function da({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Sa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(e.search=i.substring(o),i=i.substring(0,o)),i&&(e.pathname=i)}return e}function s0(i,e,n,o={}){let{window:s=document.defaultView,v5Compat:u=!1}=o,h=s.history,p="POP",g=null,_=E();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function E(){return(h.state||{idx:null}).idx}function I(){p="POP";let O=E(),j=O==null?null:O-_;_=O,g&&g({action:p,location:z.location,delta:j})}function R(O,j){p="PUSH";let q=Oh(z.location,O,j);_=E()+1;let K=hm(q,_),ee=z.createHref(q);try{h.pushState(K,"",ee)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;s.location.assign(ee)}u&&g&&g({action:p,location:z.location,delta:1})}function V(O,j){p="REPLACE";let q=Oh(z.location,O,j);_=E();let K=hm(q,_),ee=z.createHref(q);h.replaceState(K,"",ee),u&&g&&g({action:p,location:z.location,delta:0})}function M(O){let j=s.location.origin!=="null"?s.location.origin:s.location.href,q=typeof O=="string"?O:da(O);return q=q.replace(/ $/,"%20"),yt(j,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,j)}let z={get action(){return p},get location(){return i(s,h)},listen(O){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(cm,I),g=O,()=>{s.removeEventListener(cm,I),g=null}},createHref(O){return e(s,O)},createURL:M,encodeLocation(O){let j=M(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:R,replace:V,go(O){return h.go(O)}};return z}function Ag(i,e,n="/"){return a0(i,e,n,!1)}function a0(i,e,n,o){let s=typeof e=="string"?Sa(e):e,u=ni(s.pathname||"/",n);if(u==null)return null;let h=Cg(i);l0(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let _=v0(u);p=y0(h[g],_,o)}return p}function Cg(i,e=[],n=[],o=""){let s=(u,h,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(yt(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let _=_r([o,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Cg(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:m0(_,u.index),routesMeta:E})};return i.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))s(u,h);else for(let g of Rg(u.path))s(u,h,g)}),e}function Rg(i){let e=i.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return s?[u,""]:[u];let h=Rg(o.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),s&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function l0(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:g0(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var u0=/^:[\w-]+$/,c0=3,h0=2,f0=1,d0=10,p0=-2,fm=i=>i==="*";function m0(i,e){let n=i.split("/"),o=n.length;return n.some(fm)&&(o+=p0),e&&(o+=h0),n.filter(s=>!fm(s)).reduce((s,u)=>s+(u0.test(u)?c0:u===""?f0:d0),o)}function g0(i,e){return i.length===e.length&&i.slice(0,-1).every((o,s)=>o===e[s])?i[i.length-1]-e[e.length-1]:0}function y0(i,e,n=!1){let{routesMeta:o}=i,s={},u="/",h=[];for(let p=0;p<o.length;++p){let g=o[p],_=p===o.length-1,E=u==="/"?e:e.slice(u.length)||"/",I=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},E),R=g.route;if(!I&&_&&n&&!o[o.length-1].route.index&&(I=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!I)return null;Object.assign(s,I.params),h.push({params:s,pathname:_r([u,I.pathname]),pathnameBase:I0(_r([u,I.pathnameBase])),route:R}),I.pathnameBase!=="/"&&(u=_r([u,I.pathnameBase]))}return h}function cu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=_0(i.path,i.caseSensitive,i.end),s=e.match(n);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:o.reduce((_,{paramName:E,isOptional:I},R)=>{if(E==="*"){let M=p[R]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const V=p[R];return I&&!V?_[E]=void 0:_[E]=(V||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:i}}function _0(i,e=!1,n=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function v0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ni(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function E0(i,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof i=="string"?Sa(i):i;return{pathname:n?n.startsWith("/")?n:w0(n,e):e,search:S0(o),hash:A0(s)}}function w0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ah(i,e,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pg(i){let e=T0(i);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function kg(i,e,n,o=!1){let s;typeof i=="string"?s=Sa(i):(s={...i},yt(!s.pathname||!s.pathname.includes("?"),Ah("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),Ah("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),Ah("#","search","hash",s)));let u=i===""||s.pathname==="",h=u?"/":s.pathname,p;if(h==null)p=n;else{let I=e.length-1;if(!o&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),I-=1;s.pathname=R.join("/")}p=I>=0?e[I]:"/"}let g=E0(s,p),_=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||E)&&(g.pathname+="/"),g}var _r=i=>i.join("/").replace(/\/\/+/g,"/"),I0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),S0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,A0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function C0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var xg=["POST","PUT","PATCH","DELETE"];new Set(xg);var R0=["GET",...xg];new Set(R0);var ns=$.createContext(null);ns.displayName="DataRouter";var ku=$.createContext(null);ku.displayName="DataRouterState";var Dg=$.createContext({isTransitioning:!1});Dg.displayName="ViewTransition";var P0=$.createContext(new Map);P0.displayName="Fetchers";var k0=$.createContext(null);k0.displayName="Await";var Zn=$.createContext(null);Zn.displayName="Navigation";var xu=$.createContext(null);xu.displayName="Location";var Sr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var uf=$.createContext(null);uf.displayName="RouteError";function x0(i,{relative:e}={}){yt(Aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=$.useContext(Zn),{hash:s,pathname:u,search:h}=Ca(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:_r([n,u])),o.createHref({pathname:p,search:h,hash:s})}function Aa(){return $.useContext(xu)!=null}function Hi(){return yt(Aa(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(xu).location}var Ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vg(i){$.useContext(Zn).static||$.useLayoutEffect(i)}function D0(){let{isDataRoute:i}=$.useContext(Sr);return i?H0():N0()}function N0(){yt(Aa(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(ns),{basename:e,navigator:n}=$.useContext(Zn),{matches:o}=$.useContext(Sr),{pathname:s}=Hi(),u=JSON.stringify(Pg(o)),h=$.useRef(!1);return Vg(()=>{h.current=!0}),$.useCallback((g,_={})=>{if(Xn(h.current,Ng),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=kg(g,JSON.parse(u),s,_.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:_r([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,u,s,i])}$.createContext(null);function Ca(i,{relative:e}={}){let{matches:n}=$.useContext(Sr),{pathname:o}=Hi(),s=JSON.stringify(Pg(n));return $.useMemo(()=>kg(i,JSON.parse(s),o,e==="path"),[i,s,o,e])}function V0(i,e,n,o){yt(Aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(Zn),{matches:u}=$.useContext(Sr),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",E=h&&h.route;{let j=E&&E.path||"";Lg(g,!E||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let I=Hi(),R;R=I;let V=R.pathname||"/",M=V;if(_!=="/"){let j=_.replace(/^\//,"").split("/");M="/"+V.replace(/^\//,"").split("/").slice(j.length).join("/")}let z=Ag(i,{pathname:M});return Xn(E||z!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Xn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),F0(z&&z.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:_r([_,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:_r([_,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,n,o)}function L0(){let i=$0(),e=C0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:s},n):null,h)}var O0=$.createElement(L0,null),M0=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(Sr.Provider,{value:this.props.routeContext},$.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b0({routeContext:i,match:e,children:n}){let o=$.useContext(ns);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Sr.Provider,{value:i},n)}function F0(i,e=[],n=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let s=i,u=n==null?void 0:n.errors;if(u!=null){let g=s.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);yt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let h=!1,p=-1;if(n)for(let g=0;g<s.length;g++){let _=s[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:E,errors:I}=n,R=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||R){h=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((g,_,E)=>{let I,R=!1,V=null,M=null;n&&(I=u&&_.route.id?u[_.route.id]:void 0,V=_.route.errorElement||O0,h&&(p<0&&E===0?(Lg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,M=null):p===E&&(R=!0,M=_.route.hydrateFallbackElement||null)));let z=e.concat(s.slice(0,E+1)),O=()=>{let j;return I?j=V:R?j=M:_.route.Component?j=$.createElement(_.route.Component,null):_.route.element?j=_.route.element:j=g,$.createElement(b0,{match:_,routeContext:{outlet:g,matches:z,isDataRoute:n!=null},children:j})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?$.createElement(M0,{location:n.location,revalidation:n.revalidation,component:V,error:I,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function cf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U0(i){let e=$.useContext(ns);return yt(e,cf(i)),e}function z0(i){let e=$.useContext(ku);return yt(e,cf(i)),e}function j0(i){let e=$.useContext(Sr);return yt(e,cf(i)),e}function hf(i){let e=j0(i),n=e.matches[e.matches.length-1];return yt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function B0(){return hf("useRouteId")}function $0(){var o;let i=$.useContext(uf),e=z0("useRouteError"),n=hf("useRouteError");return i!==void 0?i:(o=e.errors)==null?void 0:o[n]}function H0(){let{router:i}=U0("useNavigate"),e=hf("useNavigate"),n=$.useRef(!1);return Vg(()=>{n.current=!0}),$.useCallback(async(s,u={})=>{Xn(n.current,Ng),n.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...u}))},[i,e])}var dm={};function Lg(i,e,n){!e&&!dm[i]&&(dm[i]=!0,Xn(!1,n))}$.memo(W0);function W0({routes:i,future:e,state:n}){return V0(i,void 0,n,e)}function q0({basename:i="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:u=!1}){yt(!Aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:h,navigator:s,static:u,future:{}}),[h,s,u]);typeof n=="string"&&(n=Sa(n));let{pathname:g="/",search:_="",hash:E="",state:I=null,key:R="default"}=n,V=$.useMemo(()=>{let M=ni(g,h);return M==null?null:{location:{pathname:M,search:_,hash:E,state:I,key:R},navigationType:o}},[h,g,_,E,I,R,o]);return Xn(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:$.createElement(Zn.Provider,{value:p},$.createElement(xu.Provider,{children:e,value:V}))}var nu="get",ru="application/x-www-form-urlencoded";function Du(i){return i!=null&&typeof i.tagName=="string"}function K0(i){return Du(i)&&i.tagName.toLowerCase()==="button"}function Q0(i){return Du(i)&&i.tagName.toLowerCase()==="form"}function G0(i){return Du(i)&&i.tagName.toLowerCase()==="input"}function X0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Y0(i,e){return i.button===0&&(!e||e==="_self")&&!X0(i)}var Xl=null;function J0(){if(Xl===null)try{new FormData(document.createElement("form"),0),Xl=!1}catch{Xl=!0}return Xl}var Z0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(i){return i!=null&&!Z0.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ru}"`),null):i}function e1(i,e){let n,o,s,u,h;if(Q0(i)){let p=i.getAttribute("action");o=p?ni(p,e):null,n=i.getAttribute("method")||nu,s=Ch(i.getAttribute("enctype"))||ru,u=new FormData(i)}else if(K0(i)||G0(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(o=g?ni(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||nu,s=Ch(i.getAttribute("formenctype"))||Ch(p.getAttribute("enctype"))||ru,u=new FormData(p,i),!J0()){let{name:_,type:E,value:I}=i;if(E==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,I)}}else{if(Du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nu,o=null,s=ru,h=i}return u&&s==="text/plain"&&(h=u,u=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:u,body:h}}function ff(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function t1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function r1(i,e,n){let o=await Promise.all(i.map(async s=>{let u=e.routes[s.route.id];if(u){let h=await t1(u,n);return h.links?h.links():[]}return[]}));return a1(o.flat(1).filter(n1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pm(i,e,n,o,s,u){let h=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,p=(g,_)=>{var E;return n[_].pathname!==g.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,_)=>h(g,_)||p(g,_)):u==="data"?e.filter((g,_)=>{var I;let E=o.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,_)||p(g,_))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function i1(i,e){return o1(i.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function o1(i){return[...new Set(i)]}function s1(i){let e={},n=Object.keys(i).sort();for(let o of n)e[o]=i[o];return e}function a1(i,e){let n=new Set;return new Set(e),i.reduce((o,s)=>{let u=JSON.stringify(s1(s));return n.has(u)||(n.add(u),o.push({key:u,link:s})),o},[])}function l1(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function u1(){let i=$.useContext(ns);return ff(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function c1(){let i=$.useContext(ku);return ff(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var df=$.createContext(void 0);df.displayName="FrameworkContext";function Og(){let i=$.useContext(df);return ff(i,"You must render this element inside a <HydratedRouter> element"),i}function h1(i,e){let n=$.useContext(df),[o,s]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:_,onMouseLeave:E,onTouchStart:I}=e,R=$.useRef(null);$.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=j=>{j.forEach(q=>{h(q.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return R.current&&O.observe(R.current),()=>{O.disconnect()}}},[i]),$.useEffect(()=>{if(o){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[o]);let V=()=>{s(!0)},M=()=>{s(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:ia(p,V),onBlur:ia(g,M),onMouseEnter:ia(_,V),onMouseLeave:ia(E,M),onTouchStart:ia(I,V)}]:[!1,R,{}]}function ia(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function f1({page:i,...e}){let{router:n}=u1(),o=$.useMemo(()=>Ag(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?$.createElement(p1,{page:i,matches:o,...e}):null}function d1(i){let{manifest:e,routeModules:n}=Og(),[o,s]=$.useState([]);return $.useEffect(()=>{let u=!1;return r1(i,e,n).then(h=>{u||s(h)}),()=>{u=!0}},[i,e,n]),o}function p1({page:i,matches:e,...n}){let o=Hi(),{manifest:s,routeModules:u}=Og(),{loaderData:h,matches:p}=c1(),g=$.useMemo(()=>pm(i,e,p,s,o,"data"),[i,e,p,s,o]),_=$.useMemo(()=>pm(i,e,p,s,o,"assets"),[i,e,p,s,o]),E=$.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let V=new Set,M=!1;if(e.forEach(O=>{var q;let j=s.routes[O.route.id];!j||!j.hasLoader||(!g.some(K=>K.route.id===O.route.id)&&O.route.id in h&&((q=u[O.route.id])!=null&&q.shouldRevalidate)||j.hasClientLoader?M=!0:V.add(O.route.id))}),V.size===0)return[];let z=l1(i);return M&&V.size>0&&z.searchParams.set("_routes",e.filter(O=>V.has(O.route.id)).map(O=>O.route.id).join(",")),[z.pathname+z.search]},[h,o,s,g,e,i,u]),I=$.useMemo(()=>i1(_,s),[_,s]),R=d1(_);return $.createElement($.Fragment,null,E.map(V=>$.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),I.map(V=>$.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),R.map(({key:V,link:M})=>$.createElement("link",{key:V,...M})))}function m1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mg&&(window.__reactRouterVersion="7.1.1")}catch{}function g1({basename:i,children:e,window:n}){let o=$.useRef();o.current==null&&(o.current=i0({window:n,v5Compat:!0}));let s=o.current,[u,h]=$.useState({action:s.action,location:s.location}),p=$.useCallback(g=>{$.startTransition(()=>h(g))},[h]);return $.useLayoutEffect(()=>s.listen(p),[s,p]),$.createElement(q0,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:s})}var bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fg=$.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:u,replace:h,state:p,target:g,to:_,preventScrollReset:E,viewTransition:I,...R},V){let{basename:M}=$.useContext(Zn),z=typeof _=="string"&&bg.test(_),O,j=!1;if(typeof _=="string"&&z&&(O=_,Mg))try{let S=new URL(window.location.href),k=_.startsWith("//")?new URL(S.protocol+_):new URL(_),x=ni(k.pathname,M);k.origin===S.origin&&x!=null?_=x+k.search+k.hash:j=!0}catch{Xn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=x0(_,{relative:s}),[K,ee,le]=h1(o,R),he=E1(_,{replace:h,state:p,target:g,preventScrollReset:E,relative:s,viewTransition:I});function P(S){e&&e(S),S.defaultPrevented||he(S)}let T=$.createElement("a",{...R,...le,href:O||q,onClick:j||u?e:P,ref:m1(V,ee),target:g,"data-discover":!z&&n==="render"?"true":void 0});return K&&!z?$.createElement($.Fragment,null,T,$.createElement(f1,{page:q})):T});Fg.displayName="Link";var y1=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:u,to:h,viewTransition:p,children:g,..._},E){let I=Ca(h,{relative:_.relative}),R=Hi(),V=$.useContext(ku),{navigator:M,basename:z}=$.useContext(Zn),O=V!=null&&A1(I)&&p===!0,j=M.encodeLocation?M.encodeLocation(I).pathname:I.pathname,q=R.pathname,K=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(q=q.toLowerCase(),K=K?K.toLowerCase():null,j=j.toLowerCase()),K&&z&&(K=ni(K,z)||K);const ee=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let le=q===j||!s&&q.startsWith(j)&&q.charAt(ee)==="/",he=K!=null&&(K===j||!s&&K.startsWith(j)&&K.charAt(j.length)==="/"),P={isActive:le,isPending:he,isTransitioning:O},T=le?e:void 0,S;typeof o=="function"?S=o(P):S=[o,le?"active":null,he?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(P):u;return $.createElement(Fg,{..._,"aria-current":T,className:S,ref:E,style:k,to:h,viewTransition:p},typeof g=="function"?g(P):g)});y1.displayName="NavLink";var _1=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:u,method:h=nu,action:p,onSubmit:g,relative:_,preventScrollReset:E,viewTransition:I,...R},V)=>{let M=I1(),z=S1(p,{relative:_}),O=h.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&bg.test(p),q=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let ee=K.nativeEvent.submitter,le=(ee==null?void 0:ee.getAttribute("formmethod"))||h;M(ee||K.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:s,state:u,relative:_,preventScrollReset:E,viewTransition:I})};return $.createElement("form",{ref:V,method:O,action:z,onSubmit:o?g:q,...R,"data-discover":!j&&i==="render"?"true":void 0})});_1.displayName="Form";function v1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ug(i){let e=$.useContext(ns);return yt(e,v1(i)),e}function E1(i,{target:e,replace:n,state:o,preventScrollReset:s,relative:u,viewTransition:h}={}){let p=D0(),g=Hi(),_=Ca(i,{relative:u});return $.useCallback(E=>{if(Y0(E,e)){E.preventDefault();let I=n!==void 0?n:da(g)===da(_);p(i,{replace:I,state:o,preventScrollReset:s,relative:u,viewTransition:h})}},[g,p,_,n,o,e,i,s,u,h])}var w1=0,T1=()=>`__${String(++w1)}__`;function I1(){let{router:i}=Ug("useSubmit"),{basename:e}=$.useContext(Zn),n=B0();return $.useCallback(async(o,s={})=>{let{action:u,method:h,encType:p,formData:g,body:_}=e1(o,e);if(s.navigate===!1){let E=s.fetcherKey||T1();await i.fetch(E,n,s.action||u,{preventScrollReset:s.preventScrollReset,formData:g,body:_,formMethod:s.method||h,formEncType:s.encType||p,flushSync:s.flushSync})}else await i.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:g,body:_,formMethod:s.method||h,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,n])}function S1(i,{relative:e}={}){let{basename:n}=$.useContext(Zn),o=$.useContext(Sr);yt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),u={...Ca(i||".",{relative:e})},h=Hi();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(I=>I).forEach(I=>p.append("index",I));let E=p.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_r([n,u.pathname])),da(u)}function A1(i,e={}){let n=$.useContext(Dg);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ug("useViewTransitionState"),s=Ca(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ni(n.currentLocation.pathname,o)||n.currentLocation.pathname,h=ni(n.nextLocation.pathname,o)||n.nextLocation.pathname;return cu(s.pathname,h)!=null||cu(s.pathname,u)!=null}new TextEncoder;const mm=[{id:1,name:"React",url:"/logo_game/img/react.svg"},{id:2,name:"Angular",url:"/logo_game/img/Angular.png"},{id:3,name:"Docker",url:"/logo_game/img/docker.png"},{id:4,name:"Go",url:"/logo_game/img/Go.svg"},{id:5,name:"Kubernetes",url:"/logo_game/img/kubernetes.png"},{id:6,name:"Laravel",url:"/logo_game/img/laravel.avif"},{id:7,name:"Nginx",url:"/logo_game/img/nginx.png"},{id:8,name:"Node.js",url:"/logo_game/img/nodejs.svg"},{id:9,name:"Python",url:"/logo_game/img/python.png"},{id:10,name:"Ruby",url:"/logo_game/img/ruby.avif"},{id:11,name:"Rust",url:"/logo_game/img/rust.avif"},{id:12,name:"Sass",url:"/logo_game/img/Sass.svg"},{id:13,name:"TypeScript",url:"/logo_game/img/typescript.avif"},{id:14,name:"Vite",url:"/logo_game/img/vite.svg"},{id:15,name:"Vue",url:"/logo_game/img/Vue.js.svg"},{id:16,name:"Apache",url:"/logo_game/img/apache.svg"},{id:17,name:"HTML",url:"/logo_game/img/HTML5.png"},{id:18,name:"GitHub",url:"/logo_game/img/github-white.svg"},{id:19,name:"Git",url:"/logo_game/img/Git.svg"},{id:20,name:"GitLab",url:"/logo_game/img/gitlab.svg"},{id:21,name:"Kotlin",url:"/logo_game/img/Kotlin.png"},{id:22,name:"Swift",url:"/logo_game/img/Swift.svg"},{id:23,name:"C++",url:"/logo_game/img/C++.png"},{id:24,name:"Flutter",url:"/logo_game/img/flutter.svg"},{id:25,name:"Dart",url:"/logo_game/img/dart.svg"},{id:26,name:"FastAPI",url:"/logo_game/img/FastAPI.svg"},{id:27,name:"OpenMP",url:"/logo_game/img/OpenMP.png"},{id:28,name:"PostgreSQL",url:"/logo_game/img/Postgre.svg"},{id:29,name:"MATLAB",url:"/logo_game/img/Matlab.png"},{id:30,name:"Java",url:"/logo_game/img/java.svg"},{id:31,name:"Figma",url:"/logo_game/img/Figma.svg"},{id:32,name:"PHP",url:"/logo_game/img/php.svg"},{id:33,name:"Microsoft Azure",url:"/logo_game/img/Microsoft_Azure.svg"},{id:34,name:"Firebase",url:"/logo_game/img/Firebase.svg"},{id:35,name:"Slack",url:"/logo_game/img/slack.svg"},{id:36,name:"Discord",url:"/logo_game/img/discord.svg"},{id:37,name:"Scala",url:"/logo_game/img/Scala.svg"},{id:38,name:"Google Cloud",url:"/logo_game/img/google-cloud.svg"},{id:39,name:"Google Apps Script",url:"/logo_game/img/Google_Apps_Script.svg"},{id:40,name:"PhpMyAdmin",url:"/logo_game/img/PhpMyAdmin_logo.svg"},{id:41,name:"Unity",url:"/logo_game/img/unity.svg"},{id:42,name:"Amazon Web Services",url:"/logo_game/img/Amazon_Web_Services_Logo.svg"},{id:43,name:"Terraform",url:"/logo_game/img/Terraform_Logo.svg"},{id:44,name:"Postman",url:"/logo_game/img/postman.svg"},{id:45,name:"Composer",url:"/logo_game/img/composer.png"},{id:46,name:"npm",url:"/logo_game/img/Npm.svg"},{id:47,name:"Ruby on Rails",url:"/logo_game/img/Ruby_On_Rails.svg"},{id:48,name:"GNU Octave",url:"/logo_game/img/octave-logo.svg"},{id:49,name:"GNU",url:"/logo_game/img/Heckert_GNU_white.svg"},{id:50,name:"NVIDIA",url:"/logo_game/img/nvidia.svg"},{id:51,name:"AMD",url:"/logo_game/img/AMD_Logo.svg"},{id:52,name:"arm",url:"/logo_game/img/Arm.svg"},{id:53,name:"Tailwind CSS",url:"/logo_game/img/tailwindcss-mark.svg"},{id:54,name:"tailwind-merge",url:"/logo_game/img/tailwind-merge.svg"},{id:55,name:"nodemon",url:"/logo_game/img/nodemon.png"},{id:56,name:"OrbStack",url:"/logo_game/img/orbstack.png"},{id:57,name:"Json Web Token",url:"/logo_game/img/jwt.svg"},{id:58,name:"Prisma",url:"/logo_game/img/Prisma-LightSymbol.svg"},{id:59,name:"MongoDB",url:"/logo_game/img/MongoDB.svg"},{id:60,name:"Wireshark",url:"/logo_game/img/Wireshark.png"},{id:61,name:"Wfuzz",url:"/logo_game/img/wfuzz.svg"},{id:62,name:"Hydra",url:"/logo_game/img/hydra-logo.svg"},{id:63,name:"Gobuster",url:"/logo_game/img/gobuster-logo.svg"},{id:64,name:"Nmap",url:"/logo_game/img/nmap-logo.svg"},{id:65,name:"John the Ripper",url:"/logo_game/img/john-logo.svg"},{id:66,name:"WordPress",url:"/logo_game/img/WordPress-logotype-wmark-white.png"},{id:67,name:"webpack",url:"/logo_game/img/webpack.svg"},{id:68,name:"Deno",url:"/logo_game/img/deno.svg"},{id:69,name:"Bun",url:"/logo_game/img/bun.svg"},{id:70,name:"Vitest",url:"/logo_game/img/vitest.svg"},{id:71,name:"Jest",url:"/logo_game/img/jest.png"},{id:72,name:"Playwigtht",url:"/logo_game/img/playwright-logo.svg"}],C1=({message:i,onClose:e})=>{$.useEffect(()=>{const o=setTimeout(()=>{e()},3e3);return()=>clearTimeout(o)},[e]);const n=()=>i.includes("Correct!")?"popup correct":i.includes("Miss")?"popup miss":"popup";return ce.jsx("div",{className:n(),children:i})};function zg(i){var e,n,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(n=zg(i[e]))&&(o&&(o+=" "),o+=n)}else for(n in i)i[n]&&(o&&(o+=" "),o+=n);return o}function Ui(){for(var i,e,n=0,o="",s=arguments.length;n<s;n++)(i=arguments[n])&&(e=zg(i))&&(o&&(o+=" "),o+=e);return o}function R1(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}R1(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ra=i=>typeof i=="number"&&!isNaN(i),ji=i=>typeof i=="string",Er=i=>typeof i=="function",P1=i=>ji(i)||Ra(i),Mh=i=>ji(i)||Er(i)?i:null,k1=(i,e)=>i===!1||Ra(i)&&i>0?i:e,bh=i=>$.isValidElement(i)||ji(i)||Er(i)||Ra(i);function x1(i,e,n=300){let{scrollHeight:o,style:s}=i;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function jg({enter:i,exit:e,appendPosition:n=!1,collapse:o=!0,collapseDuration:s=300}){return function({children:u,position:h,preventExitTransition:p,done:g,nodeRef:_,isIn:E,playToast:I}){let R=n?`${i}--${h}`:i,V=n?`${e}--${h}`:e,M=$.useRef(0);return $.useLayoutEffect(()=>{let z=_.current,O=R.split(" "),j=q=>{q.target===_.current&&(I(),z.removeEventListener("animationend",j),z.removeEventListener("animationcancel",j),M.current===0&&q.type!=="animationcancel"&&z.classList.remove(...O))};z.classList.add(...O),z.addEventListener("animationend",j),z.addEventListener("animationcancel",j)},[]),$.useEffect(()=>{let z=_.current,O=()=>{z.removeEventListener("animationend",O),o?x1(z,g,s):g()};E||(p?O():(M.current=1,z.className+=` ${V}`,z.addEventListener("animationend",O)))},[E]),Fe.createElement(Fe.Fragment,null,u)}}function gm(i,e){return{content:Bg(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function Bg(i,e,n=!1){return $.isValidElement(i)&&!ji(i.type)?$.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Er(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):i}function D1({closeToast:i,theme:e,ariaLabel:n="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:o=>{o.stopPropagation(),i(!0)},"aria-label":n},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function N1({delay:i,isRunning:e,closeToast:n,type:o="default",hide:s,className:u,controlledProgress:h,progress:p,rtl:g,isIn:_,theme:E}){let I=s||h&&p===0,R={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};h&&(R.transform=`scaleX(${p})`);let V=Ui("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":g}),M=Er(u)?u({rtl:g,type:o,defaultClassName:V}):Ui(V,u),z={[h&&p>=1?"onTransitionEnd":"onAnimationEnd"]:h&&p<1?null:()=>{_&&n()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${o}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:M,style:R,...z}))}var V1=1,$g=()=>`${V1++}`;function L1(i,e,n){let o=1,s=0,u=[],h=[],p=e,g=new Map,_=new Set,E=q=>(_.add(q),()=>_.delete(q)),I=()=>{h=Array.from(g.values()),_.forEach(q=>q())},R=({containerId:q,toastId:K,updateId:ee})=>{let le=q?q!==i:i!==1,he=g.has(K)&&ee==null;return le||he},V=(q,K)=>{g.forEach(ee=>{var le;(K==null||K===ee.props.toastId)&&((le=ee.toggle)==null||le.call(ee,q))})},M=q=>{var K,ee;(ee=(K=q.props)==null?void 0:K.onClose)==null||ee.call(K,q.removalReason),q.isActive=!1},z=q=>{if(q==null)g.forEach(M);else{let K=g.get(q);K&&M(K)}I()},O=()=>{s-=u.length,u=[]},j=q=>{var K,ee;let{toastId:le,updateId:he}=q.props,P=he==null;q.staleId&&g.delete(q.staleId),q.isActive=!0,g.set(le,q),I(),n(gm(q,P?"added":"updated")),P&&((ee=(K=q.props).onOpen)==null||ee.call(K))};return{id:i,props:p,observe:E,toggle:V,removeToast:z,toasts:g,clearQueue:O,buildToast:(q,K)=>{if(R(K))return;let{toastId:ee,updateId:le,data:he,staleId:P,delay:T}=K,S=le==null;S&&s++;let k={...p,style:p.toastStyle,key:o++,...Object.fromEntries(Object.entries(K).filter(([L,C])=>C!=null)),toastId:ee,updateId:le,data:he,isIn:!1,className:Mh(K.className||p.toastClassName),progressClassName:Mh(K.progressClassName||p.progressClassName),autoClose:K.isLoading?!1:k1(K.autoClose,p.autoClose),closeToast(L){g.get(ee).removalReason=L,z(ee)},deleteToast(){let L=g.get(ee);if(L!=null){if(n(gm(L,"removed")),g.delete(ee),s--,s<0&&(s=0),u.length>0){j(u.shift());return}I()}}};k.closeButton=p.closeButton,K.closeButton===!1||bh(K.closeButton)?k.closeButton=K.closeButton:K.closeButton===!0&&(k.closeButton=bh(p.closeButton)?p.closeButton:!0);let x={content:q,props:k,staleId:P};p.limit&&p.limit>0&&s>p.limit&&S?u.push(x):Ra(T)?setTimeout(()=>{j(x)},T):j(x)},setProps(q){p=q},setToggle:(q,K)=>{let ee=g.get(q);ee&&(ee.toggle=K)},isToastActive:q=>{var K;return(K=g.get(q))==null?void 0:K.isActive},getSnapshot:()=>h}}var Ht=new Map,pa=[],Fh=new Set,O1=i=>Fh.forEach(e=>e(i)),Hg=()=>Ht.size>0;function M1(){pa.forEach(i=>qg(i.content,i.options)),pa=[]}var b1=(i,{containerId:e})=>{var n;return(n=Ht.get(e||1))==null?void 0:n.toasts.get(i)};function Wg(i,e){var n;if(e)return!!((n=Ht.get(e))!=null&&n.isToastActive(i));let o=!1;return Ht.forEach(s=>{s.isToastActive(i)&&(o=!0)}),o}function F1(i){if(!Hg()){pa=pa.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||P1(i))Ht.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=Ht.get(i.containerId);e?e.removeToast(i.id):Ht.forEach(n=>{n.removeToast(i.id)})}}var U1=(i={})=>{Ht.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function qg(i,e){bh(i)&&(Hg()||pa.push({content:i,options:e}),Ht.forEach(n=>{n.buildToast(i,e)}))}function z1(i){var e;(e=Ht.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function Kg(i,e){Ht.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(i,e==null?void 0:e.id)})}function j1(i){let e=i.containerId||1;return{subscribe(n){let o=L1(e,i,O1);Ht.set(e,o);let s=o.observe(n);return M1(),()=>{s(),Ht.delete(e)}},setProps(n){var o;(o=Ht.get(e))==null||o.setProps(n)},getSnapshot(){var n;return(n=Ht.get(e))==null?void 0:n.getSnapshot()}}}function B1(i){return Fh.add(i),()=>{Fh.delete(i)}}function $1(i){return i&&(ji(i.toastId)||Ra(i.toastId))?i.toastId:$g()}function Pa(i,e){return qg(i,e),e.toastId}function Nu(i,e){return{...e,type:e&&e.type||i,toastId:$1(e)}}function Vu(i){return(e,n)=>Pa(e,Nu(i,n))}function Be(i,e){return Pa(i,Nu("default",e))}Be.loading=(i,e)=>Pa(i,Nu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function H1(i,{pending:e,error:n,success:o},s){let u;e&&(u=ji(e)?Be.loading(e,s):Be.loading(e.render,{...s,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(_,E,I)=>{if(E==null){Be.dismiss(u);return}let R={type:_,...h,...s,data:I},V=ji(E)?{render:E}:E;return u?Be.update(u,{...R,...V}):Be(V.render,{...R,...V}),I},g=Er(i)?i():i;return g.then(_=>p("success",o,_)).catch(_=>p("error",n,_)),g}Be.promise=H1;Be.success=Vu("success");Be.info=Vu("info");Be.error=Vu("error");Be.warning=Vu("warning");Be.warn=Be.warning;Be.dark=(i,e)=>Pa(i,Nu("default",{theme:"dark",...e}));function W1(i){F1(i)}Be.dismiss=W1;Be.clearWaitingQueue=U1;Be.isActive=Wg;Be.update=(i,e={})=>{let n=b1(i,e);if(n){let{props:o,content:s}=n,u={delay:100,...o,...e,toastId:e.toastId||i,updateId:$g()};u.toastId!==i&&(u.staleId=i);let h=u.render||s;delete u.render,Pa(h,u)}};Be.done=i=>{Be.update(i,{progress:1})};Be.onChange=B1;Be.play=i=>Kg(!0,i);Be.pause=i=>Kg(!1,i);function q1(i){var e;let{subscribe:n,getSnapshot:o,setProps:s}=$.useRef(j1(i)).current;s(i);let u=(e=$.useSyncExternalStore(n,o,o))==null?void 0:e.slice();function h(p){if(!u)return[];let g=new Map;return i.newestOnTop&&u.reverse(),u.forEach(_=>{let{position:E}=_.props;g.has(E)||g.set(E,[]),g.get(E).push(_)}),Array.from(g,_=>p(_[0],_[1]))}return{getToastToRender:h,isToastActive:Wg,count:u==null?void 0:u.length}}function K1(i){let[e,n]=$.useState(!1),[o,s]=$.useState(!1),u=$.useRef(null),h=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:g,closeToast:_,onClick:E,closeOnClick:I}=i;z1({id:i.toastId,containerId:i.containerId,fn:n}),$.useEffect(()=>{if(i.pauseOnFocusLoss)return R(),()=>{V()}},[i.pauseOnFocusLoss]);function R(){document.hasFocus()||j(),window.addEventListener("focus",O),window.addEventListener("blur",j)}function V(){window.removeEventListener("focus",O),window.removeEventListener("blur",j)}function M(P){if(i.draggable===!0||i.draggable===P.pointerType){q();let T=u.current;h.canCloseOnClick=!0,h.canDrag=!0,T.style.transition="none",i.draggableDirection==="x"?(h.start=P.clientX,h.removalDistance=T.offsetWidth*(i.draggablePercent/100)):(h.start=P.clientY,h.removalDistance=T.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function z(P){let{top:T,bottom:S,left:k,right:x}=u.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&i.pauseOnHover&&P.clientX>=k&&P.clientX<=x&&P.clientY>=T&&P.clientY<=S?j():O()}function O(){n(!0)}function j(){n(!1)}function q(){h.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",le)}function K(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",le)}function ee(P){let T=u.current;if(h.canDrag&&T){h.didMove=!0,e&&j(),i.draggableDirection==="x"?h.delta=P.clientX-h.start:h.delta=P.clientY-h.start,h.start!==P.clientX&&(h.canCloseOnClick=!1);let S=i.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;T.style.transform=`translate3d(${S},0)`,T.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function le(){K();let P=u.current;if(h.canDrag&&h.didMove&&P){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){s(!0),i.closeToast(!0),i.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let he={onPointerDown:M,onPointerUp:z};return p&&g&&(he.onMouseEnter=j,i.stacked||(he.onMouseLeave=O)),I&&(he.onClick=P=>{E&&E(P),h.canCloseOnClick&&_(!0)}),{playToast:O,pauseToast:j,isRunning:e,preventExitTransition:o,toastRef:u,eventHandlers:he}}var Q1=typeof window<"u"?$.useLayoutEffect:$.useEffect,Lu=({theme:i,type:e,isLoading:n,...o})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...o});function G1(i){return Fe.createElement(Lu,{...i},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function X1(i){return Fe.createElement(Lu,{...i},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Y1(i){return Fe.createElement(Lu,{...i},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function J1(i){return Fe.createElement(Lu,{...i},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Z1(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Uh={info:X1,warning:G1,success:Y1,error:J1,spinner:Z1},eE=i=>i in Uh;function tE({theme:i,type:e,isLoading:n,icon:o}){let s=null,u={theme:i,type:e};return o===!1||(Er(o)?s=o({...u,isLoading:n}):$.isValidElement(o)?s=$.cloneElement(o,u):n?s=Uh.spinner():eE(e)&&(s=Uh[e](u))),s}var nE=i=>{let{isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:s,playToast:u}=K1(i),{closeButton:h,children:p,autoClose:g,onClick:_,type:E,hideProgressBar:I,closeToast:R,transition:V,position:M,className:z,style:O,progressClassName:j,updateId:q,role:K,progress:ee,rtl:le,toastId:he,deleteToast:P,isIn:T,isLoading:S,closeOnClick:k,theme:x,ariaLabel:L}=i,C=Ui("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":le},{"Toastify__toast--close-on-click":k}),je=Er(z)?z({rtl:le,position:M,type:E,defaultClassName:C}):Ui(C,z),We=tE(i),Ie=!!ee||!g,Pe={closeToast:R,type:E,theme:x},ne=null;return h===!1||(Er(h)?ne=h(Pe):$.isValidElement(h)?ne=$.cloneElement(h,Pe):ne=D1(Pe)),Fe.createElement(V,{isIn:T,done:P,position:M,preventExitTransition:n,nodeRef:o,playToast:u},Fe.createElement("div",{id:he,tabIndex:0,onClick:_,"data-in":T,className:je,...s,style:O,ref:o,...T&&{role:K,"aria-label":L}},We!=null&&Fe.createElement("div",{className:Ui("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},We),Bg(p,i,!e),ne,!i.customProgressBar&&Fe.createElement(N1,{...q&&!Ie?{key:`p-${q}`}:{},rtl:le,theme:x,delay:g,isRunning:e,isIn:T,closeToast:R,hide:I,type:E,className:j,controlledProgress:Ie,progress:ee||0})))},Qg=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),rE=jg(Qg("bounce",!0)),iE=jg(Qg("slide",!0)),oE={position:"top-right",transition:rE,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function Gg(i){let e={...oE,...i},n=i.stacked,[o,s]=$.useState(!0),u=$.useRef(null),{getToastToRender:h,isToastActive:p,count:g}=q1(e),{className:_,style:E,rtl:I,containerId:R,hotKeys:V}=e;function M(O){let j=Ui("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":I});return Er(_)?_({position:O,rtl:I,defaultClassName:j}):Ui(j,Mh(_))}function z(){n&&(s(!0),Be.play())}return Q1(()=>{var O;if(n){let j=u.current.querySelectorAll('[data-in="true"]'),q=12,K=(O=e.position)==null?void 0:O.includes("top"),ee=0,le=0;Array.from(j).reverse().forEach((he,P)=>{let T=he;T.classList.add("Toastify__toast--stacked"),P>0&&(T.dataset.collapsed=`${o}`),T.dataset.pos||(T.dataset.pos=K?"top":"bot");let S=ee*(o?.2:1)+(o?0:q*P);T.style.setProperty("--y",`${K?S:S*-1}px`),T.style.setProperty("--g",`${q}`),T.style.setProperty("--s",`${1-(o?le:0)}`),ee+=T.offsetHeight,le+=.025})}},[o,g,n]),$.useEffect(()=>{function O(j){var q;let K=u.current;V(j)&&((q=K.querySelector('[tabIndex="0"]'))==null||q.focus(),s(!1),Be.pause()),j.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(s(!0),Be.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[V]),Fe.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(s(!1),Be.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((O,j)=>{let q=j.length?{...E}:{...E,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:M(O),"data-stacked":n,style:q,key:`c-${O}`},j.map(({content:K,props:ee})=>Fe.createElement(nE,{...ee,stacked:n,collapseAll:z,isIn:p(ee.toastId,ee.containerId),key:`t-${ee.key}`},K)))}))}const sE=["","","","","",""],aE=({onCorrectUpdate:i,questionNum:e,onQuestionUpdate:n,correctNum:o,onTimeUpdate:s,onFinish:u,onSteakUpdate:h,onPenaltyUpdate:p})=>{const[g,_]=$.useState([]),[E,I]=$.useState(0),[R,V]=$.useState(""),[M,z]=$.useState(30),[O,j]=$.useState(null),[q,K]=$.useState(!1),ee=()=>{K(!1)},le=x=>{const L=x.length,C=[...x],je=Math.floor(Math.random()*100)+Math.floor(Math.random()*100);for(let We=0;We<je;We++){const Ie=Math.floor(Math.random()*L),Pe=Math.floor(Math.random()*L);[C[Ie],C[Pe]]=[C[Pe],C[Ie]]}return C};function he(){return le([...mm])}const[P,T]=$.useState(he),S=x=>{const L=P[x];j(L);const C=P.filter((We,Ie)=>Ie!==x),je=le([...C]).slice(0,3);_(le(je.concat(L))),console.log(g)};$.useEffect(()=>{const x=P[e];j(x);const L=P.filter((je,We)=>We!==e),C=le([...L]).slice(0,3);_(le(C.concat(x)))},[]),$.useEffect(()=>{E+1===mm.length?(T(he),console.log("reshuffle!!!!!"),I(0)):I(E+1)},[e]),$.useEffect(()=>{const x=setInterval(()=>{z(L=>L<=1?(clearInterval(x),0):L-1)},1e3);return()=>clearInterval(x)},[]),$.useEffect(()=>{s(M)},[M,s]);const k=x=>{M!==0&&(O&&O.id===x?(V("Correct!"),i(o+1),h(!0),p(!1),o>0&&o%10===0&&Be(`${sE[o/10-1]??""} ${o} Correct Answers Achieved!`,{closeOnClick:!0,theme:"light",transition:iE})):(V("Miss"),h(!1),p(!0)),K(!0),setTimeout(()=>{K(!1)},800),S(E),n(e+1))};return $.useEffect(()=>{M===0&&u(!0)},[M,u]),ce.jsxs(ce.Fragment,{children:[q&&ce.jsx(C1,{message:R,onClose:ee}),ce.jsx(Gg,{theme:"dark"}),ce.jsx("div",{className:"display",children:ce.jsx("div",{className:"imgArea",children:O&&ce.jsx("img",{src:O.url,alt:"logo"})})}),ce.jsx("div",{className:"optionBtnArea",children:ce.jsxs("h2",{children:["Question. ",e]})}),ce.jsx("div",{className:"ansBtnArea",children:g.map(x=>ce.jsx("button",{type:"button",className:"answerBtn",onClick:()=>k(x.id),children:x.name},x.id))})]})};var Xg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ym=Fe.createContext&&Fe.createContext(Xg),lE=["attr","size","title"];function uE(i,e){if(i==null)return{};var n=cE(i,e),o,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(s=0;s<u.length;s++)o=u[s],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(n[o]=i[o])}return n}function cE(i,e){if(i==null)return{};var n={};for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){if(e.indexOf(o)>=0)continue;n[o]=i[o]}return n}function hu(){return hu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},hu.apply(this,arguments)}function _m(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,o)}return n}function fu(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_m(Object(n),!0).forEach(function(o){hE(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}function hE(i,e,n){return e=fE(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function fE(i){var e=dE(i,"string");return typeof e=="symbol"?e:e+""}function dE(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var o=n.call(i,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Yg(i){return i&&i.map((e,n)=>Fe.createElement(e.tag,fu({key:n},e.attr),Yg(e.child)))}function pf(i){return e=>Fe.createElement(pE,hu({attr:fu({},i.attr)},e),Yg(i.child))}function pE(i){var e=n=>{var{attr:o,size:s,title:u}=i,h=uE(i,lE),p=s||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),Fe.createElement("svg",hu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,h,{className:g,style:fu(fu({color:i.color||n.color},n.style),i.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Fe.createElement("title",null,u),i.children)};return ym!==void 0?Fe.createElement(ym.Consumer,null,n=>e(n)):e(Xg)}function mE(i){return pf({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0 0 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9a8.994 8.994 0 0 0 7.03-14.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"},child:[]}]})(i)}function gE(i){return pf({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"},child:[]}]})(i)}const yE=()=>{};var vm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let s=i.charCodeAt(o);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++o)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_E=function(i){const e=[];let n=0,o=0;for(;n<i.length;){const s=i[n++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const u=i[n++];e[o++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=i[n++],h=i[n++],p=i[n++],g=((s&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[o++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<i.length;s+=3){const u=i[s],h=s+1<i.length,p=h?i[s+1]:0,g=s+2<i.length,_=g?i[s+2]:0,E=u>>2,I=(u&3)<<4|p>>4;let R=(p&15)<<2|_>>6,V=_&63;g||(V=64,h||(R=64)),o.push(n[E],n[I],n[R],n[V])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Jg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_E(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<i.length;){const u=n[i.charAt(s++)],p=s<i.length?n[i.charAt(s)]:0;++s;const _=s<i.length?n[i.charAt(s)]:64;++s;const I=s<i.length?n[i.charAt(s)]:64;if(++s,u==null||p==null||_==null||I==null)throw new vE;const R=u<<2|p>>4;if(o.push(R),_!==64){const V=p<<4&240|_>>2;if(o.push(V),I!==64){const M=_<<6&192|I;o.push(M)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EE=function(i){const e=Jg(i);return Zg.encodeByteArray(e,!0)},du=function(i){return EE(i).replace(/\./g,"")},wE=function(i){try{return Zg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=()=>TE().__FIREBASE_DEFAULTS__,SE=()=>{if(typeof process>"u"||typeof vm>"u")return;const i=vm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&wE(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return yE()||IE()||SE()||AE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},CE=i=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},RE=i=>{const e=CE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},ey=()=>{var i;return(i=mf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",s=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[du(JSON.stringify(n)),du(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DE(){var i;const e=(i=mf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NE(){return!DE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((i,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var u;e(((u=s.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="FirebaseError";class rs extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=OE,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ty.prototype.create)}}class ty{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},s=`${this.service}/${e}`,u=this.errors[e],h=u?ME(u,o):"Error",p=`${this.serviceName}: ${h} (${s}).`;return new rs(s,p,o)}}function ME(i,e){return i.replace(bE,(n,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const bE=/\{\$([^}]+)}/g;function pu(i,e){if(i===e)return!0;const n=Object.keys(i),o=Object.keys(e);for(const s of n){if(!o.includes(s))return!1;const u=i[s],h=e[s];if(Em(u)&&Em(h)){if(!pu(u,h))return!1}else if(u!==h)return!1}for(const s of o)if(!n.includes(s))return!1;return!0}function Em(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(i){return i&&i._delegate?i._delegate:i}class ma{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new PE;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zE(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);o===p&&h.resolve(s)}return s}onInit(e,n){var o;const s=this.normalizeInstanceIdentifier(n),u=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const s of o)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:UE(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UE(i){return i===bi?void 0:i}function zE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const BE={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},$E=Oe.INFO,HE={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},WE=(i,e,...n)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),s=HE[e];if(s)console[s](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=$E,this._logHandler=WE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const qE=(i,e)=>e.some(n=>i instanceof n);let wm,Tm;function KE(){return wm||(wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QE(){return Tm||(Tm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,zh=new WeakMap,iy=new WeakMap,Rh=new WeakMap,gf=new WeakMap;function GE(i){const e=new Promise((n,o)=>{const s=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Yr(i.result)),s()},h=()=>{o(i.error),s()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ry.set(n,i)}).catch(()=>{}),gf.set(e,i),e}function XE(i){if(zh.has(i))return;const e=new Promise((n,o)=>{const s=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),s()},h=()=>{o(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});zh.set(i,e)}let jh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return zh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iy.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function YE(i){jh=i(jh)}function JE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=i.call(Ph(this),e,...n);return iy.set(o,e.sort?e.sort():[e]),Yr(o)}:QE().includes(i)?function(...e){return i.apply(Ph(this),e),Yr(ry.get(this))}:function(...e){return Yr(i.apply(Ph(this),e))}}function ZE(i){return typeof i=="function"?JE(i):(i instanceof IDBTransaction&&XE(i),qE(i,KE())?new Proxy(i,jh):i)}function Yr(i){if(i instanceof IDBRequest)return GE(i);if(Rh.has(i))return Rh.get(i);const e=ZE(i);return e!==i&&(Rh.set(i,e),gf.set(e,i)),e}const Ph=i=>gf.get(i);function ew(i,e,{blocked:n,upgrade:o,blocking:s,terminated:u}={}){const h=indexedDB.open(i,e),p=Yr(h);return o&&h.addEventListener("upgradeneeded",g=>{o(Yr(h.result),g.oldVersion,g.newVersion,Yr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),s&&g.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],kh=new Map;function Im(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(kh.get(e))return kh.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,s=nw.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(s||tw.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,s?"readwrite":"readonly");let _=g.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),s&&g.done]))[0]};return kh.set(e,u),u}YE(i=>({...i,get:(e,n,o)=>Im(e,n)||i.get(e,n,o),has:(e,n)=>!!Im(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iw(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function iw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bh="@firebase/app",Sm="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new ny("@firebase/app"),ow="@firebase/app-compat",sw="@firebase/analytics-compat",aw="@firebase/analytics",lw="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",hw="@firebase/auth-compat",fw="@firebase/database",dw="@firebase/data-connect",pw="@firebase/database-compat",mw="@firebase/functions",gw="@firebase/functions-compat",yw="@firebase/installations",_w="@firebase/installations-compat",vw="@firebase/messaging",Ew="@firebase/messaging-compat",ww="@firebase/performance",Tw="@firebase/performance-compat",Iw="@firebase/remote-config",Sw="@firebase/remote-config-compat",Aw="@firebase/storage",Cw="@firebase/storage-compat",Rw="@firebase/firestore",Pw="@firebase/vertexai",kw="@firebase/firestore-compat",xw="firebase",Dw="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="[DEFAULT]",Nw={[Bh]:"fire-core",[ow]:"fire-core-compat",[aw]:"fire-analytics",[sw]:"fire-analytics-compat",[uw]:"fire-app-check",[lw]:"fire-app-check-compat",[cw]:"fire-auth",[hw]:"fire-auth-compat",[fw]:"fire-rtdb",[dw]:"fire-data-connect",[pw]:"fire-rtdb-compat",[mw]:"fire-fn",[gw]:"fire-fn-compat",[yw]:"fire-iid",[_w]:"fire-iid-compat",[vw]:"fire-fcm",[Ew]:"fire-fcm-compat",[ww]:"fire-perf",[Tw]:"fire-perf-compat",[Iw]:"fire-rc",[Sw]:"fire-rc-compat",[Aw]:"fire-gcs",[Cw]:"fire-gcs-compat",[Rw]:"fire-fst",[kw]:"fire-fst-compat",[Pw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,Vw=new Map,Hh=new Map;function Am(i,e){try{i.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function gu(i){const e=i.name;if(Hh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Hh.set(e,i);for(const n of mu.values())Am(n,i);for(const n of Vw.values())Am(n,i);return!0}function Lw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ow(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new ty("app","Firebase",Mw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=Dw;function oy(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:$h,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw Jr.create("bad-app-name",{appName:String(s)});if(n||(n=ey()),!n)throw Jr.create("no-options");const u=mu.get(s);if(u){if(pu(n,u.options)&&pu(o,u.config))return u;throw Jr.create("duplicate-app",{appName:s})}const h=new jE(s);for(const g of Hh.values())h.addComponent(g);const p=new bw(n,o,h);return mu.set(s,p),p}function Uw(i=$h){const e=mu.get(i);if(!e&&i===$h&&ey())return oy();if(!e)throw Jr.create("no-app",{appName:i});return e}function qo(i,e,n){var o;let s=(o=Nw[i])!==null&&o!==void 0?o:i;n&&(s+=`-${n}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${s}" with version "${e}":`];u&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(p.join(" "));return}gu(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firebase-heartbeat-database",jw=1,ga="firebase-heartbeat-store";let xh=null;function sy(){return xh||(xh=ew(zw,jw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jr.create("idb-open",{originalErrorMessage:i.message})})),xh}async function Bw(i){try{const n=(await sy()).transaction(ga),o=await n.objectStore(ga).get(ay(i));return await n.done,o}catch(e){if(e instanceof rs)wr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function Cm(i,e){try{const o=(await sy()).transaction(ga,"readwrite");await o.objectStore(ga).put(e,ay(i)),await o.done}catch(n){if(n instanceof rs)wr.warn(n.message);else{const o=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(o.message)}}}function ay(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=1024,Hw=30;class Ww{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kw(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:s}),this._heartbeatsCache.heartbeats.length>Hw){const h=Qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){wr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rm(),{heartbeatsToSend:o,unsentEntries:s}=qw(this._heartbeatsCache.heartbeats),u=du(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return wr.warn(n),""}}}function Rm(){return new Date().toISOString().substring(0,10)}function qw(i,e=$w){const n=[];let o=i.slice();for(const s of i){const u=n.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),Pm(n)>e){u.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pm(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class Kw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pm(i){return du(JSON.stringify({version:2,heartbeats:i})).length}function Qw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let o=1;o<i.length;o++)i[o].date<n&&(n=i[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i){gu(new ma("platform-logger",e=>new rw(e),"PRIVATE")),gu(new ma("heartbeat",e=>new Ww(e),"PRIVATE")),qo(Bh,Sm,i),qo(Bh,Sm,"esm2017"),qo("fire-js","")}Gw("");var Xw="firebase",Yw="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qo(Xw,Yw,"app");var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,ly;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function S(){}S.prototype=T.prototype,P.D=T.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(k,x,L){for(var C=Array(arguments.length-2),je=2;je<arguments.length;je++)C[je-2]=arguments[je];return T.prototype[x].apply(k,C)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,S){S||(S=0);var k=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)k[x]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(x=0;16>x;++x)k[x]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=P.g[0],S=P.g[1],x=P.g[2];var L=P.g[3],C=T+(L^S&(x^L))+k[0]+3614090360&4294967295;T=S+(C<<7&4294967295|C>>>25),C=L+(x^T&(S^x))+k[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=x+(S^L&(T^S))+k[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=S+(T^x&(L^T))+k[3]+3250441966&4294967295,S=x+(C<<22&4294967295|C>>>10),C=T+(L^S&(x^L))+k[4]+4118548399&4294967295,T=S+(C<<7&4294967295|C>>>25),C=L+(x^T&(S^x))+k[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=x+(S^L&(T^S))+k[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=S+(T^x&(L^T))+k[7]+4249261313&4294967295,S=x+(C<<22&4294967295|C>>>10),C=T+(L^S&(x^L))+k[8]+1770035416&4294967295,T=S+(C<<7&4294967295|C>>>25),C=L+(x^T&(S^x))+k[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=x+(S^L&(T^S))+k[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=S+(T^x&(L^T))+k[11]+2304563134&4294967295,S=x+(C<<22&4294967295|C>>>10),C=T+(L^S&(x^L))+k[12]+1804603682&4294967295,T=S+(C<<7&4294967295|C>>>25),C=L+(x^T&(S^x))+k[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=x+(S^L&(T^S))+k[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=S+(T^x&(L^T))+k[15]+1236535329&4294967295,S=x+(C<<22&4294967295|C>>>10),C=T+(x^L&(S^x))+k[1]+4129170786&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^x&(T^S))+k[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=x+(T^S&(L^T))+k[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(x^L))+k[0]+3921069994&4294967295,S=x+(C<<20&4294967295|C>>>12),C=T+(x^L&(S^x))+k[5]+3593408605&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^x&(T^S))+k[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=x+(T^S&(L^T))+k[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(x^L))+k[4]+3889429448&4294967295,S=x+(C<<20&4294967295|C>>>12),C=T+(x^L&(S^x))+k[9]+568446438&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^x&(T^S))+k[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=x+(T^S&(L^T))+k[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(x^L))+k[8]+1163531501&4294967295,S=x+(C<<20&4294967295|C>>>12),C=T+(x^L&(S^x))+k[13]+2850285829&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^x&(T^S))+k[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=x+(T^S&(L^T))+k[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(x^L))+k[12]+2368359562&4294967295,S=x+(C<<20&4294967295|C>>>12),C=T+(S^x^L)+k[5]+4294588738&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^x)+k[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=x+(L^T^S)+k[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=S+(x^L^T)+k[14]+4259657740&4294967295,S=x+(C<<23&4294967295|C>>>9),C=T+(S^x^L)+k[1]+2763975236&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^x)+k[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=x+(L^T^S)+k[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=S+(x^L^T)+k[10]+3200236656&4294967295,S=x+(C<<23&4294967295|C>>>9),C=T+(S^x^L)+k[13]+681279174&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^x)+k[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=x+(L^T^S)+k[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=S+(x^L^T)+k[6]+76029189&4294967295,S=x+(C<<23&4294967295|C>>>9),C=T+(S^x^L)+k[9]+3654602809&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^x)+k[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=x+(L^T^S)+k[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=S+(x^L^T)+k[2]+3299628645&4294967295,S=x+(C<<23&4294967295|C>>>9),C=T+(x^(S|~L))+k[0]+4096336452&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~x))+k[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=x+(T^(L|~S))+k[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=S+(L^(x|~T))+k[5]+4237533241&4294967295,S=x+(C<<21&4294967295|C>>>11),C=T+(x^(S|~L))+k[12]+1700485571&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~x))+k[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=x+(T^(L|~S))+k[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=S+(L^(x|~T))+k[1]+2240044497&4294967295,S=x+(C<<21&4294967295|C>>>11),C=T+(x^(S|~L))+k[8]+1873313359&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~x))+k[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=x+(T^(L|~S))+k[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=S+(L^(x|~T))+k[13]+1309151649&4294967295,S=x+(C<<21&4294967295|C>>>11),C=T+(x^(S|~L))+k[4]+4149444226&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~x))+k[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=x+(T^(L|~S))+k[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=S+(L^(x|~T))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+L&4294967295}o.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var S=T-this.blockSize,k=this.B,x=this.h,L=0;L<T;){if(x==0)for(;L<=S;)s(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<T;)if(k[x++]=P.charCodeAt(L++),x==this.blockSize){s(this,k),x=0;break}}else for(;L<T;)if(k[x++]=P[L++],x==this.blockSize){s(this,k),x=0;break}}this.h=x,this.o+=T},o.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var S=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=S&255,S/=256;for(this.u(P),P=Array(16),T=S=0;4>T;++T)for(var k=0;32>k;k+=8)P[S++]=this.g[T]>>>k&255;return P};function u(P,T){var S=p;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=T(P)}function h(P,T){this.h=T;for(var S=[],k=!0,x=P.length-1;0<=x;x--){var L=P[x]|0;k&&L==T||(S[x]=L,k=!1)}this.g=S}var p={};function g(P){return-128<=P&&128>P?u(P,function(T){return new h([T|0],0>T?-1:0)}):new h([P|0],0>P?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return I;if(0>P)return O(_(-P));for(var T=[],S=1,k=0;P>=S;k++)T[k]=P/S|0,S*=4294967296;return new h(T,0)}function E(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return O(E(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(T,8)),k=I,x=0;x<P.length;x+=8){var L=Math.min(8,P.length-x),C=parseInt(P.substring(x,x+L),T);8>L?(L=_(Math.pow(T,L)),k=k.j(L).add(_(C))):(k=k.j(S),k=k.add(_(C)))}return k}var I=g(0),R=g(1),V=g(16777216);i=h.prototype,i.m=function(){if(z(this))return-O(this).m();for(var P=0,T=1,S=0;S<this.g.length;S++){var k=this.i(S);P+=(0<=k?k:4294967296+k)*T,T*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(z(this))return"-"+O(this).toString(P);for(var T=_(Math.pow(P,6)),S=this,k="";;){var x=ee(S,T).g;S=j(S,x.j(T));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=x,M(S))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function z(P){return P.h==-1}i.l=function(P){return P=j(this,P),z(P)?-1:M(P)?0:1};function O(P){for(var T=P.g.length,S=[],k=0;k<T;k++)S[k]=~P.g[k];return new h(S,~P.h).add(R)}i.abs=function(){return z(this)?O(this):this},i.add=function(P){for(var T=Math.max(this.g.length,P.g.length),S=[],k=0,x=0;x<=T;x++){var L=k+(this.i(x)&65535)+(P.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);k=C>>>16,L&=65535,C&=65535,S[x]=C<<16|L}return new h(S,S[S.length-1]&-2147483648?-1:0)};function j(P,T){return P.add(O(T))}i.j=function(P){if(M(this)||M(P))return I;if(z(this))return z(P)?O(this).j(O(P)):O(O(this).j(P));if(z(P))return O(this.j(O(P)));if(0>this.l(V)&&0>P.l(V))return _(this.m()*P.m());for(var T=this.g.length+P.g.length,S=[],k=0;k<2*T;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var x=0;x<P.g.length;x++){var L=this.i(k)>>>16,C=this.i(k)&65535,je=P.i(x)>>>16,We=P.i(x)&65535;S[2*k+2*x]+=C*We,q(S,2*k+2*x),S[2*k+2*x+1]+=L*We,q(S,2*k+2*x+1),S[2*k+2*x+1]+=C*je,q(S,2*k+2*x+1),S[2*k+2*x+2]+=L*je,q(S,2*k+2*x+2)}for(k=0;k<T;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=T;k<2*T;k++)S[k]=0;return new h(S,0)};function q(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function K(P,T){this.g=P,this.h=T}function ee(P,T){if(M(T))throw Error("division by zero");if(M(P))return new K(I,I);if(z(P))return T=ee(O(P),T),new K(O(T.g),O(T.h));if(z(T))return T=ee(P,O(T)),new K(O(T.g),T.h);if(30<P.g.length){if(z(P)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var S=R,k=T;0>=k.l(P);)S=le(S),k=le(k);var x=he(S,1),L=he(k,1);for(k=he(k,2),S=he(S,2);!M(k);){var C=L.add(k);0>=C.l(P)&&(x=x.add(S),L=C),k=he(k,1),S=he(S,1)}return T=j(P,x.j(T)),new K(x,T)}for(x=I;0<=P.l(T);){for(S=Math.max(1,Math.floor(P.m()/T.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=_(S),C=L.j(T);z(C)||0<C.l(P);)S-=k,L=_(S),C=L.j(T);M(L)&&(L=R),x=x.add(L),P=j(P,C)}return new K(x,P)}i.A=function(P){return ee(this,P).h},i.and=function(P){for(var T=Math.max(this.g.length,P.g.length),S=[],k=0;k<T;k++)S[k]=this.i(k)&P.i(k);return new h(S,this.h&P.h)},i.or=function(P){for(var T=Math.max(this.g.length,P.g.length),S=[],k=0;k<T;k++)S[k]=this.i(k)|P.i(k);return new h(S,this.h|P.h)},i.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),S=[],k=0;k<T;k++)S[k]=this.i(k)^P.i(k);return new h(S,this.h^P.h)};function le(P){for(var T=P.g.length+1,S=[],k=0;k<T;k++)S[k]=P.i(k)<<1|P.i(k-1)>>>31;return new h(S,P.h)}function he(P,T){var S=T>>5;T%=32;for(var k=P.g.length-S,x=[],L=0;L<k;L++)x[L]=0<T?P.i(L+S)>>>T|P.i(L+S+1)<<32-T:P.i(L+S);return new h(x,P.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,ly=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,Zr=h}).apply(typeof km<"u"?km:typeof self<"u"?self:typeof window<"u"?window:{});var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uy,oa,cy,iu,Wh,hy,fy,dy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yl=="object"&&Yl];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var o=n(this);function s(l,d){if(d)e:{var y=o;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in y))break e;y=y[F]}l=l[l.length-1],w=y[l],d=d(w),d!=w&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function u(l,d){l instanceof String&&(l+="");var y=0,w=!1,F={next:function(){if(!w&&y<l.length){var W=y++;return{value:d(W,l[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(l){return l||function(){return u(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,y){return l.call.apply(l.bind,arguments)}function I(l,d,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function R(l,d,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,R.apply(null,arguments)}function V(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function M(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,F,W){for(var re=Array(arguments.length-2),He=2;He<arguments.length;He++)re[He-2]=arguments[He];return d.prototype[F].apply(w,re)}}function z(l){const d=l.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=l[w];return y}return[]}function O(l,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const F=l.length||0,W=w.length||0;l.length=F+W;for(let re=0;re<W;re++)l[F+re]=w[re]}else l.push(w)}}class j{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(l){return/^[\s\xa0]*$/.test(l)}function K(){var l=p.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var le=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(l,d,y){for(const w in l)d.call(y,l[w],w,l)}function P(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)l[y]=w[y];for(let W=0;W<S.length;W++)y=S[W],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function x(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function L(l){p.setTimeout(()=>{throw l},0)}function C(){var l=ge;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class je{constructor(){this.h=this.g=null}add(d,y){const w=We.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var We=new j(()=>new Ie,l=>l.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,ne=!1,ge=new je,oe=()=>{const l=p.Promise.resolve(void 0);Pe=()=>{l.then(b)}};var b=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){L(y)}var d=We;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ne=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};p.addEventListener("test",y,d),p.removeEventListener("test",y,d)}catch{}return l}();function Ce(l,d){if(pe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(le){e:{try{ee(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ne[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}M(Ce,pe);var Ne={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ke(l,d,y,w,F){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=F,this.key=++ze,this.da=this.fa=!1}function Et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,d,y,w,F){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var re=Ar(l,d,w,F);return-1<re?(d=l[re],y||(d.fa=!1)):(d=new Ke(d,this.src,W,!!w,F),d.fa=y,l.push(d)),d};function Gi(l,d){var y=d.type;if(y in l.g){var w=l.g[y],F=Array.prototype.indexOf.call(w,d,void 0),W;(W=0<=F)&&Array.prototype.splice.call(w,F,1),W&&(Et(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ar(l,d,y,w){for(var F=0;F<l.length;++F){var W=l[F];if(!W.da&&W.listener==d&&W.capture==!!y&&W.ha==w)return F}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),Xi={};function ls(l,d,y,w,F){if(Array.isArray(d)){for(var W=0;W<d.length;W++)ls(l,d[W],y,w,F);return null}return y=hs(y),l&&l[Ue]?l.K(d,y,_(w)?!!w.capture:!!w,F):us(l,d,y,!1,w,F)}function us(l,d,y,w,F,W){if(!d)throw Error("Invalid event type");var re=_(F)?!!F.capture:!!F,He=Ji(l);if(He||(l[ui]=He=new er(l)),y=He.add(d,y,w,re,W),y.proxy)return y;if(w=La(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ae||(F=re),F===void 0&&(F=!1),l.addEventListener(d.toString(),w,F);else if(l.attachEvent)l.attachEvent(nr(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function La(){function l(y){return d.call(l.src,l.listener,y)}const d=cs;return l}function Yi(l,d,y,w,F){if(Array.isArray(d))for(var W=0;W<d.length;W++)Yi(l,d[W],y,w,F);else w=_(w)?!!w.capture:!!w,y=hs(y),l&&l[Ue]?(l=l.i,d=String(d).toString(),d in l.g&&(W=l.g[d],y=Ar(W,y,w,F),-1<y&&(Et(W[y]),Array.prototype.splice.call(W,y,1),W.length==0&&(delete l.g[d],l.h--)))):l&&(l=Ji(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Ar(d,y,w,F)),(y=-1<l?d[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ue])Gi(d.i,l);else{var y=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(y,w,l.capture):d.detachEvent?d.detachEvent(nr(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=Ji(d))?(Gi(y,l),y.h==0&&(y.src=null,d[ui]=null)):Et(l)}}}function nr(l){return l in Xi?Xi[l]:Xi[l]="on"+l}function cs(l,d){if(l.da)l=!0;else{d=new Ce(d,this);var y=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=y.call(w,d)}return l}function Ji(l){return l=l[ui],l instanceof er?l:null}var Zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function hs(l){return typeof l=="function"?l:(l[Zi]||(l[Zi]=function(d){return l.handleEvent(d)}),l[Zi])}function ht(){G.call(this),this.i=new er(this),this.M=this,this.F=null}M(ht,G),ht.prototype[Ue]=!0,ht.prototype.removeEventListener=function(l,d,y,w){Yi(this,l,d,y,w)};function ft(l,d){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new pe(d,l);else if(d instanceof pe)d.target=d.target||l;else{var F=d;d=new pe(w,l),k(d,F)}if(F=!0,y)for(var W=y.length-1;0<=W;W--){var re=d.g=y[W];F=rr(re,w,!0,d)&&F}if(re=d.g=l,F=rr(re,w,!0,d)&&F,F=rr(re,w,!1,d)&&F,y)for(W=0;W<y.length;W++)re=d.g=y[W],F=rr(re,w,!1,d)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],w=0;w<y.length;w++)Et(y[w]);delete l.g[d],l.h--}}this.F=null},ht.prototype.K=function(l,d,y,w){return this.i.add(String(l),d,!1,y,w)},ht.prototype.L=function(l,d,y,w){return this.i.add(String(l),d,!0,y,w)};function rr(l,d,y,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,W=0;W<d.length;++W){var re=d[W];if(re&&!re.da&&re.capture==y){var He=re.listener,dt=re.ha||re.src;re.fa&&Gi(l.i,re),F=He.call(dt,w)!==!1&&F}}return F&&!w.defaultPrevented}function fs(l,d,y){if(typeof l=="function")y&&(l=R(l,y));else if(l&&typeof l.handleEvent=="function")l=R(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:p.setTimeout(l,d||0)}function Cr(l){l.g=fs(()=>{l.g=null,l.i&&(l.i=!1,Cr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ci extends G{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(l){G.call(this),this.h=l,this.g={}}M(hi,G);var ds=[];function ps(l){he(l.g,function(d,y){this.g.hasOwnProperty(y)&&tr(d)},l),l.g={}}hi.prototype.N=function(){hi.aa.N.call(this),ps(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=p.JSON.stringify,gs=p.JSON.parse,ys=class{stringify(l){return p.JSON.stringify(l,void 0)}parse(l){return p.JSON.parse(l,void 0)}};function fi(){}fi.prototype.h=null;function eo(l){return l.h||(l.h=l.i())}function to(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){pe.call(this,"d")}M(Mn,pe);function no(){pe.call(this,"c")}M(no,pe);var bn={},_s=null;function di(){return _s=_s||new ht}bn.La="serverreachability";function vs(l){pe.call(this,bn.La,l)}M(vs,pe);function ir(l){const d=di();ft(d,new vs(d))}bn.STAT_EVENT="statevent";function Es(l,d){pe.call(this,bn.STAT_EVENT,l),this.stat=d}M(Es,pe);function ot(l){const d=di();ft(d,new Es(d,l))}bn.Ma="timingevent";function ro(l,d){pe.call(this,bn.Ma,l),this.size=d}M(ro,pe);function En(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){l()},d)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function mi(l,d,y,w,F,W){l.info(function(){if(l.g)if(W)for(var re="",He=W.split("&"),dt=0;dt<He.length;dt++){var Ve=He[dt].split("=");if(1<Ve.length){var wt=Ve[0];Ve=Ve[1];var lt=wt.split("_");re=2<=lt.length&&lt[1]=="type"?re+(wt+"="+Ve+"&"):re+(wt+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+d+`
`+y+`
`+re})}function io(l,d,y,w,F,W,re){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+d+`
`+y+`
`+W+" "+re})}function wn(l,d,y,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Qu(l,y)+(w?" "+w:"")})}function ws(l,d){l.info(function(){return"TIMEOUT: "+d})}pi.prototype.info=function(){};function Qu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return ms(y)}catch{return d}}var oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function gi(){}M(gi,fi),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},Tn=new gi;function In(l,d,y,w){this.j=l,this.i=d,this.l=y,this.R=w||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var Ts={},so={};function ao(l,d,y){l.L=1,l.v=Dr(tn(d)),l.m=y,l.P=!0,Is(l,null)}function Is(l,d){l.F=Date.now(),Qe(l),l.A=tn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Vr(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Ma,l.g=el(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ci(R(l.Y,l,l.g),l.O)),d=l.U,y=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(ds[0]=F.toString()),F=ds);for(var W=0;W<F.length;W++){var re=ls(y,F[W],w||d.handleEvent,!1,d.h||d);if(!re)break;d.g[re.key]=re}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ir(),mi(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const d=this.M;d&&qt(l)==3?d.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const lt=qt(this.g);var d=this.g.Ba();const hn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||ks(this.g)))){this.J||lt!=4||d==7||(d==8||0>=hn?ir(3):ir(2)),yi(this);var y=this.g.Z();this.X=y;t:if(ba(this)){var w=ks(this.g);l="";var F=w.length,W=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Rr(this);var re="";break t}this.h.i=new p.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(W&&d==F-1)});w.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,io(this.i,this.u,this.A,this.l,this.R,lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var He,dt=this.g;if((He=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(He)){var Ve=He;break t}}Ve=null}if(y=Ve)wn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,y);else{this.o=!1,this.s=3,ot(12),un(this),Rr(this);break e}}if(this.P){y=!0;let rn;for(;!this.J&&this.C<re.length;)if(rn=Gu(this,re),rn==so){lt==4&&(this.s=4,ot(14),y=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Ts){this.s=4,ot(15),wn(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else wn(this.i,this.l,rn,null),Ss(this,rn);if(ba(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||re.length!=0||this.h.h||(this.s=1,ot(16),y=!1),this.o=this.o&&y,!y)wn(this.i,this.l,re,"[Invalid Chunked Response]"),un(this),Rr(this);else if(0<re.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ds(wt),wt.M=!0,ot(11))}}else wn(this.i,this.l,re,null),Ss(this,re);lt==4&&un(this),this.o&&!this.J&&(lt==4?vo(this.j,this):(this.o=!1,Qe(this)))}else po(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),un(this),Rr(this)}}}catch{}finally{}};function ba(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Gu(l,d){var y=l.C,w=d.indexOf(`
`,y);return w==-1?so:(y=Number(d.substring(y,w)),isNaN(y)?Ts:(w+=1,w+y>d.length?so:(d=d.slice(w,w+y),l.C=w+y,d)))}In.prototype.cancel=function(){this.J=!0,un(this)};function Qe(l){l.S=Date.now()+l.I,Fa(l,l.I)}function Fa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=En(R(l.ba,l),d)}function yi(l){l.B&&(p.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ws(this.i,this.A),this.L!=2&&(ir(),ot(17)),un(this),this.s=2,Rr(this)):Fa(this,this.S-l)};function Rr(l){l.j.G==0||l.J||vo(l.j,l)}function un(l){yi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ps(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Ss(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||zt(y.h,l))){if(!l.K&&zt(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)_o(y),Pn(y);else break e;yo(y),ot(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=En(R(y.Za,y),6e3));if(1>=za(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ur(y,11)}else if((l.K||y.g==l)&&_o(y),!q(d))for(F=y.Da.g.parse(d),d=0;d<F.length;d++){let Ve=F[d];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const wt=Ve[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const lt=Ve[4];lt!=null&&(y.Aa=lt,y.j.info("SVER="+y.Aa));const hn=Ve[5];hn!=null&&typeof hn=="number"&&0<hn&&(w=1.5*hn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const rn=l.g;if(rn){const Si=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var W=w.h;W.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(As(W,W.h),W.h=null))}if(w.D){const wo=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(w.ya=wo,qe(w.I,w.D,wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var re=l;if(w.qa=Za(w,w.J?w.ia:null,w.W),re.K){ja(w.h,re);var He=re,dt=w.L;dt&&(He.I=dt),He.B&&(yi(He),Qe(He)),w.g=re}else Ii(w);0<y.i.length&&jn(y)}else Ve[0]!="stop"&&Ve[0]!="close"||ur(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ur(y,7):Rt(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}ir(4)}catch{}}var Ua=class{constructor(l,d){this.g=l,this.map=d}};function _i(l){this.l=l||10,p.PerformanceNavigationTiming?(l=p.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function za(l){return l.h?1:l.g?l.g.size:0}function zt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function As(l,d){l.g?l.g.add(d):l.h=d}function ja(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}_i.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ba(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return z(l.i)}function lo(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,w=0;w<y;w++)d.push(l[w]);return d}d=[],y=0;for(w in l)d[y++]=l[w];return d}function uo(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const w in l)d[y++]=w;return d}}}function Pr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=uo(l),w=lo(l),F=w.length,W=0;W<F;W++)d.call(void 0,w[W],y&&y[W],l)}var vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),F=null;if(0<=w){var W=l[y].substring(0,w);F=l[y].substring(w+1)}else W=l[y];d(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function or(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof or){this.h=l.h,Ei(this,l.j),this.o=l.o,this.g=l.g,kr(this,l.s),this.l=l.l;var d=l.i,y=new Fn;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),xr(this,y),this.m=l.m}else l&&(d=String(l).match(vi))?(this.h=!1,Ei(this,d[1]||"",!0),this.o=xe(d[2]||""),this.g=xe(d[3]||"",!0),kr(this,d[4]),this.l=xe(d[5]||"",!0),xr(this,d[6]||"",!0),this.m=xe(d[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}or.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Nr(d,co,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Nr(d,co,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Nr(y,y.charAt(0)=="/"?Wa:Ha,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Nr(y,Cs)),l.join("")};function tn(l){return new or(l)}function Ei(l,d,y){l.j=y?xe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function kr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function xr(l,d,y){d instanceof Fn?(l.i=d,Un(l.i,l.h)):(y||(d=Nr(d,qa)),l.i=new Fn(d,l.h))}function qe(l,d,y){l.i.set(d,y)}function Dr(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Nr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,$a),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function $a(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var co=/[#\/\?@]/g,Ha=/[#\?:]/g,Wa=/[#\?]/g,qa=/[#\?@]/g,Cs=/#/g;function Fn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ct(l){l.g||(l.g=new Map,l.h=0,l.i&&Xu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Fn.prototype,i.add=function(l,d){Ct(this),this.i=null,l=cn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function Sn(l,d){Ct(l),d=cn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function An(l,d){return Ct(l),d=cn(l,d),l.g.has(d)}i.forEach=function(l,d){Ct(this),this.g.forEach(function(y,w){y.forEach(function(F){l.call(d,F,w,this)},this)},this)},i.na=function(){Ct(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const F=l[w];for(let W=0;W<F.length;W++)y.push(d[w])}return y},i.V=function(l){Ct(this);let d=[];if(typeof l=="string")An(this,l)&&(d=d.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Ct(this),this.i=null,l=cn(this,l),An(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Vr(l,d,y){Sn(l,d),0<y.length&&(l.i=null,l.g.set(cn(l,d),z(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const W=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var F=W;re[w]!==""&&(F+="="+encodeURIComponent(String(re[w]))),l.push(F)}}return this.i=l.join("&")};function cn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Un(l,d){d&&!l.j&&(Ct(l),l.i=null,l.g.forEach(function(y,w){var F=w.toLowerCase();w!=F&&(Sn(this,w),Vr(this,F,y))},l)),l.j=d}function Yu(l,d){const y=new pi;if(p.Image){const w=new Image;w.onload=V(Wt,y,"TestLoadImage: loaded",!0,d,w),w.onerror=V(Wt,y,"TestLoadImage: error",!1,d,w),w.onabort=V(Wt,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=V(Wt,y,"TestLoadImage: timeout",!1,d,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function Ka(l,d){const y=new pi,w=new AbortController,F=setTimeout(()=>{w.abort(),Wt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(W=>{clearTimeout(F),W.ok?Wt(y,"TestPingServer: ok",!0,d):Wt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),Wt(y,"TestPingServer: error",!1,d)})}function Wt(l,d,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function Ju(){this.g=new ys}function Qa(l,d,y){const w=y||"";try{Pr(l,function(F,W){let re=F;_(F)&&(re=ms(F)),d.push(w+W+"="+encodeURIComponent(re))})}catch(F){throw d.push(w+"type="+encodeURIComponent("_badmap")),F}}function sr(l){this.l=l.Ub||null,this.j=l.eb||!1}M(sr,fi),sr.prototype.g=function(){return new wi(this.l,this.j)},sr.prototype.i=function(l){return function(){return l}}({});function wi(l,d){ht.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(wi,ht),i=wi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||p).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ga(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ga(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Cn(this):Rn(this),this.readyState==3&&Ga(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},i.Qa=function(l){this.g&&(this.response=l,Cn(this))},i.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let d="";return he(l,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function Lr(l,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=ar(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):qe(l,d,y))}function Je(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Je,ht);var Zu=/^https?$/i,Rs=["POST","PUT"];i=Je.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?eo(this.o):eo(Tn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(W){Ti(this,W);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())y.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(W=>W.toLowerCase()=="content-type"),F=p.FormData&&l instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Rs,d,void 0))||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of y)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){Ti(this,W)}};function Ti(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ho(l),nn(l)}function ho(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ps(this):this.bb())},i.bb=function(){Ps(this)};function Ps(l){if(l.h&&typeof h<"u"&&(!l.v[1]||qt(l)!=4||l.Z()!=2)){if(l.u&&qt(l)==4)fs(l.Ea,0,l);else if(ft(l,"readystatechange"),qt(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=re===0){var F=String(l.D).match(vi)[1]||null;!F&&p.self&&p.self.location&&(F=p.self.location.protocol.slice(0,-1)),w=!Zu.test(F?F.toLowerCase():"")}y=w}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var W=2<qt(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",ho(l)}}finally{nn(l)}}}}function nn(l,d){if(l.g){fo(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ft(l,"ready");try{y.onreadystatechange=w}catch{}}}function fo(l){l.I&&(p.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),gs(d)}};function ks(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function po(l){const d={};l=(l.g&&2<=qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(q(l[w]))continue;var y=x(l[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const W=d[F]||[];d[F]=W,W.push(y)}P(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function xs(l){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,l),this.cb=zn("retryDelaySeedMs",1e4,l),this.Wa=zn("forwardChannelMaxRetries",2,l),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(l&&l.concurrentRequestLimit),this.Da=new Ju,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xs.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,w){ot(0),this.W=l,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Za(this,null,this.W),jn(this)};function Rt(l){if(mo(l),l.G==3){var d=l.U++,y=tn(l.I);if(qe(y,"SID",l.K),qe(y,"RID",d),qe(y,"TYPE","terminate"),lr(l,y),d=new In(l,l.j,d),d.L=2,d.v=Dr(tn(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=d.v,y=!0),y||(d.g=el(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qe(d)}Ja(l)}function Pn(l){l.g&&(Ds(l),l.g.cancel(),l.g=null)}function mo(l){Pn(l),l.u&&(p.clearTimeout(l.u),l.u=null),_o(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&p.clearTimeout(l.s),l.s=null)}function jn(l){if(!en(l.h)&&!l.s){l.s=!0;var d=l.Ga;Pe||oe(),ne||(Pe(),ne=!0),ge.add(d,l),l.B=0}}function ec(l,d){return za(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=En(R(l.Ga,l,d),Ya(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new In(this,this.j,l);let W=this.o;if(this.S&&(W?(W=T(W),k(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Or(this,F,d),y=tn(this.I),qe(y,"RID",l),qe(y,"CVER",22),this.D&&qe(y,"X-HTTP-Session-Id",this.D),lr(this,y),W&&(this.O?d="headers="+encodeURIComponent(String(ar(W)))+"&"+d:this.m&&Lr(y,this.m,W)),As(this.h,F),this.Ua&&qe(y,"TYPE","init"),this.P?(qe(y,"$req",d),qe(y,"SID","null"),F.T=!0,ao(F,y,null)):ao(F,y,d),this.G=2}}else this.G==3&&(l?go(this,l):this.i.length==0||en(this.h)||go(this))};function go(l,d){var y;d?y=d.l:y=l.U++;const w=tn(l.I);qe(w,"SID",l.K),qe(w,"RID",y),qe(w,"AID",l.T),lr(l,w),l.m&&l.o&&Lr(w,l.m,l.o),y=new In(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Or(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),As(l.h,y),ao(y,w,d)}function lr(l,d){l.H&&he(l.H,function(y,w){qe(d,w,y)}),l.l&&Pr({},function(y,w){qe(d,w,y)})}function Or(l,d,y){y=Math.min(l.i.length,y);var w=l.l?R(l.l.Na,l.l,l):null;e:{var F=l.i;let W=-1;for(;;){const re=["count="+y];W==-1?0<y?(W=F[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let He=!0;for(let dt=0;dt<y;dt++){let Ve=F[dt].g;const wt=F[dt].map;if(Ve-=W,0>Ve)W=Math.max(0,F[dt].g-100),He=!1;else try{Qa(wt,re,"req"+Ve+"_")}catch{w&&w(wt)}}if(He){w=re.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,w}function Ii(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Pe||oe(),ne||(Pe(),ne=!0),ge.add(d,l),l.v=0}}function yo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=En(R(l.Fa,l),Ya(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Xa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=En(R(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Pn(this),Xa(this))};function Ds(l){l.A!=null&&(p.clearTimeout(l.A),l.A=null)}function Xa(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=tn(l.qa);qe(d,"RID","rpc"),qe(d,"SID",l.K),qe(d,"AID",l.T),qe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(d,"TO",l.ja),qe(d,"TYPE","xmlhttp"),lr(l,d),l.m&&l.o&&Lr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Dr(tn(d)),y.m=null,y.P=!0,Is(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Pn(this),yo(this),ot(19))};function _o(l){l.C!=null&&(p.clearTimeout(l.C),l.C=null)}function vo(l,d){var y=null;if(l.g==d){_o(l),Ds(l),l.g=null;var w=2}else if(zt(l.h,d))y=d.D,ja(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;w=di(),ft(w,new ro(w,y)),jn(l)}else Ii(l);else if(F=d.s,F==3||F==0&&0<d.X||!(w==1&&ec(l,d)||w==2&&yo(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),F){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function Ya(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ur(l,d){if(l.j.info("Error code "+d),d==2){var y=R(l.fb,l),w=l.Xa;const F=!w;w=new or(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ei(w,"https"),Dr(w),F?Yu(w.toString(),y):Ka(w.toString(),y)}else ot(2);l.G=0,l.l&&l.l.sa(d),Ja(l),mo(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ja(l){if(l.G=0,l.ka=[],l.l){const d=Ba(l.h);(d.length!=0||l.i.length!=0)&&(O(l.ka,d),O(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function Za(l,d,y){var w=y instanceof or?tn(y):new or(y);if(w.g!="")d&&(w.g=d+"."+w.g),kr(w,w.s);else{var F=p.location;w=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var W=new or(null);w&&Ei(W,w),d&&(W.g=d),F&&kr(W,F),y&&(W.l=y),w=W}return y=l.D,d=l.ya,y&&d&&qe(w,y,d),qe(w,"VER",l.la),lr(l,w),w}function el(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Je(new sr({eb:y})):new Je(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}i=Ns.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Eo(){}Eo.prototype.g=function(l,d){return new jt(l,d)};function jt(l,d){ht.call(this),this.g=new xs(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!q(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Bn(this)}M(jt,ht),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Rt(this.g)},jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ms(l),l=y);d.i.push(new Ua(d.Ya++,l)),d.G==3&&jn(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,jt.aa.N.call(this)};function tl(l){Mn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}M(tl,Mn);function nl(){no.call(this),this.status=1}M(nl,no);function Bn(l){this.g=l}M(Bn,Ns),Bn.prototype.ua=function(){ft(this.g,"a")},Bn.prototype.ta=function(l){ft(this.g,new tl(l))},Bn.prototype.sa=function(l){ft(this.g,new nl)},Bn.prototype.ra=function(){ft(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,dy=function(){return new Eo},fy=function(){return di()},hy=bn,Wh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,iu=oo,Oa.COMPLETE="complete",cy=Oa,to.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ht.prototype.listen=ht.prototype.K,oa=to,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,uy=Je}).apply(typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{});const xm="@firebase/firestore",Dm="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let is="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new ny("@firebase/firestore");function Bo(){return Bi.logLevel}function se(i,...e){if(Bi.logLevel<=Oe.DEBUG){const n=e.map(yf);Bi.debug(`Firestore (${is}): ${i}`,...n)}}function Tr(i,...e){if(Bi.logLevel<=Oe.ERROR){const n=e.map(yf);Bi.error(`Firestore (${is}): ${i}`,...n)}}function Go(i,...e){if(Bi.logLevel<=Oe.WARN){const n=e.map(yf);Bi.warn(`Firestore (${is}): ${i}`,...n)}}function yf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: `+i;throw Tr(e),new Error(e)}function $e(i,e){i||Ee()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Zw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eT{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let o=this.i;const s=g=>this.i!==o?(o=this.i,n(g)):Promise.resolve();let u=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ei,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},p=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ei)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?($e(typeof o.accessToken=="string"),new py(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Ft(e)}}class tT{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nT{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new tT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rT{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ow(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const o=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const s=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?s(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Nm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new Nm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const s=iT(40);for(let u=0;u<s.length;++u)o.length<20&&s[u]<n&&(o+=e.charAt(s[u]%62))}return o}}function De(i,e){return i<e?-1:i>e?1:0}function Xo(i,e,n){return i.length===e.length&&i.every((o,s)=>n(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=-62135596800,Lm=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*Lm);return new _t(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vm)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lm}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Vm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new _t(0,0))}static max(){return new Te(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="__name__";class Kn{constructor(e,n,o){n===void 0?n=0:n>e.length&&Ee(),o===void 0?o=e.length-n:o>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let s=0;s<o;s++){const u=Kn.compareSegments(e.get(s),n.get(s));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const o=Kn.isNumericId(e),s=Kn.isNumericId(n);return o&&!s?-1:!o&&s?1:o&&s?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class et extends Kn{construct(e,n,o){return new et(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(s=>s.length>0))}return new et(n)}static emptyPath(){return new et([])}}const oT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Kn{construct(e,n,o){return new Dt(e,n,o)}static isValidIdentifier(e){return oT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Om}static keyField(){return new Dt([Om])}static fromServerFormat(e){const n=[];let o="",s=0;const u=()=>{if(o.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let h=!1;for(;s<e.length;){const p=e[s];if(p==="\\"){if(s+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,s+=2}else p==="`"?(h=!h,s++):p!=="."||h?(o+=p,s++):(u(),s++)}if(u(),h)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=-1;function sT(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,s=Te.fromTimestamp(o===1e9?new _t(n+1,0):new _t(n,o));return new ri(s,ve.empty(),e)}function aT(i){return new ri(i.readTime,i.key,ya)}class ri{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ri(Te.min(),ve.empty(),ya)}static max(){return new ri(Te.max(),ve.empty(),ya)}}function lT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function os(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==uT)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((o,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,s)},this.catchCallback=u=>{this.wrapFailure(n,u).next(o,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,o)=>{n(e)})}static reject(e){return new Q((n,o)=>{o(e)})}static waitFor(e){return new Q((n,o)=>{let s=0,u=0,h=!1;e.forEach(p=>{++s,p.next(()=>{++u,h&&u===s&&n()},g=>o(g))}),h=!0,u===s&&n()})}static or(e){let n=Q.resolve(!1);for(const o of e)n=n.next(s=>s?Q.resolve(s):o());return n}static forEach(e,n){const o=[];return e.forEach((s,u)=>{o.push(n.call(this,s,u))}),this.waitFor(o)}static mapArray(e,n){return new Q((o,s)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(E=>{h[_]=E,++p,p===u&&o(h)},E=>s(E))}})}static doWhile(e,n){return new Q((o,s)=>{const u=()=>{e()===!0?n().next(()=>{u()},s):o()};u()})}}function hT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ss(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.oe(o),this._e=o=>n.writeSequenceNumber(o))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ou.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=-1;function Mu(i){return i==null}function yu(i){return i===0&&1/i==-1/0}function fT(i){return typeof i=="number"&&Number.isInteger(i)&&!yu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="";function dT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mm(e)),e=pT(i.get(n),e);return Mm(e)}function pT(i,e){let n=e;const o=i.length;for(let s=0;s<o;s++){const u=i.charAt(s);switch(u){case"\0":n+="";break;case gy:n+="";break;default:n+=u}}return n}function Mm(i){return i+gy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Wi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return n+o.left.size;s<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}}class Jl{constructor(e,n,o,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?o(e.key,n):1,n&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,o,s,u){this.key=e,this.value=n,this.color=o??xt.RED,this.left=s??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,s,u){return new xt(e??this.key,n??this.value,o??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let s=this;const u=o(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,n,o),null):u===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,o,s,u){return this}insert(e,n,o){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fm(this.data.getIterator())}getIteratorFrom(e){return new Fm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=o.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Fm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new On([])}unionWith(e){let n=new vt(Dt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _y("Invalid base64 string: "+u):u}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let u="";for(let h=0;h<s.length;++h)u+=String.fromCharCode(s[h]);return u}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const mT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(i){if($e(!!i),typeof i=="string"){let e=0;const n=mT.exec(i);if($e(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:at(i.seconds),nanos:at(i.nanos)}}function at(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function oi(i){return typeof i=="string"?Nt.fromBase64String(i):Nt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="server_timestamp",Ey="__type__",wy="__previous_value__",Ty="__local_write_time__";function vf(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ey])===null||n===void 0?void 0:n.stringValue)===vy}function bu(i){const e=i.mapValue.fields[wy];return vf(e)?bu(e):e}function _a(i){const e=ii(i.mapValue.fields[Ty].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,o,s,u,h,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_}}const _u="(default)";class va{constructor(e,n){this.projectId=e,this.database=n||_u}static empty(){return new va("","")}get isDefaultDatabase(){return this.database===_u}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="__type__",Sy="__max__",Zl={mapValue:{fields:{__type__:{stringValue:Sy}}}},Ay="__vector__",vu="value";function si(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vf(i)?4:_T(i)?9007199254740991:yT(i)?10:11:Ee()}function Yn(i,e){if(i===e)return!0;const n=si(i);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _a(i).isEqual(_a(e));case 3:return function(s,u){if(typeof s.timestampValue=="string"&&typeof u.timestampValue=="string"&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const h=ii(s.timestampValue),p=ii(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,u){return oi(s.bytesValue).isEqual(oi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,u){return at(s.geoPointValue.latitude)===at(u.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(u.geoPointValue.longitude)}(i,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return at(s.integerValue)===at(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const h=at(s.doubleValue),p=at(u.doubleValue);return h===p?yu(h)===yu(p):isNaN(h)&&isNaN(p)}return!1}(i,e);case 9:return Xo(i.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(s,u){const h=s.mapValue.fields||{},p=u.mapValue.fields||{};if(bm(h)!==bm(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Yn(h[g],p[g])))return!1;return!0}(i,e);default:return Ee()}}function Ea(i,e){return(i.values||[]).find(n=>Yn(n,e))!==void 0}function Yo(i,e){if(i===e)return 0;const n=si(i),o=si(e);if(n!==o)return De(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(u,h){const p=at(u.integerValue||u.doubleValue),g=at(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(i,e);case 3:return Um(i.timestampValue,e.timestampValue);case 4:return Um(_a(i),_a(e));case 5:return De(i.stringValue,e.stringValue);case 6:return function(u,h){const p=oi(u),g=oi(h);return p.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const p=u.split("/"),g=h.split("/");for(let _=0;_<p.length&&_<g.length;_++){const E=De(p[_],g[_]);if(E!==0)return E}return De(p.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const p=De(at(u.latitude),at(h.latitude));return p!==0?p:De(at(u.longitude),at(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return zm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var p,g,_,E;const I=u.fields||{},R=h.fields||{},V=(p=I[vu])===null||p===void 0?void 0:p.arrayValue,M=(g=R[vu])===null||g===void 0?void 0:g.arrayValue,z=De(((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:zm(V,M)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Zl.mapValue&&h===Zl.mapValue)return 0;if(u===Zl.mapValue)return 1;if(h===Zl.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const R=De(g[I],E[I]);if(R!==0)return R;const V=Yo(p[g[I]],_[E[I]]);if(V!==0)return V}return De(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function Um(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const n=ii(i),o=ii(e),s=De(n.seconds,o.seconds);return s!==0?s:De(n.nanos,o.nanos)}function zm(i,e){const n=i.values||[],o=e.values||[];for(let s=0;s<n.length&&s<o.length;++s){const u=Yo(n[s],o[s]);if(u)return u}return De(n.length,o.length)}function Jo(i){return qh(i)}function qh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=ii(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return oi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",s=!0;for(const u of n.values||[])s?s=!1:o+=",",o+=qh(u);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let s="{",u=!0;for(const h of o)u?u=!1:s+=",",s+=`${h}:${qh(n.fields[h])}`;return s+"}"}(i.mapValue):Ee()}function ou(i){switch(si(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bu(i);return e?16+ou(e):16;case 5:return 2*i.stringValue.length;case 6:return oi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,u)=>s+ou(u),0)}(i.arrayValue);case 10:case 11:return function(o){let s=0;return Wi(o.fields,(u,h)=>{s+=u.length+ou(h)}),s}(i.mapValue);default:throw Ee()}}function Kh(i){return!!i&&"integerValue"in i}function Ef(i){return!!i&&"arrayValue"in i}function jm(i){return!!i&&"nullValue"in i}function Bm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function su(i){return!!i&&"mapValue"in i}function yT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iy])===null||n===void 0?void 0:n.stringValue)===Ay}function ua(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Wi(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ua(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(i.arrayValue.values[n]);return e}return Object.assign({},i)}function _T(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Sy}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=Dt.emptyPath(),o={},s=[];e.forEach((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,o,s),o={},s=[],n=p.popLast()}h?o[p.lastSegment()]=ua(h):s.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,o,s)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=n.mapValue.fields[e.get(o)];su(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,o){Wi(n,(s,u)=>e[s]=u);for(const s of o)delete e[s]}clone(){return new _n(ua(this.value))}}function Cy(i){const e=[];return Wi(i.fields,(n,o)=>{const s=new Dt([n]);if(su(o)){const u=Cy(o.mapValue).fields;if(u.length===0)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,o,s,u,h,p){this.key=e,this.documentType=n,this.version=o,this.readTime=s,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Ut(e,0,Te.min(),Te.min(),Te.min(),_n.empty(),0)}static newFoundDocument(e,n,o,s){return new Ut(e,1,n,Te.min(),o,s,0)}static newNoDocument(e,n){return new Ut(e,2,n,Te.min(),Te.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Te.min(),Te.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function $m(i,e,n){let o=0;for(let s=0;s<i.position.length;s++){const u=e[s],h=i.position[s];if(u.field.isKeyField()?o=ve.comparator(ve.fromName(h.referenceValue),n.key):o=Yo(h,n.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function Hm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function vT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{}class gt extends Ry{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new wT(e,n,o):n==="array-contains"?new ST(e,o):n==="in"?new AT(e,o):n==="not-in"?new CT(e,o):n==="array-contains-any"?new RT(e,o):new gt(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new TT(e,o):new IT(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Ry{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return Py(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Py(i){return i.op==="and"}function ky(i){return ET(i)&&Py(i)}function ET(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Qh(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+Jo(i.value);if(ky(i))return i.filters.map(e=>Qh(e)).join(",");{const e=i.filters.map(n=>Qh(n)).join(",");return`${i.op}(${e})`}}function xy(i,e){return i instanceof gt?function(o,s){return s instanceof gt&&o.op===s.op&&o.field.isEqual(s.field)&&Yn(o.value,s.value)}(i,e):i instanceof Jn?function(o,s){return s instanceof Jn&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((u,h,p)=>u&&xy(h,s.filters[p]),!0):!1}(i,e):void Ee()}function Dy(i){return i instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Dy).join(" ,")+"}"}(i):"Filter"}class wT extends gt{constructor(e,n,o){super(e,n,o),this.key=ve.fromName(o.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class TT extends gt{constructor(e,n){super(e,"in",n),this.keys=Ny("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IT extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Ny("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ny(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(o=>ve.fromName(o.referenceValue))}class ST extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ef(n)&&Ea(n.arrayValue,this.value)}}class AT extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class CT extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ea(this.value.arrayValue,n)}}class RT extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Ea(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n=null,o=[],s=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=s,this.limit=u,this.startAt=h,this.endAt=p,this.le=null}}function Wm(i,e=null,n=[],o=[],s=null,u=null,h=null){return new PT(i,e,n,o,s,u,h)}function wf(i){const e=Se(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Qh(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>function(u){return u.field.canonicalString()+u.dir}(o)).join(","),Mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Jo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Jo(o)).join(",")),e.le=n}return e.le}function Tf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!vT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Hm(i.startAt,e.startAt)&&Hm(i.endAt,e.endAt)}function Gh(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n=null,o=[],s=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=s,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function kT(i,e,n,o,s,u,h,p){return new Fu(i,e,n,o,s,u,h,p)}function If(i){return new Fu(i)}function qm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xT(i){return i.collectionGroup!==null}function ca(i){const e=Se(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new vt(Dt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new wu(u,o))}),n.has(Dt.keyField().canonicalString())||e.he.push(new wu(Dt.keyField(),o))}return e.he}function Qn(i){const e=Se(i);return e.Pe||(e.Pe=DT(e,ca(i))),e.Pe}function DT(i,e){if(i.limitType==="F")return Wm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new wu(s.field,u)});const n=i.endAt?new Eu(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new Eu(i.startAt.position,i.startAt.inclusive):null;return Wm(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}function Xh(i,e,n){return new Fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Uu(i,e){return Tf(Qn(i),Qn(e))&&i.limitType===e.limitType}function Vy(i){return`${wf(Qn(i))}|lt:${i.limitType}`}function $o(i){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(s=>Dy(s)).join(", ")}]`),Mu(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(s=>Jo(s)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(s=>Jo(s)).join(",")),`Target(${o})`}(Qn(i))}; limitType=${i.limitType})`}function zu(i,e){return e.isFoundDocument()&&function(o,s){const u=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):ve.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(i,e)&&function(o,s){for(const u of ca(o))if(!u.field.isKeyField()&&s.data.field(u.field)===null)return!1;return!0}(i,e)&&function(o,s){for(const u of o.filters)if(!u.matches(s))return!1;return!0}(i,e)&&function(o,s){return!(o.startAt&&!function(h,p,g){const _=$m(h,p,g);return h.inclusive?_<=0:_<0}(o.startAt,ca(o),s)||o.endAt&&!function(h,p,g){const _=$m(h,p,g);return h.inclusive?_>=0:_>0}(o.endAt,ca(o),s))}(i,e)}function NT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ly(i){return(e,n)=>{let o=!1;for(const s of ca(i)){const u=VT(s,e,n);if(u!==0)return u;o=o||s.field.isKeyField()}return 0}}function VT(i,e,n){const o=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,h,p){const g=h.data.field(u),_=p.data.field(u);return g!==null&&_!==null?Yo(g,_):Ee()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[s,u]of o)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[n]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,o)=>{for(const[s,u]of o)e(s,u)})}isEmpty(){return yy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new rt(ve.comparator);function Ir(){return LT}const Oy=new rt(ve.comparator);function sa(...i){let e=Oy;for(const n of i)e=e.insert(n.key,n);return e}function My(i){let e=Oy;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Fi(){return ha()}function by(){return ha()}function ha(){return new qi(i=>i.toString(),(i,e)=>i.isEqual(e))}const OT=new rt(ve.comparator),MT=new vt(ve.comparator);function ke(...i){let e=MT;for(const n of i)e=e.add(n);return e}const bT=new vt(De);function FT(){return bT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(e)?"-0":e}}function Fy(i){return{integerValue:""+i}}function UT(i,e){return fT(e)?Fy(e):Sf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this._=void 0}}function zT(i,e,n){return i instanceof Tu?function(s,u){const h={fields:{[Ey]:{stringValue:vy},[Ty]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&vf(u)&&(u=bu(u)),u&&(h.fields[wy]=u),{mapValue:h}}(n,e):i instanceof wa?zy(i,e):i instanceof Ta?jy(i,e):function(s,u){const h=Uy(s,u),p=Km(h)+Km(s.Ie);return Kh(h)&&Kh(s.Ie)?Fy(p):Sf(s.serializer,p)}(i,e)}function jT(i,e,n){return i instanceof wa?zy(i,e):i instanceof Ta?jy(i,e):n}function Uy(i,e){return i instanceof Iu?function(o){return Kh(o)||function(u){return!!u&&"doubleValue"in u}(o)}(e)?e:{integerValue:0}:null}class Tu extends ju{}class wa extends ju{constructor(e){super(),this.elements=e}}function zy(i,e){const n=By(e);for(const o of i.elements)n.some(s=>Yn(s,o))||n.push(o);return{arrayValue:{values:n}}}class Ta extends ju{constructor(e){super(),this.elements=e}}function jy(i,e){let n=By(e);for(const o of i.elements)n=n.filter(s=>!Yn(s,o));return{arrayValue:{values:n}}}class Iu extends ju{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Km(i){return at(i.integerValue||i.doubleValue)}function By(i){return Ef(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function BT(i,e){return i.field.isEqual(e.field)&&function(o,s){return o instanceof wa&&s instanceof wa||o instanceof Ta&&s instanceof Ta?Xo(o.elements,s.elements,Yn):o instanceof Iu&&s instanceof Iu?Yn(o.Ie,s.Ie):o instanceof Tu&&s instanceof Tu}(i.transform,e.transform)}class $T{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Bu{}function $y(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Wy(i.key,vr.none()):new ka(i.key,i.data,vr.none());{const n=i.data,o=_n.empty();let s=new vt(Dt.comparator);for(let u of e.fields)if(!s.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?o.delete(u):o.set(u,h),s=s.add(u)}return new Ki(i.key,o,new On(s.toArray()),vr.none())}}function HT(i,e,n){i instanceof ka?function(s,u,h){const p=s.value.clone(),g=Gm(s.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):i instanceof Ki?function(s,u,h){if(!au(s.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Gm(s.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Hy(s)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function fa(i,e,n,o){return i instanceof ka?function(u,h,p,g){if(!au(u.precondition,h))return p;const _=u.value.clone(),E=Xm(u.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,n,o):i instanceof Ki?function(u,h,p,g){if(!au(u.precondition,h))return p;const _=Xm(u.fieldTransforms,g,h),E=h.data;return E.setAll(Hy(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(i,e,n,o):function(u,h,p){return au(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(i,e,n)}function WT(i,e){let n=null;for(const o of i.fieldTransforms){const s=e.data.field(o.field),u=Uy(o.transform,s||null);u!=null&&(n===null&&(n=_n.empty()),n.set(o.field,u))}return n||null}function Qm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&Xo(o,s,(u,h)=>BT(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ka extends Bu{constructor(e,n,o,s=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ki extends Bu{constructor(e,n,o,s,u=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Hy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Gm(i,e,n){const o=new Map;$e(i.length===n.length);for(let s=0;s<n.length;s++){const u=i[s],h=u.transform,p=e.data.field(u.field);o.set(u.field,jT(h,p,n[s]))}return o}function Xm(i,e,n){const o=new Map;for(const s of i){const u=s.transform,h=n.data.field(s.field);o.set(s.field,zT(u,h,e))}return o}class Wy extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qT extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,o,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&HT(u,e,o[s])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=fa(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=fa(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=by();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(s.key)?null:p;const g=$y(h,p);g!==null&&o.set(s.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,o)=>Qm(n,o))&&Xo(this.baseMutations,e.baseMutations,(n,o)=>Qm(n,o))}}class Af{constructor(e,n,o,s){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=s}static from(e,n,o){$e(e.mutations.length===o.length);let s=function(){return OT}();const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,o[h].version);return new Af(e,n,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Le;function XT(i){switch(i){case J.OK:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee()}}function qy(i){if(i===void 0)return Tr("GRPC error has no .code"),J.UNKNOWN;switch(i){case ct.OK:return J.OK;case ct.CANCELLED:return J.CANCELLED;case ct.UNKNOWN:return J.UNKNOWN;case ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ct.INTERNAL:return J.INTERNAL;case ct.UNAVAILABLE:return J.UNAVAILABLE;case ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ct.NOT_FOUND:return J.NOT_FOUND;case ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ct.ABORTED:return J.ABORTED;case ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ct.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(Le=ct||(ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Zr([4294967295,4294967295],0);function Ym(i){const e=YT().encode(i),n=new ly;return n.update(e),new Uint8Array(n.digest())}function Jm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zr([n,o],0),new Zr([s,u],0)]}class Cf{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(o<0)throw new aa(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Zr.fromNumber(this.Ee)}Ae(e,n,o){let s=e.add(n.multiply(Zr.fromNumber(o)));return s.compare(JT)===1&&(s=new Zr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Ym(e),[o,s]=Jm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(o,s,u);if(!this.Re(h))return!1}return!0}static create(e,n,o){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Cf(u,s,n);return o.forEach(p=>h.insert(p)),h}insert(e){if(this.Ee===0)return;const n=Ym(e),[o,s]=Jm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(o,s,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,o,s,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const s=new Map;return s.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new $u(Te.min(),s,new rt(De),Ir(),ke())}}class xa{constructor(e,n,o,s,u){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new xa(o,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,o,s){this.me=e,this.removedTargetIds=n,this.key=o,this.fe=s}}class Ky{constructor(e,n){this.targetId=e,this.ge=n}}class Qy{constructor(e,n,o=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=s}}class Zm{constructor(){this.pe=0,this.ye=eg(),this.we=Nt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ke(),n=ke(),o=ke();return this.ye.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:o=o.add(s);break;default:Ee()}}),new xa(this.we,this.be,e,n,o)}Me(){this.Se=!1,this.ye=eg()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class ZT{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ir(),this.$e=eu(),this.Ke=eu(),this.Ue=new rt(De)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const o=this.He(n);switch(e.state){case 0:this.Je(n)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(n);break;case 3:this.Je(n)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),o.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((o,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,o=e.ge.count,s=this.Xe(n);if(s){const u=s.target;if(Gh(u))if(o===0){const h=new ve(u.path);this.ze(n,h,Ut.newNoDocument(h,Te.min()))}else $e(o===1);else{const h=this.et(n);if(h!==o){const p=this.tt(e),g=p?this.nt(p,e,h):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:u=0}=n;let h,p;try{h=oi(o).toUint8Array()}catch(g){if(g instanceof _y)return Go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Cf(h,s,u)}catch(g){return Go(g instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ee===0?null:p}nt(e,n,o){return n.ge.count===o-this.st(e,n.targetId)?0:2}st(e,n){const o=this.ke.getRemoteKeysForTarget(n);let s=0;return o.forEach(u=>{const h=this.ke.it(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const p=this.Xe(h);if(p){if(u.current&&Gh(p.target)){const g=new ve(p.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ut.newNoDocument(g,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let o=ke();this.Ke.forEach((u,h)=>{let p=!0;h.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(o=o.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const s=new $u(e,n,this.Ue,this.Qe,o);return this.Qe=Ir(),this.$e=eu(),this.Ke=eu(),this.Ue=new rt(De),s}Ge(e,n){if(!this.Je(e))return;const o=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,o),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,o){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),o&&(this.Qe=this.Qe.insert(n,o))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Zm,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new vt(De),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new vt(De),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Zm),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function eu(){return new rt(ve.comparator)}function eg(){return new rt(ve.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class rI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yh(i,e){return i.useProto3Json||Mu(e)?e:{value:e}}function Su(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function iI(i,e){return Su(i,e.toTimestamp())}function Gn(i){return $e(!!i),Te.fromTimestamp(function(n){const o=ii(n);return new _t(o.seconds,o.nanos)}(i))}function Rf(i,e){return Jh(i,e).canonicalString()}function Jh(i,e){const n=function(s){return new et(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Xy(i){const e=et.fromString(i);return $e(t_(e)),e}function Zh(i,e){return Rf(i.databaseId,e.path)}function Dh(i,e){const n=Xy(e);if(n.get(1)!==i.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Jy(n))}function Yy(i,e){return Rf(i.databaseId,e)}function oI(i){const e=Xy(i);return e.length===4?et.emptyPath():Jy(e)}function ef(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Jy(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function tg(i,e,n){return{name:Zh(i,e),fields:n.value.mapValue.fields}}function sI(i,e){let n;if("targetChange"in e){e.targetChange;const o=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?($e(E===void 0||typeof E=="string"),Nt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Nt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(_){const E=_.code===void 0?J.UNKNOWN:qy(_.code);return new me(E,_.message||"")}(h);n=new Qy(o,s,u,p||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Dh(i,o.document.name),u=Gn(o.document.updateTime),h=o.document.createTime?Gn(o.document.createTime):Te.min(),p=new _n({mapValue:{fields:o.document.fields}}),g=Ut.newFoundDocument(s,u,h,p),_=o.targetIds||[],E=o.removedTargetIds||[];n=new lu(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Dh(i,o.document),u=o.readTime?Gn(o.readTime):Te.min(),h=Ut.newNoDocument(s,u),p=o.removedTargetIds||[];n=new lu([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Dh(i,o.document),u=o.removedTargetIds||[];n=new lu([],u,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:u}=o,h=new GT(s,u),p=o.targetId;n=new Ky(p,h)}}return n}function aI(i,e){let n;if(e instanceof ka)n={update:tg(i,e.key,e.value)};else if(e instanceof Wy)n={delete:Zh(i,e.key)};else if(e instanceof Ki)n={update:tg(i,e.key,e.data),updateMask:gI(e.fieldMask)};else{if(!(e instanceof qT))return Ee();n={verify:Zh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const p=h.transform;if(p instanceof Tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ta)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Iu)return{fieldPath:h.field.canonicalString(),increment:p.Ie};throw Ee()}(0,o))),e.precondition.isNone||(n.currentDocument=function(s,u){return u.updateTime!==void 0?{updateTime:iI(s,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(i,e.precondition)),n}function lI(i,e){return i&&i.length>0?($e(e!==void 0),i.map(n=>function(s,u){let h=s.updateTime?Gn(s.updateTime):Gn(u);return h.isEqual(Te.min())&&(h=Gn(u)),new $T(h,s.transformResults||[])}(n,e))):[]}function uI(i,e){return{documents:[Yy(i,e.path)]}}function cI(i,e){const n={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=Yy(i,s);const u=function(_){if(_.length!==0)return e_(Jn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(E=>function(R){return{field:Ho(R.field),direction:dI(R.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Yh(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:s}}function hI(i){let e=oI(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let s=null;if(o>0){$e(o===1);const E=n.from[0];E.allDescendants?s=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const R=Zy(I);return R instanceof Jn&&ky(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(I){return I.map(R=>function(M){return new wu(Wo(M.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(R))}(n.orderBy));let p=null;n.limit&&(p=function(I){let R;return R=typeof I=="object"?I.value:I,Mu(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(I){const R=!!I.before,V=I.values||[];return new Eu(V,R)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const R=!I.before,V=I.values||[];return new Eu(V,R)}(n.endAt)),kT(e,s,h,u,p,"F",g,_)}function fI(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Wo(n.unaryFilter.field);return gt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Wo(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wo(n.unaryFilter.field);return gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Wo(n.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return gt.create(Wo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(o=>Zy(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function dI(i){return eI[i]}function pI(i){return tI[i]}function mI(i){return nI[i]}function Ho(i){return{fieldPath:i.canonicalString()}}function Wo(i){return Dt.fromServerFormat(i.fieldPath)}function e_(i){return i instanceof gt?function(n){if(n.op==="=="){if(Bm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(jm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(jm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:pI(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const o=n.getFilters().map(s=>e_(s));return o.length===1?o[0]:{compositeFilter:{op:mI(n.op),filters:o}}}(i):Ee()}function gI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function t_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,o,s,u=Te.min(),h=Te.min(),p=Nt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Tt=e}}function _I(i){const e=hI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Tn=new EI}addToCollectionParentIndex(e,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ri.min())}updateCollectionGroup(e,n,o){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class EI{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n]||new vt(et.comparator),u=!s.has(o);return this.index[n]=s.add(o),u}has(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n];return s&&s.has(o)}getEntries(e){return(this.index[e]||new vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n_=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(n_,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Zo(0)}static Un(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LruGarbageCollector",wI=1048576;function ig([i,e],[n,o]){const s=De(i,n);return s===0?De(e,o):s}class TI{constructor(e){this.Hn=e,this.buffer=new vt(ig),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();ig(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){se(rg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ss(n)?se(rg,"Ignoring IndexedDB error during garbage collection: ",n):await os(n)}await this.er(3e5)})}}class SI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Ou.ae);const o=new TI(n);return this.tr.forEachTarget(e,s=>o.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>o.Zn(s))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.tr.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(ng)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ng):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let o,s,u,h,p,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),s=this.params.maximumSequenceNumbersToCollect):s=I,h=Date.now(),this.nthSequenceNumber(e,s))).next(I=>(o=I,p=Date.now(),this.removeTargets(e,o,n))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(I=>(_=Date.now(),Bo()<=Oe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${s} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:I})))}}function AI(i,e){return new SI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?Q.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,o,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(o!==null&&fa(o.mutation,s,On.empty(),_t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,ke()).next(()=>o))}getLocalViewOfDocuments(e,n,o=ke()){const s=Fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,o).next(u=>{let h=sa();return u.forEach((p,g)=>{h=h.insert(p,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const o=Fi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,ke()))}populateOverlays(e,n,o){const s=[];return o.forEach(u=>{n.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,p)=>{n.set(h,p)})})}computeViews(e,n,o,s){let u=Ir();const h=ha(),p=function(){return ha()}();return n.forEach((g,_)=>{const E=o.get(_.key);s.has(_.key)&&(E===void 0||E.mutation instanceof Ki)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),fa(E.mutation,_,E.mutation.getFieldMask(),_t.now())):h.set(_.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,E)=>h.set(_,E)),n.forEach((_,E)=>{var I;return p.set(_,new RI(E,(I=h.get(_))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(e,n){const o=ha();let s=new rt((h,p)=>h-p),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const p of h)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=o.get(g)||On.empty();E=p.applyToLocalView(_,E),o.set(g,E);const I=(s.get(p.batchId)||ke()).add(g);s=s.insert(p.batchId,I)})}).next(()=>{const h=[],p=s.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,E=g.value,I=by();E.forEach(R=>{if(!u.has(R)){const V=$y(n.get(R),o.get(R));V!==null&&I.set(R,V),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,I))}return Q.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,s){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,s):this.getDocumentsMatchingCollectionQuery(e,n,o,s)}getNextDocuments(e,n,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,s-u.size):Q.resolve(Fi());let p=ya,g=u;return h.next(_=>Q.forEach(_,(E,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,ke())).next(E=>({batchId:p,changes:My(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(o=>{let s=sa();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,o,s){const u=n.collectionGroup;let h=sa();return this.indexManager.getCollectionParents(e,u).next(p=>Q.forEach(p,g=>{const _=function(I,R){return new Fu(R,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,o,s).next(E=>{E.forEach((I,R)=>{h=h.insert(I,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,o,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u,s))).next(h=>{u.forEach((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,Ut.newInvalidDocument(E)))});let p=sa();return h.forEach((g,_)=>{const E=u.get(g);E!==void 0&&fa(E.mutation,_,On.empty(),_t.now()),zu(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gn(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:_I(s.bundledQuery),readTime:Gn(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new rt(ve.comparator),this.Rr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Fi();return Q.forEach(n,s=>this.getOverlay(e,s).next(u=>{u!==null&&o.set(s,u)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((s,u)=>{this.Et(e,n,u)}),Q.resolve()}removeOverlaysForBatchId(e,n,o){const s=this.Rr.get(o);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(o)),Q.resolve()}getOverlaysForCollection(e,n,o){const s=Fi(),u=n.length+1,h=new ve(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>o&&s.set(g.getKey(),g)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,o,s){let u=new rt((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>o){let E=u.get(_.largestBatchId);E===null&&(E=Fi(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Fi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>p.set(_,E)),!(p.size()>=s)););return Q.resolve(p)}Et(e,n,o){const s=this.overlays.get(o.key);if(s!==null){const h=this.Rr.get(s.largestBatchId).delete(o.key);this.Rr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new QT(n,o));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.Vr=new vt(At.mr),this.gr=new vt(At.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const o=new At(e,n);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.wr(new At(e,n))}br(e,n){e.forEach(o=>this.removeReference(o,n))}Sr(e){const n=new ve(new et([])),o=new At(n,e),s=new At(n,e+1),u=[];return this.gr.forEachInRange([o,s],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new et([])),o=new At(n,e),s=new At(n,e+1);let u=ke();return this.gr.forEachInRange([o,s],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new At(e,0),o=this.Vr.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class At{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||De(e.Cr,n.Cr)}static pr(e,n){return De(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new vt(At.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,s){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new KT(u,n,o,s);this.mutationQueue.push(h);for(const p of s)this.Mr=this.Mr.add(new At(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,s=this.Nr(o),u=s<0?0:s;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?_f:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new At(n,0),s=new At(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([o,s],h=>{const p=this.Or(h.Cr);u.push(p)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new vt(De);return n.forEach(s=>{const u=new At(s,0),h=new At(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],p=>{o=o.add(p.Cr)})}),Q.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,s=o.length+1;let u=o;ve.isDocumentKey(u)||(u=u.child(""));const h=new At(new ve(u),0);let p=new vt(De);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!o.isPrefixOf(_)&&(_.length===s&&(p=p.add(g.Cr)),!0)},h),Q.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(o=>{const s=this.Or(o);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Mr;return Q.forEach(n.mutations,s=>{const u=new At(s.key,n.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,n){const o=new At(n,0),s=this.Mr.firstAfterOrEqual(o);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.kr=e,this.docs=function(){return new rt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,s=this.docs.get(o),u=s?s.size:0,h=this.kr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Q.resolve(o?o.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let o=Ir();return n.forEach(s=>{const u=this.docs.get(s);o=o.insert(s,u?u.document.mutableCopy():Ut.newInvalidDocument(s))}),Q.resolve(o)}getDocumentsMatchingQuery(e,n,o,s){let u=Ir();const h=n.path,p=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||lT(aT(E),o)<=0||(s.has(E.key)||zu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,n,o,s){Ee()}qr(e,n){return Q.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new LI(this)}getSize(e){return Q.resolve(this.size)}}class LI extends CI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(o)}),Q.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.persistence=e,this.Qr=new qi(n=>wf(n),Tf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Pf,this.targetCount=0,this.Ur=Zo.Kn()}forEachTarget(e,n){return this.Qr.forEach((o,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$r&&(this.$r=n),Q.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.zn(n),Q.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,o){let s=0;const u=[];return this.Qr.forEach((h,p)=>{p.sequenceNumber<=n&&o.get(p.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),Q.waitFor(u).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const o=this.Qr.get(n)||null;return Q.resolve(o)}addMatchingKeys(e,n,o){return this.Kr.yr(n,o),Q.resolve()}removeMatchingKeys(e,n,o){this.Kr.br(n,o);const s=this.persistence.referenceDelegate,u=[];return s&&n.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Kr.vr(n);return Q.resolve(o)}containsKey(e,n){return Q.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ou(0),this.zr=!1,this.zr=!0,this.jr=new DI,this.referenceDelegate=e(this),this.Hr=new OI(this),this.indexManager=new vI,this.remoteDocumentCache=function(s){return new VI(s)}(o=>this.referenceDelegate.Jr(o)),this.serializer=new yI(n),this.Yr=new kI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Wr[e.toKey()];return o||(o=new NI(n,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,o){se("MemoryPersistence","Starting transaction:",e);const s=new MI(this.Gr.next());return this.referenceDelegate.Zr(),o(s).next(u=>this.referenceDelegate.Xr(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}ei(e,n){return Q.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,n)))}}class MI extends cT{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.ti=new Pf,this.ni=null}static ri(e){return new kf(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,o){return this.ti.addReference(o,n),this.ii.delete(o.toString()),Q.resolve()}removeReference(e,n,o){return this.ti.removeReference(o,n),this.ii.add(o.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(u=>this.ii.add(u.toString()))}).next(()=>o.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,o=>{const s=ve.fromPath(o);return this.si(e,s).next(u=>{u||n.removeEntry(s,Te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(o=>{o?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Au{constructor(e,n){this.persistence=e,this.oi=new qi(o=>dT(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=AI(this,n)}static ri(e,n){return new Au(e,n)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(s=>o+s))}sr(e){let n=0;return this.rr(e,o=>{n++}).next(()=>n)}rr(e,n){return Q.forEach(this.oi,(o,s)=>this.ar(e,o,s).next(u=>u?Q.resolve():n(s)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.qr(e,h=>this.ar(e,h,n).next(p=>{p||(o++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Q.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ou(e.data.value)),n}ar(e,n,o){return Q.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return Q.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,o,s){this.targetId=e,this.fromCache=n,this.Hi=o,this.Ji=s}static Yi(e,n){let o=ke(),s=ke();for(const u of n.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new xf(e,n.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return NE()?8:hT(xE())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,o,s){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,s,o).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new bI;return this._s(e,n,h).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,h,p.size)})}).next(()=>u.result)}us(e,n,o,s){return o.documentReadCount<this.es?(Bo()<=Oe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Bo()<=Oe.DEBUG&&se("QueryEngine","Query:",$o(n),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.ts*s?(Bo()<=Oe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):Q.resolve())}rs(e,n){if(qm(n))return Q.resolve(null);let o=Qn(n);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xh(n,null,"F"),o=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=ke(...u);return this.ns.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,o).next(g=>{const _=this.cs(n,p);return this.ls(n,_,h,g.readTime)?this.rs(e,Xh(n,null,"F")):this.hs(e,_,n,g)}))})))}ss(e,n,o,s){return qm(n)||s.isEqual(Te.min())?Q.resolve(null):this.ns.getDocuments(e,o).next(u=>{const h=this.cs(n,u);return this.ls(n,h,o,s)?Q.resolve(null):(Bo()<=Oe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$o(n)),this.hs(e,h,n,sT(s,ya)).next(p=>p))})}cs(e,n){let o=new vt(Ly(e));return n.forEach((s,u)=>{zu(e,u)&&(o=o.add(u))}),o}ls(e,n,o,s){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}_s(e,n,o){return Bo()<=Oe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",$o(n)),this.ns.getDocumentsMatchingQuery(e,n,ri.min(),o)}hs(e,n,o,s){return this.ns.getDocumentsMatchingQuery(e,o,s).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="LocalStore",UI=3e8;class zI{constructor(e,n,o,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new rt(De),this.Is=new qi(u=>wf(u),Tf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function jI(i,e,n,o){return new zI(i,e,n,o)}async function i_(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let s;return n.mutationQueue.getAllMutationBatches(o).next(u=>(s=u,n.As(e),n.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],p=[];let g=ke();for(const _ of s){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(o,g).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:p}))})})}function BI(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,g,_,E){const I=_.batch,R=I.keys();let V=Q.resolve();return R.forEach(M=>{V=V.next(()=>E.getEntry(g,M)).next(z=>{const O=_.docVersions.get(M);$e(O!==null),z.version.compareTo(O)<0&&(I.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),E.addEntry(z)))})}),V.next(()=>p.mutationQueue.removeMutationBatch(g,I))}(n,o,e,u).next(()=>u.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let g=ke();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(o,s))})}function o_(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function $I(i,e){const n=Se(i),o=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const p=[];e.targetChanges.forEach((E,I)=>{const R=s.get(I);if(!R)return;p.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,I)));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?V=V.withResumeToken(Nt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,o)),s=s.insert(I,V),function(z,O,j){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=UI?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(R,V,E)&&p.push(n.Hr.updateTargetData(u,V))});let g=Ir(),_=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(HI(u,h,e.documentUpdates).next(E=>{g=E.Vs,_=E.fs})),!o.isEqual(Te.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(I=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,o));p.push(E)}return Q.waitFor(p).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.Ts=s,u))}function HI(i,e,n){let o=ke(),s=ke();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=Ir();return n.forEach((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(s=s.add(p)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):se(Df,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{Vs:h,fs:s}})}function WI(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=_f),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function qI(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return n.Hr.getTargetData(o,e).next(u=>u?(s=u,Q.resolve(s)):n.Hr.allocateTargetId(o).next(h=>(s=new Xr(e,h,"TargetPurposeListen",o.currentSequenceNumber),n.Hr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=n.Ts.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(o.targetId,o),n.Is.set(e,o.targetId)),o})}async function tf(i,e,n){const o=Se(i),s=o.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!ss(h))throw h;se(Df,`Failed to update sequence numbers for target ${e}: ${h}`)}o.Ts=o.Ts.remove(e),o.Is.delete(s.target)}function og(i,e,n){const o=Se(i);let s=Te.min(),u=ke();return o.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,E){const I=Se(g),R=I.Is.get(E);return R!==void 0?Q.resolve(I.Ts.get(R)):I.Hr.getTargetData(_,E)}(o,h,Qn(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(h,p.targetId).next(g=>{u=g})}).next(()=>o.Ps.getDocumentsMatchingQuery(h,e,n?s:Te.min(),n?u:ke())).next(p=>(KI(o,NT(e),p),{documents:p,gs:u})))}function KI(i,e,n){let o=i.Es.get(e)||Te.min();n.forEach((s,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),i.Es.set(e,o)}class sg{constructor(){this.activeTargetIds=FT()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QI{constructor(){this.ho=new sg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,o){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sg,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="ConnectivityMonitor";class lg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){se(ag,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){se(ag,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function nf(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${o}/databases/${s}`,this.wo=this.databaseId.database===_u?`project_id=${o}`:`project_id=${o}&database_id=${s}`}bo(e,n,o,s,u){const h=nf(),p=this.So(e,n.toUriEncodedString());se(Nh,`Sending RPC '${e}' ${h}:`,p,o);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,s,u),this.vo(e,p,g,o).then(_=>(se(Nh,`Received RPC '${e}' ${h}: `,_),_),_=>{throw Go(Nh,`RPC '${e}' ${h} failed with error: `,_,"url: ",p,"request:",o),_})}Co(e,n,o,s,u,h){return this.bo(e,n,o,s,u)}Do(e,n,o){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,u)=>e[u]=s),o&&o.headers.forEach((s,u)=>e[u]=s)}So(e,n){const o=XI[e];return`${this.po}/v1/${n}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class ZI extends YI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,o,s){const u=nf();return new Promise((h,p)=>{const g=new uy;g.setWithCredentials(!0),g.listenOnce(cy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case iu.NO_ERROR:const E=g.getResponseJson();se(bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case iu.TIMEOUT:se(bt,`RPC '${e}' ${u} timed out`),p(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:const I=g.getStatus();if(se(bt,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R==null?void 0:R.error;if(V&&V.status&&V.message){const M=function(O){const j=O.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(j)>=0?j:J.UNKNOWN}(V.status);p(new me(M,V.message))}else p(new me(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{se(bt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(s);se(bt,`RPC '${e}' ${u} sending request:`,s),g.send(n,"POST",_,o,15)})}Wo(e,n,o){const s=nf(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=dy(),p=fy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,o),g.encodeInitMessageHeaders=!0;const E=u.join("");se(bt,`Creating RPC '${e}' stream ${s}: ${E}`,g);const I=h.createWebChannel(E,g);let R=!1,V=!1;const M=new JI({Fo:O=>{V?se(bt,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(R||(se(bt,`Opening RPC '${e}' stream ${s} transport.`),I.open(),R=!0),se(bt,`RPC '${e}' stream ${s} sending:`,O),I.send(O))},Mo:()=>I.close()}),z=(O,j,q)=>{O.listen(j,K=>{try{q(K)}catch(ee){setTimeout(()=>{throw ee},0)}})};return z(I,oa.EventType.OPEN,()=>{V||(se(bt,`RPC '${e}' stream ${s} transport opened.`),M.Qo())}),z(I,oa.EventType.CLOSE,()=>{V||(V=!0,se(bt,`RPC '${e}' stream ${s} transport closed`),M.Ko())}),z(I,oa.EventType.ERROR,O=>{V||(V=!0,Go(bt,`RPC '${e}' stream ${s} transport errored:`,O),M.Ko(new me(J.UNAVAILABLE,"The operation could not be completed")))}),z(I,oa.EventType.MESSAGE,O=>{var j;if(!V){const q=O.data[0];$e(!!q);const K=q,ee=(K==null?void 0:K.error)||((j=K[0])===null||j===void 0?void 0:j.error);if(ee){se(bt,`RPC '${e}' stream ${s} received error:`,ee);const le=ee.status;let he=function(S){const k=ct[S];if(k!==void 0)return qy(k)}(le),P=ee.message;he===void 0&&(he=J.INTERNAL,P="Unknown error status: "+le+" with message "+ee.message),V=!0,M.Ko(new me(he,P)),I.close()}else se(bt,`RPC '${e}' stream ${s} received:`,q),M.Uo(q)}}),z(p,hy.STAT_EVENT,O=>{O.stat===Wh.PROXY?se(bt,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===Wh.NOPROXY&&se(bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Vh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(i){return new rI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,o=1e3,s=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=o,this.zo=s,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-o);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="PersistentStream";class a_{constructor(e,n,o,s,u,h,p,g){this.Ti=e,this.n_=o,this.r_=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new s_(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.i_===n&&this.V_(o,s)},o=>{e(()=>{const s=new me(J.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(s)})})}V_(e,n){const o=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{o(()=>this.m_(s))}),this.stream.onMessage(s=>{o(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return se(ug,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(se(ug,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eS extends a_{constructor(e,n,o,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,s,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=sI(this.serializer,e),o=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Gn(h.readTime):Te.min()}(e);return this.listener.p_(n,o)}y_(e){const n={};n.database=ef(this.serializer),n.addTarget=function(u,h){let p;const g=h.target;if(p=Gh(g)?{documents:uI(u,g)}:{query:cI(u,g).ht},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=Gy(u,h.resumeToken);const _=Yh(u,h.expectedCount);_!==null&&(p.expectedCount=_)}else if(h.snapshotVersion.compareTo(Te.min())>0){p.readTime=Su(u,h.snapshotVersion.toTimestamp());const _=Yh(u,h.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const o=fI(this.serializer,e);o&&(n.labels=o),this.I_(n)}w_(e){const n={};n.database=ef(this.serializer),n.removeTarget=e,this.I_(n)}}class tS extends a_{constructor(e,n,o,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,s,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=lI(e.writeResults,e.commitTime),o=Gn(e.commitTime);return this.listener.v_(o,n)}C_(){const e={};e.database=ef(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>aI(this.serializer,o))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{}class rS extends nS{constructor(e,n,o,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,o,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Jh(n,o),s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(J.UNKNOWN,u.toString())})}Co(e,n,o,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Co(e,Jh(n,o),s,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Tr(n),this.N_=!1):se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="RemoteStore";class oS{constructor(e,n,o,s,u){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{o.enqueueAndForget(async()=>{Qi(this)&&(se($i,"Restarting streams for network reachability change."),await async function(g){const _=Se(g);_.W_.add(4),await Da(_),_.j_.set("Unknown"),_.W_.delete(4),await Wu(_)}(this))})}),this.j_=new iS(o,s)}}async function Wu(i){if(Qi(i))for(const e of i.G_)await e(!0)}async function Da(i){for(const e of i.G_)await e(!1)}function l_(i,e){const n=Se(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Of(n)?Lf(n):as(n).c_()&&Vf(n,e))}function Nf(i,e){const n=Se(i),o=as(n);n.U_.delete(e),o.c_()&&u_(n,e),n.U_.size===0&&(o.c_()?o.P_():Qi(n)&&n.j_.set("Unknown"))}function Vf(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}as(i).y_(e)}function u_(i,e){i.H_.Ne(e),as(i).w_(e)}function Lf(i){i.H_=new ZT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),as(i).start(),i.j_.B_()}function Of(i){return Qi(i)&&!as(i).u_()&&i.U_.size>0}function Qi(i){return Se(i).W_.size===0}function c_(i){i.H_=void 0}async function sS(i){i.j_.set("Online")}async function aS(i){i.U_.forEach((e,n)=>{Vf(i,e)})}async function lS(i,e){c_(i),Of(i)?(i.j_.q_(e),Lf(i)):i.j_.set("Unknown")}async function uS(i,e,n){if(i.j_.set("Online"),e instanceof Qy&&e.state===2&&e.cause)try{await async function(s,u){const h=u.cause;for(const p of u.targetIds)s.U_.has(p)&&(await s.remoteSyncer.rejectListen(p,h),s.U_.delete(p),s.H_.removeTarget(p))}(i,e)}catch(o){se($i,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Cu(i,o)}else if(e instanceof lu?i.H_.We(e):e instanceof Ky?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Te.min()))try{const o=await o_(i.localStore);n.compareTo(o)>=0&&await function(u,h){const p=u.H_.ot(h);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(_);E&&u.U_.set(_,E.withResumeToken(g.resumeToken,h))}}),p.targetMismatches.forEach((g,_)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(Nt.EMPTY_BYTE_STRING,E.snapshotVersion)),u_(u,g);const I=new Xr(E.target,g,_,E.sequenceNumber);Vf(u,I)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n)}catch(o){se($i,"Failed to raise snapshot:",o),await Cu(i,o)}}async function Cu(i,e,n){if(!ss(e))throw e;i.W_.add(1),await Da(i),i.j_.set("Offline"),n||(n=()=>o_(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se($i,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Wu(i)})}function h_(i,e){return e().catch(n=>Cu(i,n,e))}async function qu(i){const e=Se(i),n=ai(e);let o=e.K_.length>0?e.K_[e.K_.length-1].batchId:_f;for(;cS(e);)try{const s=await WI(e.localStore,o);if(s===null){e.K_.length===0&&n.P_();break}o=s.batchId,hS(e,s)}catch(s){await Cu(e,s)}f_(e)&&d_(e)}function cS(i){return Qi(i)&&i.K_.length<10}function hS(i,e){i.K_.push(e);const n=ai(i);n.c_()&&n.b_&&n.S_(e.mutations)}function f_(i){return Qi(i)&&!ai(i).u_()&&i.K_.length>0}function d_(i){ai(i).start()}async function fS(i){ai(i).C_()}async function dS(i){const e=ai(i);for(const n of i.K_)e.S_(n.mutations)}async function pS(i,e,n){const o=i.K_.shift(),s=Af.from(o,e,n);await h_(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await qu(i)}async function mS(i,e){e&&ai(i).b_&&await async function(o,s){if(function(h){return XT(h)&&h!==J.ABORTED}(s.code)){const u=o.K_.shift();ai(o).h_(),await h_(o,()=>o.remoteSyncer.rejectFailedWrite(u.batchId,s)),await qu(o)}}(i,e),f_(i)&&d_(i)}async function cg(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),se($i,"RemoteStore received new credentials");const o=Qi(n);n.W_.add(3),await Da(n),o&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Wu(n)}async function gS(i,e){const n=Se(i);e?(n.W_.delete(2),await Wu(n)):e||(n.W_.add(2),await Da(n),n.j_.set("Unknown"))}function as(i){return i.J_||(i.J_=function(n,o,s){const u=Se(n);return u.M_(),new eS(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{xo:sS.bind(null,i),No:aS.bind(null,i),Lo:lS.bind(null,i),p_:uS.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Of(i)?Lf(i):i.j_.set("Unknown")):(await i.J_.stop(),c_(i))})),i.J_}function ai(i){return i.Y_||(i.Y_=function(n,o,s){const u=Se(n);return u.M_(),new tS(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:fS.bind(null,i),Lo:mS.bind(null,i),D_:dS.bind(null,i),v_:pS.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await qu(i)):(await i.Y_.stop(),i.K_.length>0&&(se($i,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,o,s,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=s,this.removalCallback=u,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,s,u){const h=Date.now()+o,p=new Mf(e,n,h,s,u);return p.start(o),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bf(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),ss(i))return new me(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||ve.comparator(n.key,o.key):(n,o)=>ve.comparator(n.key,o.key),this.keyedMap=sa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=o.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new Ko;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Z_=new rt(ve.comparator)}track(e){const n=e.doc.key,o=this.Z_.get(n);o?e.type!==0&&o.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&o.type!==1?this.Z_=this.Z_.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Z_=this.Z_.remove(n):e.type===1&&o.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class es{constructor(e,n,o,s,u,h,p,g,_){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,o,s,u){const h=[];return n.forEach(p=>{h.push({type:0,doc:p})}),new es(e,n,Ko.emptySet(n),h,o,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==o[s].type||!n[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _S{constructor(){this.queries=fg(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,o){const s=Se(n),u=s.queries;s.queries=fg(),u.forEach((h,p)=>{for(const g of p.ta)g.onError(o)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function fg(){return new qi(i=>Vy(i),Uu)}async function p_(i,e){const n=Se(i);let o=3;const s=e.query;let u=n.queries.get(s);u?!u.na()&&e.ra()&&(o=2):(u=new yS,o=e.ra()?0:1);try{switch(o){case 0:u.ea=await n.onListen(s,!0);break;case 1:u.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(h){const p=bf(h,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(p)}n.queries.set(s,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Ff(n)}async function m_(i,e){const n=Se(i),o=e.query;let s=3;const u=n.queries.get(o);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?s=e.ra()?0:1:!u.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function vS(i,e){const n=Se(i);let o=!1;for(const s of e){const u=s.query,h=n.queries.get(u);if(h){for(const p of h.ta)p.oa(s)&&(o=!0);h.ea=s}}o&&Ff(n)}function ES(i,e,n){const o=Se(i),s=o.queries.get(e);if(s)for(const u of s.ta)u.onError(n);o.queries.delete(e)}function Ff(i){i.ia.forEach(e=>{e.next()})}var rf,dg;(dg=rf||(rf={}))._a="default",dg.Cache="cache";class g_{constructor(e,n,o){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new es(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const o=n!=="Offline";return(!this.options.Ta||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.key=e}}class __{constructor(e){this.key=e}}class wS{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=Ly(e),this.wa=new Ko(this.ya)}get ba(){return this.fa}Sa(e,n){const o=n?n.Da:new hg,s=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=s,p=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,_=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((E,I)=>{const R=s.get(E),V=zu(this.query,I)?I:null,M=!!R&&this.mutatedKeys.has(R.key),z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let O=!1;R&&V?R.data.isEqual(V.data)?M!==z&&(o.track({type:3,doc:V}),O=!0):this.va(R,V)||(o.track({type:2,doc:V}),O=!0,(g&&this.ya(V,g)>0||_&&this.ya(V,_)<0)&&(p=!0)):!R&&V?(o.track({type:0,doc:V}),O=!0):R&&!V&&(o.track({type:1,doc:R}),O=!0,(g||_)&&(p=!0)),O&&(V?(h=h.add(V),u=z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),o.track({type:1,doc:E})}return{wa:h,Da:o,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,s){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,I)=>function(V,M){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return z(V)-z(M)}(E.type,I.type)||this.ya(E.doc,I.doc)),this.Ca(o),s=s!=null&&s;const p=n&&!s?this.Fa():[],g=this.pa.size===0&&this.current&&!s?1:0,_=g!==this.ga;return this.ga=g,h.length!==0||_?{snapshot:new es(this.query,e.wa,u,h,e.mutatedKeys,g===0,_,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new hg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const n=[];return e.forEach(o=>{this.pa.has(o)||n.push(new __(o))}),this.pa.forEach(o=>{e.has(o)||n.push(new y_(o))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return es.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Uf="SyncEngine";class TS{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class IS{constructor(e){this.key=e,this.Ba=!1}}class SS{constructor(e,n,o,s,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new qi(p=>Vy(p),Uu),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ve.comparator),this.Ka=new Map,this.Ua=new Pf,this.Wa={},this.Ga=new Map,this.za=Zo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AS(i,e,n=!0){const o=S_(i);let s;const u=o.ka.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.Na()):s=await v_(o,e,n,!0),s}async function CS(i,e){const n=S_(i);await v_(n,e,!0,!1)}async function v_(i,e,n,o){const s=await qI(i.localStore,Qn(e)),u=s.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return o&&(p=await RS(i,e,u,h==="current",s.resumeToken)),i.isPrimaryClient&&n&&l_(i.remoteStore,s),p}async function RS(i,e,n,o,s){i.Ha=(I,R,V)=>async function(z,O,j,q){let K=O.view.Sa(j);K.ls&&(K=await og(z.localStore,O.query,!1).then(({documents:P})=>O.view.Sa(P,K)));const ee=q&&q.targetChanges.get(O.targetId),le=q&&q.targetMismatches.get(O.targetId)!=null,he=O.view.applyChanges(K,z.isPrimaryClient,ee,le);return mg(z,O.targetId,he.Ma),he.snapshot}(i,I,R,V);const u=await og(i.localStore,e,!0),h=new wS(e,u.gs),p=h.Sa(u.documents),g=xa.createSynthesizedTargetChangeForCurrentChange(n,o&&i.onlineState!=="Offline",s),_=h.applyChanges(p,i.isPrimaryClient,g);mg(i,n,_.Ma);const E=new TS(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),_.snapshot}async function PS(i,e,n){const o=Se(i),s=o.ka.get(e),u=o.qa.get(s.targetId);if(u.length>1)return o.qa.set(s.targetId,u.filter(h=>!Uu(h,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await tf(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),n&&Nf(o.remoteStore,s.targetId),of(o,s.targetId)}).catch(os)):(of(o,s.targetId),await tf(o.localStore,s.targetId,!0))}async function kS(i,e){const n=Se(i),o=n.ka.get(e),s=n.qa.get(o.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Nf(n.remoteStore,o.targetId))}async function xS(i,e,n){const o=bS(i);try{const s=await function(h,p){const g=Se(h),_=_t.now(),E=p.reduce((V,M)=>V.add(M.key),ke());let I,R;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let M=Ir(),z=ke();return g.ds.getEntries(V,E).next(O=>{M=O,M.forEach((j,q)=>{q.isValidDocument()||(z=z.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,M)).next(O=>{I=O;const j=[];for(const q of p){const K=WT(q,I.get(q.key).overlayedDocument);K!=null&&j.push(new Ki(q.key,K,Cy(K.value.mapValue),vr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,_,j,p)}).next(O=>{R=O;const j=O.applyToLocalDocumentSet(I,z);return g.documentOverlayCache.saveOverlays(V,O.batchId,j)})}).then(()=>({batchId:R.batchId,changes:My(I)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(h,p,g){let _=h.Wa[h.currentUser.toKey()];_||(_=new rt(De)),_=_.insert(p,g),h.Wa[h.currentUser.toKey()]=_}(o,s.batchId,n),await Na(o,s.changes),await qu(o.remoteStore)}catch(s){const u=bf(s,"Failed to persist write");n.reject(u)}}async function E_(i,e){const n=Se(i);try{const o=await $I(n.localStore,e);e.targetChanges.forEach((s,u)=>{const h=n.Ka.get(u);h&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.Ba=!0:s.modifiedDocuments.size>0?$e(h.Ba):s.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await Na(n,o,e)}catch(o){await os(o)}}function pg(i,e,n){const o=Se(i);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const s=[];o.ka.forEach((u,h)=>{const p=h.view.sa(e);p.snapshot&&s.push(p.snapshot)}),function(h,p){const g=Se(h);g.onlineState=p;let _=!1;g.queries.forEach((E,I)=>{for(const R of I.ta)R.sa(p)&&(_=!0)}),_&&Ff(g)}(o.eventManager,e),s.length&&o.La.p_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function DS(i,e,n){const o=Se(i);o.sharedClientState.updateQueryState(e,"rejected",n);const s=o.Ka.get(e),u=s&&s.key;if(u){let h=new rt(ve.comparator);h=h.insert(u,Ut.newNoDocument(u,Te.min()));const p=ke().add(u),g=new $u(Te.min(),new Map,new rt(De),h,p);await E_(o,g),o.$a=o.$a.remove(u),o.Ka.delete(e),zf(o)}else await tf(o.localStore,e,!1).then(()=>of(o,e,n)).catch(os)}async function NS(i,e){const n=Se(i),o=e.batch.batchId;try{const s=await BI(n.localStore,e);T_(n,o,null),w_(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await Na(n,s)}catch(s){await os(s)}}async function VS(i,e,n){const o=Se(i);try{const s=await function(h,p){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,p).next(I=>($e(I!==null),E=I.keys(),g.mutationQueue.removeMutationBatch(_,I))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(o.localStore,e);T_(o,e,n),w_(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await Na(o,s)}catch(s){await os(s)}}function w_(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function T_(i,e,n){const o=Se(i);let s=o.Wa[o.currentUser.toKey()];if(s){const u=s.get(e);u&&(n?u.reject(n):u.resolve(),s=s.remove(e)),o.Wa[o.currentUser.toKey()]=s}}function of(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.qa.get(e))i.ka.delete(o),n&&i.La.Ja(o,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(o=>{i.Ua.containsKey(o)||I_(i,o)})}function I_(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Nf(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),zf(i))}function mg(i,e,n){for(const o of n)o instanceof y_?(i.Ua.addReference(o.key,e),LS(i,o)):o instanceof __?(se(Uf,"Document no longer in limbo: "+o.key),i.Ua.removeReference(o.key,e),i.Ua.containsKey(o.key)||I_(i,o.key)):Ee()}function LS(i,e){const n=e.key,o=n.path.canonicalString();i.$a.get(n)||i.Qa.has(o)||(se(Uf,"New document in limbo: "+n),i.Qa.add(o),zf(i))}function zf(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ve(et.fromString(e)),o=i.za.next();i.Ka.set(o,new IS(n)),i.$a=i.$a.insert(n,o),l_(i.remoteStore,new Xr(Qn(If(n.path)),o,"TargetPurposeLimboResolution",Ou.ae))}}async function Na(i,e,n){const o=Se(i),s=[],u=[],h=[];o.ka.isEmpty()||(o.ka.forEach((p,g)=>{h.push(o.Ha(g,e,n).then(_=>{var E;if((_||n)&&o.isPrimaryClient){const I=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;o.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(_){s.push(_);const I=xf.Yi(g.targetId,_);u.push(I)}}))}),await Promise.all(h),o.La.p_(s),await async function(g,_){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(_,R=>Q.forEach(R.Hi,V=>E.persistence.referenceDelegate.addReference(I,R.targetId,V)).next(()=>Q.forEach(R.Ji,V=>E.persistence.referenceDelegate.removeReference(I,R.targetId,V)))))}catch(I){if(!ss(I))throw I;se(Df,"Failed to update sequence numbers: "+I)}for(const I of _){const R=I.targetId;if(!I.fromCache){const V=E.Ts.get(R),M=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(R,z)}}}(o.localStore,u))}async function OS(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){se(Uf,"User change. New user:",e.toKey());const o=await i_(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(p=>{p.forEach(g=>{g.reject(new me(J.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Na(n,o.Rs)}}function MS(i,e){const n=Se(i),o=n.Ka.get(e);if(o&&o.Ba)return ke().add(o.key);{let s=ke();const u=n.qa.get(e);if(!u)return s;for(const h of u){const p=n.ka.get(h);s=s.unionWith(p.view.ba)}return s}}function S_(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=E_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DS.bind(null,e),e.La.p_=vS.bind(null,e.eventManager),e.La.Ja=ES.bind(null,e.eventManager),e}function bS(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VS.bind(null,e),e}class Ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return jI(this.persistence,new FI,e.initialUser,this.serializer)}Xa(e){return new r_(kf.ri,this.serializer)}Za(e){return new QI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ru.provider={build:()=>new Ru};class FS extends Ru{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Au);const o=this.persistence.referenceDelegate.garbageCollector;return new II(o,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new r_(o=>Au.ri(o,n),this.serializer)}}class sf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>pg(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=OS.bind(null,this.syncEngine),await gS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _S}()}createDatastore(e){const n=Hu(e.databaseInfo.databaseId),o=function(u){return new ZI(u)}(e.databaseInfo);return function(u,h,p,g){return new rS(u,h,p,g)}(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return function(o,s,u,h,p){return new oS(o,s,u,h,p)}(this.localStore,this.datastore,e.asyncQueue,n=>pg(this.syncEngine,n,0),function(){return lg.D()?new lg:new GI}())}createSyncEngine(e,n){return function(s,u,h,p,g,_,E){const I=new SS(s,u,h,p,g,_);return E&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const u=Se(s);se($i,"RemoteStore shutting down."),u.W_.add(5),await Da(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sf.provider={build:()=>new sf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class US{constructor(e,n,o,s,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=my.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,async h=>{se(li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(se(li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=bf(n,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Lh(i,e){i.asyncQueue.verifyOperationInProgress(),se(li,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(async s=>{o.isEqual(s)||(await i_(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function gg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await zS(i);se(li,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(o=>cg(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,s)=>cg(e.remoteStore,s)),i._onlineComponents=e}async function zS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se(li,"Using user provided OfflineComponentProvider");try{await Lh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Lh(i,new Ru)}}else se(li,"Using default OfflineComponentProvider"),await Lh(i,new FS(void 0));return i._offlineComponents}async function C_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se(li,"Using user provided OnlineComponentProvider"),await gg(i,i._uninitializedComponentsProvider._online)):(se(li,"Using default OnlineComponentProvider"),await gg(i,new sf))),i._onlineComponents}function jS(i){return C_(i).then(e=>e.syncEngine)}async function af(i){const e=await C_(i),n=e.eventManager;return n.onListen=AS.bind(null,e.syncEngine),n.onUnlisten=PS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kS.bind(null,e.syncEngine),n}function BS(i,e,n={}){const o=new ei;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,p,g,_){const E=new A_({next:R=>{E.su(),h.enqueueAndForget(()=>m_(u,I)),R.fromCache&&g.source==="server"?_.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),I=new g_(p,E,{includeMetadataChanges:!0,Ta:!0});return p_(u,I)}(await af(i),i.asyncQueue,e,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(i,e,n){if(!n)throw new me(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $S(i,e,n,o){if(e===!0&&o===!0)throw new me(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function _g(i){if(!ve.isDocumentKey(i))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vg(i){if(ve.isDocumentKey(i))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function zi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(i);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="firestore.googleapis.com",Eg=!0;class wg{constructor(e){var n,o;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k_,this.ssl=Eg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Eg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wI)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$S("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R_((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,n,o,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Jw;switch(o.type){case"firstParty":return new nT(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=yg.get(n);o&&(se("ComponentProvider","Removing Datastore"),yg.delete(n),o.terminate())}(this),Promise.resolve()}}function HS(i,e,n,o={}){var s;const u=(i=zi(i,Ku))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==k_&&u.host!==p&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:o});if(!pu(g,h)&&(i._setSettings(g),o.mockUserToken)){let _,E;if(typeof o.mockUserToken=="string")_=o.mockUserToken,E=Ft.MOCK_USER;else{_=kE(o.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const I=o.mockUserToken.sub||o.mockUserToken.user_id;if(!I)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ft(I)}i._authCredentials=new Zw(new py(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class vn{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ti extends Va{constructor(e,n,o){super(e,n,If(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ve(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function x_(i,e,...n){if(i=Qo(i),P_("collection","path",e),i instanceof Ku){const o=et.fromString(e,...n);return vg(o),new ti(i,null,o)}{if(!(i instanceof vn||i instanceof ti))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(et.fromString(e,...n));return vg(o),new ti(i.firestore,null,o)}}function WS(i,e,...n){if(i=Qo(i),arguments.length===1&&(e=my.newId()),P_("doc","path",e),i instanceof Ku){const o=et.fromString(e,...n);return _g(o),new vn(i,null,new ve(o))}{if(!(i instanceof vn||i instanceof ti))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(et.fromString(e,...n));return _g(o),new vn(i.firestore,i instanceof ti?i.converter:null,new ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="AsyncQueue";class Ig{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new s_(this,"async_queue_retry"),this.bu=()=>{const o=Vh();o&&se(Tg,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.Su=e;const n=Vh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Vh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ei;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ss(e))throw e;se(Tg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(o=>{this.gu=o,this.pu=!1;const s=function(h){let p=h.message||"";return h.stack&&(p=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),p}(o);throw Tr("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.pu=!1,o))));return this.Su=n,n}enqueueAfterDelay(e,n,o){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Mf.createAndSchedule(this,e,n,o,u=>this.Fu(u));return this.fu.push(s),s}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Sg(i){return function(n,o){if(typeof n!="object"||n===null)return!1;const s=n;for(const u of o)if(u in s&&typeof s[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ia extends Ku{constructor(e,n,o,s){super(e,n,o,s),this.type="firestore",this._queue=new Ig,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ig(e),this._firestoreClient=void 0,await e}}}function qS(i,e){const n=typeof i=="object"?i:Uw(),o=typeof i=="string"?i:_u,s=Lw(n,"firestore").getImmediate({identifier:o});if(!s._initialized){const u=RE("firestore");u&&HS(s,...u)}return s}function Bf(i){if(i._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||KS(i),i._firestoreClient}function KS(i){var e,n,o;const s=i._freezeSettings(),u=function(p,g,_,E){return new gT(p,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,R_(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new US(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ts(Nt.fromBase64String(e))}catch(n){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ts(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let u=0;u<o.length;++u)if(o[u]!==s[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=/^__.*__$/;class GS{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new ka(e,this.data,n,this.fieldTransforms)}}function N_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class qf{constructor(e,n,o,s,u,h){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=s,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:o,Qu:!1});return s.$u(e),s}Ku(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:o,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(N_(this.Lu)&&QS.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class XS{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Hu(e)}ju(e,n,o,s=!1){return new qf({Lu:e,methodName:n,zu:o,path:Dt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YS(i){const e=i._freezeSettings(),n=Hu(i._databaseId);return new XS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function JS(i,e,n,o,s,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,s);M_("Data must be an object, but it was:",h,o);const p=L_(o,h);let g,_;if(u.merge)g=new On(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const I of u.mergeFields){const R=ZS(e,I,n);if(!h.contains(R))throw new me(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);tA(E,R)||E.push(R)}g=new On(E),_=h.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,_=h.fieldTransforms;return new GS(new _n(p),g,_)}function V_(i,e){if(O_(i=Qo(i)))return M_("Unsupported field value:",e,i),L_(i,e);if(i instanceof D_)return function(o,s){if(!N_(s.Lu))throw s.Wu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(o,s){const u=[];let h=0;for(const p of o){let g=V_(p,s.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(o,s){if((o=Qo(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return UT(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const u=_t.fromDate(o);return{timestampValue:Su(s.serializer,u)}}if(o instanceof _t){const u=new _t(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Su(s.serializer,u)}}if(o instanceof Hf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ts)return{bytesValue:Gy(s.serializer,o._byteString)};if(o instanceof vn){const u=s.databaseId,h=o.firestore._databaseId;if(!h.isEqual(u))throw s.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rf(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof Wf)return function(h,p){return{mapValue:{fields:{[Iy]:{stringValue:Ay},[vu]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw p.Wu("VectorValues must only contain numeric values.");return Sf(p.serializer,_)})}}}}}}(o,s);throw s.Wu(`Unsupported field value: ${jf(o)}`)}(i,e)}function L_(i,e){const n={};return yy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(i,(o,s)=>{const u=V_(s,e.qu(o));u!=null&&(n[o]=u)}),{mapValue:{fields:n}}}function O_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof _t||i instanceof Hf||i instanceof ts||i instanceof vn||i instanceof D_||i instanceof Wf)}function M_(i,e,n){if(!O_(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const o=jf(n);throw o==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+o)}}function ZS(i,e,n){if((e=Qo(e))instanceof $f)return e._internalPath;if(typeof e=="string")return b_(i,e);throw Pu("Field path arguments must be of type string or ",i,!1,void 0,n)}const eA=new RegExp("[~\\*/\\[\\]]");function b_(i,e,n){if(e.search(eA)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $f(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Pu(i,e,n,o,s){const u=o&&!o.isEmpty(),h=s!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${o}`),h&&(g+=` in document ${s}`),g+=")"),new me(J.INVALID_ARGUMENT,p+i+g)}function tA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,o,s,u){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(U_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nA extends F_{data(){return super.data()}}function U_(i,e){return typeof e=="string"?b_(i,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rA{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Wi(e,(s,u)=>{o[s]=this.convertValue(u,n)}),o}convertVectorValue(e){var n,o,s;const u=(s=(o=(n=e.fields)===null||n===void 0?void 0:n[vu].arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(h=>at(h.doubleValue));return new Wf(u)}convertGeoPoint(e){return new Hf(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=bu(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const n=ii(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=et.fromString(e);$e(t_(o));const s=new va(o.get(1),o.get(3)),u=new ve(o.popFirst(5));return s.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(i,e,n){let o;return o=i?i.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j_ extends F_{constructor(e,n,o,s,u,h){super(e,n,o,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(U_("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class uu extends j_{data(e={}){return super.data(e)}}class B_{constructor(e,n,o,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new la(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new uu(this._firestore,this._userDataWriter,o.key,o,new la(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(p=>{const g=new uu(s._firestore,s._userDataWriter,p.doc.key,p.doc,new la(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new uu(s._firestore,s._userDataWriter,p.doc.key,p.doc,new la(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,E=-1;return p.type!==0&&(_=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:oA(p.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Kf extends rA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function sA(i){i=zi(i,Va);const e=zi(i.firestore,Ia),n=Bf(e),o=new Kf(e);return z_(i._query),BS(n,i._query).then(s=>new B_(e,o,i,s))}function aA(i,e){const n=zi(i.firestore,Ia),o=WS(i),s=iA(i.converter,e);return uA(n,[JS(YS(i.firestore),"addDoc",o._key,s,i.converter!==null,{}).toMutation(o._key,vr.exists(!1))]).then(()=>o)}function lA(i,...e){var n,o,s;i=Qo(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Sg(e[h])||(u=e[h],h++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Sg(e[h])){const I=e[h];e[h]=(n=I.next)===null||n===void 0?void 0:n.bind(I),e[h+1]=(o=I.error)===null||o===void 0?void 0:o.bind(I),e[h+2]=(s=I.complete)===null||s===void 0?void 0:s.bind(I)}let g,_,E;if(i instanceof vn)_=zi(i.firestore,Ia),E=If(i._key.path),g={next:I=>{e[h]&&e[h](cA(_,i,I))},error:e[h+1],complete:e[h+2]};else{const I=zi(i,Va);_=zi(I.firestore,Ia),E=I._query;const R=new Kf(_);g={next:V=>{e[h]&&e[h](new B_(_,R,I,V))},error:e[h+1],complete:e[h+2]},z_(i._query)}return function(R,V,M,z){const O=new A_(z),j=new g_(V,O,M);return R.asyncQueue.enqueueAndForget(async()=>p_(await af(R),j)),()=>{O.su(),R.asyncQueue.enqueueAndForget(async()=>m_(await af(R),j))}}(Bf(_),E,p,g)}function uA(i,e){return function(o,s){const u=new ei;return o.asyncQueue.enqueueAndForget(async()=>xS(await jS(o),s,u)),u.promise}(Bf(i),e)}function cA(i,e,n){const o=n.docs.get(e._key),s=new Kf(i);return new j_(i,s,e._key,o,new la(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){is=s})(Fw),gu(new ma("firestore",(o,{instanceIdentifier:s,options:u})=>{const h=o.getProvider("app").getImmediate(),p=new Ia(new eT(o.getProvider("auth-internal")),new rT(h,o.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(_.options.projectId,E)}(h,s),h);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),qo(xm,Dm,e),qo(xm,Dm,"esm2017")})();const hA={apiKey:"AIzaSyDIk3zgX22IKmKROucbU82jmb6INd90Ry8",authDomain:"logo-game-e883a.firebaseapp.com",projectId:"logo-game-e883a",storageBucket:"logo-game-e883a.firebasestorage.app",messagingSenderId:"193599342855",appId:"1:193599342855:web:1abcc70f472e4104e25da2"},fA=oy(hA),$_=qS(fA),dA=({questionNum:i,correctNum:e,score:n,onShowRanking:o})=>{const[s,u]=$.useState({correct:0,questions:0,name:"anonymous",score:0,timestamp:new Date}),h=g=>{u(_=>({..._,name:g.target.value}))},p=async()=>{if(s.name){try{s.correct=e,s.questions=i,s.score=n,console.log(s);const g=await aA(x_($_,"scores"),s);console.log(":",g.id),Be.info("Registered!"),setTimeout(()=>{o(!0)},1e3)}catch(g){console.error("Error",g),Be.error(`Error: ${g}`)}console.log("submit!")}};return ce.jsx(ce.Fragment,{children:ce.jsxs("div",{className:"finish",children:[ce.jsx(Gg,{theme:"dark"}),ce.jsx("h1",{className:"finishTitle",children:"Time up!"}),ce.jsx("p",{children:"Thank you for playing!"}),ce.jsxs("div",{className:"finishScore",children:[ce.jsxs("p",{children:["Score: ",n]}),ce.jsxs("p",{children:["Correct: ",e,"/",i]})]}),ce.jsxs("div",{className:"finishInputArea",children:[ce.jsx("label",{htmlFor:"finishInput",children:"Please fill in your name!"}),ce.jsx("input",{type:"text",className:"finishInput",id:"finishInput",placeholder:"Your name",onChange:h}),ce.jsx("input",{type:"button",className:"finishInputBtn",value:"OK",onClick:p})]})]})})};function H_(i){return pf({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32l0 192c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-192c0-17.7-14.3-32-32-32l-128 0zM32 320c-17.7 0-32 14.3-32 32L0 480c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L32 320zm416 96l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-128 0c-17.7 0-32 14.3-32 32z"},child:[]}]})(i)}const pA=()=>{const[i,e]=$.useState([]);return $.useEffect(()=>{const n=x_($_,"scores");sA(n).then(o=>{e(o.docs.map(s=>({id:s.id,...s.data()})).sort((s,u)=>u.score-s.score)),console.log(i)}),lA(n,o=>{e(o.docs.map(s=>({id:s.id,...s.data()})).sort((s,u)=>u.score-s.score))})},[]),ce.jsxs("div",{className:"card",children:[ce.jsxs("h2",{style:{fontSize:"32px",color:"#fff"},children:[ce.jsx(H_,{style:{verticalAlign:"bottom",paddingBottom:"5px",marginRight:"10px"}}),"Ranking"]}),ce.jsx("ul",{className:"ranking",children:i.map((n,o)=>ce.jsxs("li",{children:[ce.jsx("div",{children:o+1}),ce.jsx("div",{children:n.name}),ce.jsxs("div",{children:[ce.jsx("div",{children:n.score}),ce.jsxs("div",{style:{fontSize:"16px"},children:["(",n.correct,"/",n.questions,")"]})]})]},n.id))})]})},mA=()=>{const[n,o]=$.useState(!0),[s,u]=$.useState(!1),[h,p]=$.useState(!1),[g,_]=$.useState(!1),[E,I]=$.useState(0),[R,V]=$.useState(0),[M,z]=$.useState(30),[O,j]=$.useState(0),[q,K]=$.useState(0),[ee,le]=$.useState(!1),[he,P]=$.useState(50),T=Ie=>{u(!Ie),p(Ie),console.log("finish")},S=Ie=>{u(!Ie),p(!Ie),o(!Ie),_(Ie)},k=()=>{console.log("start"),u(!0),o(!1)},x=Ie=>{I(Ie)},L=Ie=>{V(Ie)},C=Ie=>{z(Ie)},je=Ie=>{Ie?(ee&&K(Pe=>Pe+1),le(!0)):(K(0),le(!1))},We=Ie=>{P(Ie?60:0)};return $.useMemo(()=>{j(Ie=>Ie+50+10*q-he)},[R]),$.useMemo(()=>{console.log(`score: ${O}, streakNum: ${q}, penalty: ${he}`)},[O,q,he]),ce.jsxs(ce.Fragment,{children:[ce.jsx("header",{children:ce.jsxs("div",{className:"container",children:[ce.jsx("nav",{className:"header_nav",children:s&&ce.jsxs("ul",{children:[ce.jsxs("li",{children:[ce.jsx(gE,{}),ce.jsx("span",{className:"point",children:O})]}),ce.jsxs("li",{children:[ce.jsx(mE,{}),ce.jsx("span",{className:"point",children:M}),"s"]})]})}),ce.jsx("div",{className:"headerRanking",title:"Ranking",onClick:()=>S(!0),children:ce.jsx(H_,{title:"Ranking"})}),ce.jsx("div",{className:"logo",children:ce.jsx("a",{href:"",children:"logo"})})]})}),ce.jsx("main",{children:ce.jsxs("div",{className:"container",children:[s&&ce.jsx(aE,{onTimeUpdate:C,onCorrectUpdate:x,questionNum:R,correctNum:E,onQuestionUpdate:L,onFinish:T,onSteakUpdate:je,onPenaltyUpdate:We}),n&&ce.jsxs("div",{className:"wrapper",children:[ce.jsx("h1",{className:"main_title neonText",children:"LOGO GAME"}),ce.jsx("p",{className:"main_sub_title",children:"- How many logos do you know? -"}),ce.jsx("button",{onClick:()=>k(),className:"start_btn",children:"START"})]}),h&&ce.jsx(dA,{correctNum:E,questionNum:R,score:O,onShowRanking:S}),g&&ce.jsx(pA,{})]})}),ce.jsx("footer",{children:ce.jsx("p",{children:" 2025 Mizuki Aoki"})})]})};n0.createRoot(document.getElementById("root")).render(ce.jsx(g1,{basename:"/logo_game",children:ce.jsx(mA,{})}));
